/*! For license information please see 63c6f76e4887eb2e68b9.chunk.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{100:function(e,t,a){"use strict";a.d(t,"n",(function(){return n})),a.d(t,"o",(function(){return r})),a.d(t,"q",(function(){return o})),a.d(t,"i",(function(){return i})),a.d(t,"j",(function(){return s})),a.d(t,"m",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return p})),a.d(t,"g",(function(){return h})),a.d(t,"f",(function(){return f})),a.d(t,"l",(function(){return m})),a.d(t,"k",(function(){return b})),a.d(t,"h",(function(){return g})),a.d(t,"p",(function(){return v})),a.d(t,"b",(function(){return y}));const n={offline:"danger",failed:"danger",pending:"info",fetching:"info",running:"warning",stopped:"danger",success:"success"},r={success:"success",failed:"failed",running:"running",offline:"offline",pending:"pending"},o=["now","1 hour ago","1 day ago","7 days ago","28 days ago","90 days ago","1 year ago"],i=5,s=3,l=51,c=1024,u=2,d=864e5,p=5120,h=.9,f=8e3,m=100,b=90,g=60,v=55,y=50},1076:function(e,t,a){},1079:function(e,t,a){},1080:function(e,t,a){},1081:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPicker=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=l(a(1)),o=l(a(50)),i=a(92),s=l(a(1099));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.AlphaPicker=function(e){var t=e.rgb,a=e.hsl,s=e.width,l=e.height,c=e.onChange,u=e.direction,d=e.style,p=e.renderers,h=e.pointer,f=e.className,m=void 0===f?"":f,b=(0,o.default)({default:{picker:{position:"relative",width:s,height:l},alpha:{radius:"2px",style:d}}});return r.default.createElement("div",{style:b.picker,className:"alpha-picker "+m},r.default.createElement(i.Alpha,n({},b.alpha,{rgb:t,hsl:a,pointer:h,renderers:p,onChange:c,direction:u})))};c.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},t.default=(0,i.ColorWrap)(c)},1082:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var n=s(a(1003)),r=s(a(786)),o=s(a(293)),i=s(a(267));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=[];return(0,i.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return a.push(e)})):(0,o.default)(t)?(0,r.default)(t,(function(e,t){!0===e&&a.push(t),a.push(t+"-"+e)})):(0,n.default)(t)&&a.push(t)})),a};t.default=l},1083:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var n=i(a(786)),r=i(a(1470)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function i(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=e.default&&(0,r.default)(e.default)||{};return t.map((function(t){var r=e[t];return r&&(0,n.default)(r,(function(e,t){a[t]||(a[t]={}),a[t]=o({},a[t],r[t])})),t})),a};t.default=s},1084:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var n,r=a(786),o=(n=r)&&n.__esModule?n:{default:n},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var a=t[e];return a||{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,o.default)(e,(function(e,a){var n={};(0,o.default)(e,(function(e,t){var a=s[t];a?n=i({},n,a(e)):n[t]=e})),t[a]=n})),t};t.default=l},1085:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var n,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=a(1),i=(n=o)&&n.__esModule?n:{default:n};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(a){function n(){var a,o,c;s(this,n);for(var u=arguments.length,d=Array(u),p=0;p<u;p++)d[p]=arguments[p];return o=c=l(this,(a=n.__proto__||Object.getPrototypeOf(n)).call.apply(a,[this].concat(d))),c.state={hover:!1},c.handleMouseOver=function(){return c.setState({hover:!0})},c.handleMouseOut=function(){return c.setState({hover:!1})},c.render=function(){return i.default.createElement(t,{onMouseOver:c.handleMouseOver,onMouseOut:c.handleMouseOut},i.default.createElement(e,r({},c.props,c.state)))},l(c,o)}return c(n,a),n}(i.default.Component)};t.default=u},1086:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var n,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=a(1),i=(n=o)&&n.__esModule?n:{default:n};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(a){function n(){var a,o,c;s(this,n);for(var u=arguments.length,d=Array(u),p=0;p<u;p++)d[p]=arguments[p];return o=c=l(this,(a=n.__proto__||Object.getPrototypeOf(n)).call.apply(a,[this].concat(d))),c.state={active:!1},c.handleMouseDown=function(){return c.setState({active:!0})},c.handleMouseUp=function(){return c.setState({active:!1})},c.render=function(){return i.default.createElement(t,{onMouseDown:c.handleMouseDown,onMouseUp:c.handleMouseUp},i.default.createElement(e,r({},c.props,c.state)))},l(c,o)}return c(n,a),n}(i.default.Component)};t.default=u},1087:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var a={},n=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];a[e]=t};return 0===e&&n("first-child"),e===t-1&&n("last-child"),(0===e||e%2==0)&&n("even"),1===Math.abs(e%2)&&n("odd"),n("nth-child",e),a}},1088:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(1),i=u(o),s=u(a(50)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1089)),c=u(a(848));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=t.Alpha=function(e){function t(){var e,a,n;d(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.handleChange=function(e,t){var a=l.calculateChange(e,t,n.props,n.container);a&&n.props.onChange&&n.props.onChange(a,e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleChange),window.removeEventListener("mouseup",n.handleMouseUp)},p(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,a=(0,s.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:n({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return i.default.createElement("div",{style:a.alpha},i.default.createElement("div",{style:a.checkboard},i.default.createElement(c.default,{renderers:this.props.renderers})),i.default.createElement("div",{style:a.gradient}),i.default.createElement("div",{style:a.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("div",{style:a.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:a.slider}))))}}]),t}(o.PureComponent||o.Component);t.default=h},1089:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,a,n){e.preventDefault();var r=n.clientWidth,o=n.clientHeight,i="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=i-(n.getBoundingClientRect().left+window.pageXOffset),c=s-(n.getBoundingClientRect().top+window.pageYOffset);if("vertical"===a.direction){var u=void 0;if(u=c<0?0:c>o?1:Math.round(100*c/o)/100,a.hsl.a!==u)return{h:a.hsl.h,s:a.hsl.s,l:a.hsl.l,a:u,source:"rgb"}}else{var d=void 0;if(d=l<0?0:l>r?1:Math.round(100*l/r)/100,a.a!==d)return{h:a.hsl.h,s:a.hsl.s,l:a.hsl.l,a:d,source:"rgb"}}return null}},1090:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={},r=t.render=function(e,t,a,n){if("undefined"==typeof document&&!n)return null;var r=n?new n:document.createElement("canvas");r.width=2*a,r.height=2*a;var o=r.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,r.width,r.height),o.fillStyle=t,o.fillRect(0,0,a,a),o.translate(a,a),o.fillRect(0,0,a,a),r.toDataURL()):null};t.get=function(e,t,a,o){var i=e+"-"+t+"-"+a+(o?"-server":""),s=r(e,t,a,o);return n[i]?n[i]:(n[i]=s,s)}},1091:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(1),o=s(r),i=s(a(50));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.handleBlur=function(){a.state.blurValue&&a.setState({value:a.state.blurValue,blurValue:null})},a.handleChange=function(e){a.props.label?a.props.onChange&&a.props.onChange(l({},a.props.label,e.target.value),e):a.props.onChange&&a.props.onChange(e.target.value,e),a.setState({value:e.target.value})},a.handleKeyDown=function(e){var t=String(e.target.value),n=t.indexOf("%")>-1,r=Number(t.replace(/%/g,""));if(!isNaN(r)){var o=a.props.arrowOffset||1;38===e.keyCode&&(null!==a.props.label?a.props.onChange&&a.props.onChange(l({},a.props.label,r+o),e):a.props.onChange&&a.props.onChange(r+o,e),n?a.setState({value:r+o+"%"}):a.setState({value:r+o})),40===e.keyCode&&(null!==a.props.label?a.props.onChange&&a.props.onChange(l({},a.props.label,r-o),e):a.props.onChange&&a.props.onChange(r-o,e),n?a.setState({value:r-o+"%"}):a.setState({value:r-o}))}},a.handleDrag=function(e){if(a.props.dragLabel){var t=Math.round(a.props.value+e.movementX);t>=0&&t<=a.props.dragMax&&a.props.onChange&&a.props.onChange(l({},a.props.label,t),e)}},a.handleMouseDown=function(e){a.props.dragLabel&&(e.preventDefault(),a.handleDrag(e),window.addEventListener("mousemove",a.handleDrag),window.addEventListener("mouseup",a.handleMouseUp))},a.handleMouseUp=function(){a.unbindEventListeners()},a.unbindEventListeners=function(){window.removeEventListener("mousemove",a.handleDrag),window.removeEventListener("mouseup",a.handleMouseUp)},a.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=(0,i.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return o.default.createElement("div",{style:t.wrap},o.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?o.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(r.PureComponent||r.Component);t.default=c},1092:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(1),o=l(r),i=l(a(50)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1093));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.Hue=function(e){function t(){var e,a,n;c(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.handleChange=function(e,t){var a=s.calculateChange(e,t,n.props,n.container);a&&n.props.onChange&&n.props.onChange(a,e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},u(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,a=void 0===t?"horizontal":t,n=(0,i.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===a});return o.default.createElement("div",{style:n.hue},o.default.createElement("div",{className:"hue-"+a,style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),o.default.createElement("div",{style:n.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:n.slider}))))}}]),t}(r.PureComponent||r.Component);t.default=d},1093:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,a,n){e.preventDefault();var r=n.clientWidth,o=n.clientHeight,i="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=i-(n.getBoundingClientRect().left+window.pageXOffset),c=s-(n.getBoundingClientRect().top+window.pageYOffset);if("vertical"===a.direction){var u=void 0;if(c<0)u=359;else if(c>o)u=0;else{u=360*(-100*c/o+100)/100}if(a.hsl.h!==u)return{h:u,s:a.hsl.s,l:a.hsl.l,a:a.hsl.a,source:"rgb"}}else{var d=void 0;if(l<0)d=0;else if(l>r)d=359;else{d=360*(100*l/r)/100}if(a.hsl.h!==d)return{h:d,s:a.hsl.s,l:a.hsl.l,a:a.hsl.a,source:"rgb"}}return null}},1094:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var n=i(a(1)),r=i(a(2)),o=i(a(50));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.Raised=function(e){var t=e.zDepth,a=e.radius,r=e.background,i=e.children,s=(0,o.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:a,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},{"zDepth-1":1===t});return n.default.createElement("div",{style:s.wrap},n.default.createElement("div",{style:s.bg}),n.default.createElement("div",{style:s.content},i))};s.propTypes={background:r.default.string,zDepth:r.default.oneOf([0,1,2,3,4,5]),radius:r.default.number},s.defaultProps={background:"#fff",zDepth:1,radius:2},t.default=s},1095:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(1),o=c(r),i=c(a(50)),s=c(a(659)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1096));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChange=function(e,t){a.props.onChange&&a.throttle(a.props.onChange,l.calculateChange(e,t,a.props,a.container),e)},a.handleMouseDown=function(e){a.handleChange(e,!0),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},a.throttle=(0,s.default)((function(e,t,a){e(t,a)}),50),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},a=t.color,n=t.white,r=t.black,s=t.pointer,l=t.circle,c=(0,i.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:a,white:n,black:r,pointer:s,circle:l}},{custom:!!this.props.style});return o.default.createElement("div",{style:c.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),o.default.createElement("div",{style:c.white,className:"saturation-white"},o.default.createElement("div",{style:c.black,className:"saturation-black"}),o.default.createElement("div",{style:c.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:c.circle}))))}}]),t}(r.PureComponent||r.Component);t.default=u},1096:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,a,n){e.preventDefault();var r=n.getBoundingClientRect(),o=r.width,i=r.height,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=s-(n.getBoundingClientRect().left+window.pageXOffset),u=l-(n.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o?c=o:u<0?u=0:u>i&&(u=i);var d=100*c/o,p=-100*u/i+100;return{h:a.hsl.h,s:d,v:p,a:a.hsl.a,source:"rgb"}}},1097:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=l(a(1)),o=l(a(50)),i=a(1098),s=a(92);function l(e){return e&&e.__esModule?e:{default:e}}var c=t.Swatch=function(e){var t=e.color,a=e.style,i=e.onClick,l=void 0===i?function(){}:i,c=e.onHover,u=e.title,d=void 0===u?t:u,p=e.children,h=e.focus,f=e.focusStyle,m=void 0===f?{}:f,b="transparent"===t,g=(0,o.default)({default:{swatch:n({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},a,h?m:{})}}),v={};return c&&(v.onMouseOver=function(e){return c(t,e)}),r.default.createElement("div",n({style:g.swatch,onClick:function(e){return l(t,e)},title:d,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&l(t,e)}},v),p,b&&r.default.createElement(s.Checkboard,{borderRadius:g.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,i.handleFocus)(c)},1098:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var n,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(1),s=(n=i)&&n.__esModule?n:{default:n};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(a){function n(){var e,t,a;l(this,n);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=a=c(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},c(a,t)}return u(n,a),o(n,[{key:"render",value:function(){return s.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},s.default.createElement(e,r({},this.props,this.state)))}}]),n}(s.default.Component)}},1099:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPointer=void 0;var n=o(a(1)),r=o(a(50));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.AlphaPointer=function(e){var t=e.direction,a=(0,r.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return n.default.createElement("div",{style:a.picker})};t.default=i},1100:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var n=c(a(1)),r=c(a(2)),o=c(a(50)),i=c(a(205)),s=a(92),l=c(a(1101));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Block=function(e){var t=e.onChange,a=e.onSwatchHover,r=e.hex,c=e.colors,u=e.width,d=e.triangle,p=e.className,h=void 0===p?"":p,f="transparent"===r,m=function(e,a){i.default.isValidHex(e)&&t({hex:e,source:"hex"},a)},b=(0,o.default)({default:{card:{width:u,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:r,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:i.default.getContrastingColor(r),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+r+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},{"hide-triangle":"hide"===d});return n.default.createElement("div",{style:b.card,className:"block-picker "+h},n.default.createElement("div",{style:b.triangle}),n.default.createElement("div",{style:b.head},f&&n.default.createElement(s.Checkboard,{borderRadius:"6px 6px 0 0"}),n.default.createElement("div",{style:b.label},r)),n.default.createElement("div",{style:b.body},n.default.createElement(l.default,{colors:c,onClick:m,onSwatchHover:a}),n.default.createElement(s.EditableInput,{style:{input:b.input},value:r,onChange:m})))};u.propTypes={width:r.default.oneOfType([r.default.string,r.default.number]),colors:r.default.arrayOf(r.default.string),triangle:r.default.oneOf(["top","hide"])},u.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top"},t.default=(0,s.ColorWrap)(u)},1101:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSwatches=void 0;var n=s(a(1)),r=s(a(50)),o=s(a(267)),i=a(92);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.BlockSwatches=function(e){var t=e.colors,a=e.onClick,s=e.onSwatchHover,l=(0,r.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return n.default.createElement("div",{style:l.swatches},(0,o.default)(t,(function(e){return n.default.createElement(i.Swatch,{key:e,color:e,style:l.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"0 0 4px "+e}})})),n.default.createElement("div",{style:l.clear}))};t.default=l},1102:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var n=u(a(1)),r=u(a(2)),o=u(a(50)),i=u(a(267)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(850)),l=a(92),c=u(a(1103));function u(e){return e&&e.__esModule?e:{default:e}}var d=t.Circle=function(e){var t=e.width,a=e.onChange,r=e.onSwatchHover,s=e.colors,l=e.hex,u=e.circleSize,d=e.circleSpacing,p=e.className,h=void 0===p?"":p,f=(0,o.default)({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-d,marginBottom:-d}}}),m=function(e,t){return a({hex:e,source:"hex"},t)};return n.default.createElement("div",{style:f.card,className:"circle-picker "+h},(0,i.default)(s,(function(e){return n.default.createElement(c.default,{key:e,color:e,onClick:m,onSwatchHover:r,active:l===e.toLowerCase(),circleSize:u,circleSpacing:d})})))};d.propTypes={width:r.default.oneOfType([r.default.string,r.default.number]),circleSize:r.default.number,circleSpacing:r.default.number},d.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[s.red[500],s.pink[500],s.purple[500],s.deepPurple[500],s.indigo[500],s.blue[500],s.lightBlue[500],s.cyan[500],s.teal[500],s.green[500],s.lightGreen[500],s.lime[500],s.yellow[500],s.amber[500],s.orange[500],s.deepOrange[500],s.brown[500],s.blueGrey[500]]},t.default=(0,l.ColorWrap)(d)},1103:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircleSwatch=void 0;var n=s(a(1)),r=a(50),o=s(r),i=a(92);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CircleSwatch=function(e){var t=e.color,a=e.onClick,r=e.onSwatchHover,s=e.hover,l=e.active,c=e.circleSize,u=e.circleSpacing,d=(0,o.default)({default:{swatch:{width:c,height:c,marginRight:u,marginBottom:u,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+c/2+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:s,active:l});return n.default.createElement("div",{style:d.swatch},n.default.createElement(i.Swatch,{style:d.Swatch,color:t,onClick:a,onHover:r,focusStyle:{boxShadow:d.Swatch.boxShadow+", 0 0 5px "+t}}))};l.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,r.handleHover)(l)},1104:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var n=u(a(1)),r=u(a(2)),o=u(a(50)),i=a(92),s=u(a(1105)),l=u(a(1106)),c=u(a(1107));function u(e){return e&&e.__esModule?e:{default:e}}var d=t.Chrome=function(e){var t=e.onChange,a=e.disableAlpha,r=e.rgb,u=e.hsl,d=e.hsv,p=e.hex,h=e.renderers,f=e.className,m=void 0===f?"":f,b=(0,o.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+r.r+", "+r.g+", "+r.b+", "+r.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},{disableAlpha:a});return n.default.createElement("div",{style:b.picker,className:"chrome-picker "+m},n.default.createElement("div",{style:b.saturation},n.default.createElement(i.Saturation,{style:b.Saturation,hsl:u,hsv:d,pointer:c.default,onChange:t})),n.default.createElement("div",{style:b.body},n.default.createElement("div",{style:b.controls,className:"flexbox-fix"},n.default.createElement("div",{style:b.color},n.default.createElement("div",{style:b.swatch},n.default.createElement("div",{style:b.active}),n.default.createElement(i.Checkboard,{renderers:h}))),n.default.createElement("div",{style:b.toggles},n.default.createElement("div",{style:b.hue},n.default.createElement(i.Hue,{style:b.Hue,hsl:u,pointer:l.default,onChange:t})),n.default.createElement("div",{style:b.alpha},n.default.createElement(i.Alpha,{style:b.Alpha,rgb:r,hsl:u,pointer:l.default,renderers:h,onChange:t})))),n.default.createElement(s.default,{rgb:r,hsl:u,hex:p,onChange:t,disableAlpha:a})))};d.propTypes={disableAlpha:r.default.bool},d.defaultProps={disableAlpha:!1},t.default=(0,i.ColorWrap)(d)},1105:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=l(a(1)),o=l(a(50)),i=l(a(205)),s=a(92);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.ChromeFields=function(e){function t(){var e,a,n;c(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={view:""},n.toggleViews=function(){"hex"===n.state.view?n.setState({view:"rgb"}):"rgb"===n.state.view?n.setState({view:"hsl"}):"hsl"===n.state.view&&(1===n.props.hsl.a?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(e,t){e.hex?i.default.isValidHex(e.hex)&&n.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?n.props.onChange({r:e.r||n.props.rgb.r,g:e.g||n.props.rgb.g,b:e.b||n.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&n.props.onChange({h:e.h||n.props.hsl.h,s:Number(e.s&&e.s||n.props.hsl.s),l:Number(e.l&&e.l||n.props.hsl.l),source:"hsl"},t)},n.showHighlight=function(e){e.target.style.background="#eee"},n.hideHighlight=function(e){e.target.style.background="transparent"},u(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(e){1!==e.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function(){var e=this,t=(0,o.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),a=void 0;return"hex"===this.state.view?a=r.default.createElement("div",{style:t.fields,className:"flexbox-fix"},r.default.createElement("div",{style:t.field},r.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?a=r.default.createElement("div",{style:t.fields,className:"flexbox-fix"},r.default.createElement("div",{style:t.field},r.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),r.default.createElement("div",{style:t.field},r.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),r.default.createElement("div",{style:t.field},r.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),r.default.createElement("div",{style:t.alpha},r.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(a=r.default.createElement("div",{style:t.fields,className:"flexbox-fix"},r.default.createElement("div",{style:t.field},r.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),r.default.createElement("div",{style:t.field},r.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),r.default.createElement("div",{style:t.field},r.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),r.default.createElement("div",{style:t.alpha},r.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),r.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},a,r.default.createElement("div",{style:t.toggle},r.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},r.default.createElement("svg",{style:t.svg,viewBox:"0 0 24 24",onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight},r.default.createElement("path",{ref:function(t){return e.iconUp=t},fill:"#333",d:"M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}),r.default.createElement("path",{ref:function(t){return e.iconDown=t},fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15Z"})))))}}]),t}(r.default.Component);t.default=d},1106:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var n=o(a(1)),r=o(a(50));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.ChromePointer=function(){var e=(0,r.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return n.default.createElement("div",{style:e.picker})};t.default=i},1107:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var n=o(a(1)),r=o(a(50));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.ChromePointerCircle=function(){var e=(0,r.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return n.default.createElement("div",{style:e.picker})};t.default=i},1108:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Compact=void 0;var n=d(a(1)),r=d(a(2)),o=d(a(50)),i=d(a(267)),s=d(a(205)),l=a(92),c=d(a(1109)),u=d(a(1110));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.Compact=function(e){var t=e.onChange,a=e.onSwatchHover,r=e.colors,d=e.hex,p=e.rgb,h=e.className,f=void 0===h?"":h,m=(0,o.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}}),b=function(e,a){e.hex?s.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},a):t(e,a)};return n.default.createElement(l.Raised,{style:m.Compact},n.default.createElement("div",{style:m.compact,className:"compact-picker "+f},n.default.createElement("div",null,(0,i.default)(r,(function(e){return n.default.createElement(c.default,{key:e,color:e,active:e.toLowerCase()===d,onClick:b,onSwatchHover:a})})),n.default.createElement("div",{style:m.clear})),n.default.createElement(u.default,{hex:d,rgb:p,onChange:b})))};p.propTypes={colors:r.default.arrayOf(r.default.string)},p.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]},t.default=(0,l.ColorWrap)(p)},1109:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactColor=void 0;var n=s(a(1)),r=s(a(50)),o=s(a(205)),i=a(92);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CompactColor=function(e){var t=e.color,a=e.onClick,s=void 0===a?function(){}:a,l=e.onSwatchHover,c=e.active,u=(0,r.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:o.default.getContrastingColor(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:c,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return n.default.createElement(i.Swatch,{style:u.color,color:t,onClick:s,onHover:l,focusStyle:{boxShadow:"0 0 4px "+t}},n.default.createElement("div",{style:u.dot}))};t.default=l},1110:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactFields=void 0;var n=i(a(1)),r=i(a(50)),o=a(92);function i(e){return e&&e.__esModule?e:{default:e}}var s=t.CompactFields=function(e){var t=e.hex,a=e.rgb,i=e.onChange,s=(0,r.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),l=function(e,t){e.r||e.g||e.b?i({r:e.r||a.r,g:e.g||a.g,b:e.b||a.b,source:"rgb"},t):i({hex:e.hex,source:"hex"},t)};return n.default.createElement("div",{style:s.fields,className:"flexbox-fix"},n.default.createElement("div",{style:s.active}),n.default.createElement(o.EditableInput,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:t,onChange:l}),n.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:a.r,onChange:l}),n.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:a.g,onChange:l}),n.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:a.b,onChange:l}))};t.default=s},1111:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Github=void 0;var n=c(a(1)),r=c(a(2)),o=c(a(50)),i=c(a(267)),s=a(92),l=c(a(1112));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Github=function(e){var t=e.width,a=e.colors,r=e.onChange,s=e.onSwatchHover,c=e.triangle,u=e.className,d=void 0===u?"":u,p=(0,o.default)({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},{"hide-triangle":"hide"===c,"top-left-triangle":"top-left"===c,"top-right-triangle":"top-right"===c,"bottom-left-triangle":"bottom-left"==c,"bottom-right-triangle":"bottom-right"===c}),h=function(e,t){return r({hex:e,source:"hex"},t)};return n.default.createElement("div",{style:p.card,className:"github-picker "+d},n.default.createElement("div",{style:p.triangleShadow}),n.default.createElement("div",{style:p.triangle}),(0,i.default)(a,(function(e){return n.default.createElement(l.default,{color:e,key:e,onClick:h,onSwatchHover:s})})))};u.propTypes={width:r.default.oneOfType([r.default.string,r.default.number]),colors:r.default.arrayOf(r.default.string),triangle:r.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"])},u.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left"},t.default=(0,s.ColorWrap)(u)},1112:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GithubSwatch=void 0;var n=s(a(1)),r=a(50),o=s(r),i=a(92);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.GithubSwatch=function(e){var t=e.hover,a=e.color,r=e.onClick,s=e.onSwatchHover,l={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},c=(0,o.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:l}},{hover:t});return n.default.createElement("div",{style:c.swatch},n.default.createElement(i.Swatch,{color:a,onClick:r,onHover:s,focusStyle:l}))};t.default=(0,r.handleHover)(l)},1113:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HuePicker=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=l(a(1)),o=l(a(50)),i=a(92),s=l(a(1114));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.HuePicker=function(e){var t=e.width,a=e.height,s=e.onChange,l=e.hsl,c=e.direction,u=e.pointer,d=e.className,p=void 0===d?"":d,h=(0,o.default)({default:{picker:{position:"relative",width:t,height:a},hue:{radius:"2px"}}});return r.default.createElement("div",{style:h.picker,className:"hue-picker "+p},r.default.createElement(i.Hue,n({},h.hue,{hsl:l,pointer:u,onChange:function(e){return s({a:1,h:e.h,l:.5,s:1})},direction:c})))};c.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},t.default=(0,i.ColorWrap)(c)},1114:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var n=o(a(1)),r=o(a(50));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderPointer=function(e){var t=e.direction,a=(0,r.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return n.default.createElement("div",{style:a.picker})};t.default=i},1115:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var n=s(a(1)),r=s(a(50)),o=s(a(205)),i=a(92);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.Material=function(e){var t=e.onChange,a=e.hex,s=e.rgb,l=e.className,c=void 0===l?"":l,u=(0,r.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+a,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}}),d=function(e,a){e.hex?o.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},a):(e.r||e.g||e.b)&&t({r:e.r||s.r,g:e.g||s.g,b:e.b||s.b,source:"rgb"},a)};return n.default.createElement(i.Raised,null,n.default.createElement("div",{style:u.material,className:"material-picker "+c},n.default.createElement(i.EditableInput,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:a,onChange:d}),n.default.createElement("div",{style:u.split,className:"flexbox-fix"},n.default.createElement("div",{style:u.third},n.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:s.r,onChange:d})),n.default.createElement("div",{style:u.third},n.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:s.g,onChange:d})),n.default.createElement("div",{style:u.third},n.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:s.b,onChange:d})))))};t.default=(0,i.ColorWrap)(l)},1116:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Photoshop=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=h(a(1)),o=h(a(2)),i=h(a(50)),s=a(92),l=h(a(1117)),c=h(a(1118)),u=h(a(1119)),d=h(a(1120)),p=h(a(1121));function h(e){return e&&e.__esModule?e:{default:e}}var f=t.Photoshop=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state={currentColor:e.hex},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){var e=this.props.className,t=void 0===e?"":e,a=(0,i.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}});return r.default.createElement("div",{style:a.picker,className:"photoshop-picker "+t},r.default.createElement("div",{style:a.head},this.props.header),r.default.createElement("div",{style:a.body,className:"flexbox-fix"},r.default.createElement("div",{style:a.saturation},r.default.createElement(s.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:c.default,onChange:this.props.onChange})),r.default.createElement("div",{style:a.hue},r.default.createElement(s.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:u.default,onChange:this.props.onChange})),r.default.createElement("div",{style:a.controls},r.default.createElement("div",{style:a.top,className:"flexbox-fix"},r.default.createElement("div",{style:a.previews},r.default.createElement(p.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),r.default.createElement("div",{style:a.actions},r.default.createElement(d.default,{label:"OK",onClick:this.props.onAccept,active:!0}),r.default.createElement(d.default,{label:"Cancel",onClick:this.props.onCancel}),r.default.createElement(l.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(r.default.Component);f.propTypes={header:o.default.string},f.defaultProps={header:"Color Picker"},t.default=(0,s.ColorWrap)(f)},1117:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPicker=void 0;var n=s(a(1)),r=s(a(50)),o=s(a(205)),i=a(92);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.PhotoshopPicker=function(e){var t=e.onChange,a=e.rgb,s=e.hsv,l=e.hex,c=(0,r.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),u=function(e,n){e["#"]?o.default.isValidHex(e["#"])&&t({hex:e["#"],source:"hex"},n):e.r||e.g||e.b?t({r:e.r||a.r,g:e.g||a.g,b:e.b||a.b,source:"rgb"},n):(e.h||e.s||e.v)&&t({h:e.h||s.h,s:e.s||s.s,v:e.v||s.v,source:"hsv"},n)};return n.default.createElement("div",{style:c.fields},n.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"h",value:Math.round(s.h),onChange:u}),n.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"s",value:Math.round(100*s.s),onChange:u}),n.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"v",value:Math.round(100*s.v),onChange:u}),n.default.createElement("div",{style:c.divider}),n.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:a.r,onChange:u}),n.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:a.g,onChange:u}),n.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:a.b,onChange:u}),n.default.createElement("div",{style:c.divider}),n.default.createElement(i.EditableInput,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"#",value:l.replace("#",""),onChange:u}),n.default.createElement("div",{style:c.fieldSymbols},n.default.createElement("div",{style:c.symbol},"°"),n.default.createElement("div",{style:c.symbol},"%"),n.default.createElement("div",{style:c.symbol},"%")))};t.default=l},1118:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var n=o(a(1)),r=o(a(50));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPointerCircle=function(e){var t=e.hsl,a=(0,r.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return n.default.createElement("div",{style:a.picker})};t.default=i},1119:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var n=o(a(1)),r=o(a(50));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPointerCircle=function(){var e=(0,r.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return n.default.createElement("div",{style:e.pointer},n.default.createElement("div",{style:e.left},n.default.createElement("div",{style:e.leftInside})),n.default.createElement("div",{style:e.right},n.default.createElement("div",{style:e.rightInside})))};t.default=i},1120:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopBotton=void 0;var n=o(a(1)),r=o(a(50));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopBotton=function(e){var t=e.onClick,a=e.label,o=e.children,i=e.active,s=(0,r.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return n.default.createElement("div",{style:s.button,onClick:t},a||o)};t.default=i},1121:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPreviews=void 0;var n=o(a(1)),r=o(a(50));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPreviews=function(e){var t=e.rgb,a=e.currentColor,o=(0,r.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:a,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return n.default.createElement("div",null,n.default.createElement("div",{style:o.label},"new"),n.default.createElement("div",{style:o.swatches},n.default.createElement("div",{style:o.new}),n.default.createElement("div",{style:o.current})),n.default.createElement("div",{style:o.label},"current"))};t.default=i},1122:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var n=c(a(1)),r=c(a(2)),o=c(a(50)),i=a(92),s=c(a(1123)),l=c(a(1124));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Sketch=function(e){var t=e.width,a=e.rgb,r=e.hex,c=e.hsv,u=e.hsl,d=e.onChange,p=e.onSwatchHover,h=e.disableAlpha,f=e.presetColors,m=e.renderers,b=e.className,g=void 0===b?"":b,v=(0,o.default)({default:{picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+a.r+","+a.g+","+a.b+","+a.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},{disableAlpha:h});return n.default.createElement("div",{style:v.picker,className:"sketch-picker "+g},n.default.createElement("div",{style:v.saturation},n.default.createElement(i.Saturation,{style:v.Saturation,hsl:u,hsv:c,onChange:d})),n.default.createElement("div",{style:v.controls,className:"flexbox-fix"},n.default.createElement("div",{style:v.sliders},n.default.createElement("div",{style:v.hue},n.default.createElement(i.Hue,{style:v.Hue,hsl:u,onChange:d})),n.default.createElement("div",{style:v.alpha},n.default.createElement(i.Alpha,{style:v.Alpha,rgb:a,hsl:u,renderers:m,onChange:d}))),n.default.createElement("div",{style:v.color},n.default.createElement(i.Checkboard,null),n.default.createElement("div",{style:v.activeColor}))),n.default.createElement(s.default,{rgb:a,hsl:u,hex:r,onChange:d,disableAlpha:h}),n.default.createElement(l.default,{colors:f,onClick:d,onSwatchHover:p}))};u.propTypes={disableAlpha:r.default.bool,width:r.default.oneOfType([r.default.string,r.default.number])},u.defaultProps={disableAlpha:!1,width:200,presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,i.ColorWrap)(u)},1123:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var n=s(a(1)),r=s(a(50)),o=s(a(205)),i=a(92);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SketchFields=function(e){var t=e.onChange,a=e.rgb,s=e.hsl,l=e.hex,c=e.disableAlpha,u=(0,r.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:c}),d=function(e,n){e.hex?o.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):e.r||e.g||e.b?t({r:e.r||a.r,g:e.g||a.g,b:e.b||a.b,a:a.a,source:"rgb"},n):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:s.h,s:s.s,l:s.l,a:e.a,source:"rgb"},n))};return n.default.createElement("div",{style:u.fields,className:"flexbox-fix"},n.default.createElement("div",{style:u.double},n.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"hex",value:l.replace("#",""),onChange:d})),n.default.createElement("div",{style:u.single},n.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"r",value:a.r,onChange:d,dragLabel:"true",dragMax:"255"})),n.default.createElement("div",{style:u.single},n.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"g",value:a.g,onChange:d,dragLabel:"true",dragMax:"255"})),n.default.createElement("div",{style:u.single},n.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"b",value:a.b,onChange:d,dragLabel:"true",dragMax:"255"})),n.default.createElement("div",{style:u.alpha},n.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"a",value:Math.round(100*a.a),onChange:d,dragLabel:"true",dragMax:"100"})))};t.default=l},1124:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=l(a(1)),o=l(a(2)),i=l(a(50)),s=a(92);function l(e){return e&&e.__esModule?e:{default:e}}var c=t.SketchPresetColors=function(e){var t=e.colors,a=e.onClick,o=void 0===a?function(){}:a,l=e.onSwatchHover,c=(0,i.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),u=function(e,t){o({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:c.colors,className:"flexbox-fix"},t.map((function(e){var t="string"==typeof e?{color:e}:e,a=""+t.color+(t.title||"");return r.default.createElement("div",{key:a,style:c.swatchWrap},r.default.createElement(s.Swatch,n({},t,{style:c.swatch,onClick:u,onHover:l,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};c.propTypes={colors:o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.shape({color:o.default.string,title:o.default.string})])).isRequired},t.default=c},1125:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var n=l(a(1)),r=l(a(50)),o=a(92),i=l(a(1126)),s=l(a(1128));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.Slider=function(e){var t=e.hsl,a=e.onChange,s=e.pointer,l=e.className,c=void 0===l?"":l,u=(0,r.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}});return n.default.createElement("div",{className:"slider-picker "+c},n.default.createElement("div",{style:u.hue},n.default.createElement(o.Hue,{style:u.Hue,hsl:t,pointer:s,onChange:a})),n.default.createElement("div",{style:u.swatches},n.default.createElement(i.default,{hsl:t,onClick:a})))};c.defaultProps={pointer:s.default},t.default=(0,o.ColorWrap)(c)},1126:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatches=void 0;var n=i(a(1)),r=i(a(50)),o=i(a(1127));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.SliderSwatches=function(e){var t=e.onClick,a=e.hsl,i=(0,r.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return n.default.createElement("div",{style:i.swatches},n.default.createElement("div",{style:i.swatch},n.default.createElement(o.default,{hsl:a,offset:".80",active:Math.round(100*a.l)/100==.8&&Math.round(100*a.s)/100==.5,onClick:t,first:!0})),n.default.createElement("div",{style:i.swatch},n.default.createElement(o.default,{hsl:a,offset:".65",active:Math.round(100*a.l)/100==.65&&Math.round(100*a.s)/100==.5,onClick:t})),n.default.createElement("div",{style:i.swatch},n.default.createElement(o.default,{hsl:a,offset:".50",active:Math.round(100*a.l)/100==.5&&Math.round(100*a.s)/100==.5,onClick:t})),n.default.createElement("div",{style:i.swatch},n.default.createElement(o.default,{hsl:a,offset:".35",active:Math.round(100*a.l)/100==.35&&Math.round(100*a.s)/100==.5,onClick:t})),n.default.createElement("div",{style:i.swatch},n.default.createElement(o.default,{hsl:a,offset:".20",active:Math.round(100*a.l)/100==.2&&Math.round(100*a.s)/100==.5,onClick:t,last:!0})),n.default.createElement("div",{style:i.clear}))};t.default=s},1127:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatch=void 0;var n=o(a(1)),r=o(a(50));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderSwatch=function(e){var t=e.hsl,a=e.offset,o=e.onClick,i=void 0===o?function(){}:o,s=e.active,l=e.first,c=e.last,u=(0,r.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*a+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:l,last:c});return n.default.createElement("div",{style:u.swatch,onClick:function(e){return i({h:t.h,s:.5,l:a,source:"hsl"},e)}})};t.default=i},1128:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var n=o(a(1)),r=o(a(50));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderPointer=function(){var e=(0,r.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return n.default.createElement("div",{style:e.picker})};t.default=i},1129:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatches=void 0;var n=d(a(1)),r=d(a(2)),o=d(a(50)),i=d(a(267)),s=d(a(205)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(850)),c=a(92),u=d(a(1130));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.Swatches=function(e){var t=e.width,a=e.height,r=e.onChange,l=e.onSwatchHover,d=e.colors,p=e.hex,h=e.className,f=void 0===h?"":h,m=(0,o.default)({default:{picker:{width:t,height:a},overflow:{height:a,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}}),b=function(e,t){s.default.isValidHex(e)&&r({hex:e,source:"hex"},t)};return n.default.createElement("div",{style:m.picker,className:"swatches-picker "+f},n.default.createElement(c.Raised,null,n.default.createElement("div",{style:m.overflow},n.default.createElement("div",{style:m.body},(0,i.default)(d,(function(e){return n.default.createElement(u.default,{key:e.toString(),group:e,active:p,onClick:b,onSwatchHover:l})})),n.default.createElement("div",{style:m.clear})))))};p.propTypes={width:r.default.oneOfType([r.default.string,r.default.number]),height:r.default.oneOfType([r.default.string,r.default.number]),colors:r.default.arrayOf(r.default.arrayOf(r.default.string))},p.defaultProps={width:320,height:240,colors:[[l.red[900],l.red[700],l.red[500],l.red[300],l.red[100]],[l.pink[900],l.pink[700],l.pink[500],l.pink[300],l.pink[100]],[l.purple[900],l.purple[700],l.purple[500],l.purple[300],l.purple[100]],[l.deepPurple[900],l.deepPurple[700],l.deepPurple[500],l.deepPurple[300],l.deepPurple[100]],[l.indigo[900],l.indigo[700],l.indigo[500],l.indigo[300],l.indigo[100]],[l.blue[900],l.blue[700],l.blue[500],l.blue[300],l.blue[100]],[l.lightBlue[900],l.lightBlue[700],l.lightBlue[500],l.lightBlue[300],l.lightBlue[100]],[l.cyan[900],l.cyan[700],l.cyan[500],l.cyan[300],l.cyan[100]],[l.teal[900],l.teal[700],l.teal[500],l.teal[300],l.teal[100]],["#194D33",l.green[700],l.green[500],l.green[300],l.green[100]],[l.lightGreen[900],l.lightGreen[700],l.lightGreen[500],l.lightGreen[300],l.lightGreen[100]],[l.lime[900],l.lime[700],l.lime[500],l.lime[300],l.lime[100]],[l.yellow[900],l.yellow[700],l.yellow[500],l.yellow[300],l.yellow[100]],[l.amber[900],l.amber[700],l.amber[500],l.amber[300],l.amber[100]],[l.orange[900],l.orange[700],l.orange[500],l.orange[300],l.orange[100]],[l.deepOrange[900],l.deepOrange[700],l.deepOrange[500],l.deepOrange[300],l.deepOrange[100]],[l.brown[900],l.brown[700],l.brown[500],l.brown[300],l.brown[100]],[l.blueGrey[900],l.blueGrey[700],l.blueGrey[500],l.blueGrey[300],l.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]]},t.default=(0,c.ColorWrap)(p)},1130:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesGroup=void 0;var n=s(a(1)),r=s(a(50)),o=s(a(267)),i=s(a(1131));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesGroup=function(e){var t=e.onClick,a=e.onSwatchHover,s=e.group,l=e.active,c=(0,r.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return n.default.createElement("div",{style:c.group},(0,o.default)(s,(function(e,r){return n.default.createElement(i.default,{key:e,color:e,active:e.toLowerCase()===l,first:0===r,last:r===s.length-1,onClick:t,onSwatchHover:a})})))};t.default=l},1131:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesColor=void 0;var n=s(a(1)),r=s(a(50)),o=s(a(205)),i=a(92);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesColor=function(e){var t=e.color,a=e.onClick,s=void 0===a?function(){}:a,l=e.onSwatchHover,c=e.first,u=e.last,d=e.active,p=(0,r.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{fill:o.default.getContrastingColor(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{fill:"#333"}},transparent:{check:{fill:"#333"}}},{first:c,last:u,active:d,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return n.default.createElement(i.Swatch,{color:t,style:p.color,onClick:s,onHover:l,focusStyle:{boxShadow:"0 0 4px "+t}},n.default.createElement("div",{style:p.check},n.default.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},n.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))};t.default=l},1132:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var n=c(a(1)),r=c(a(2)),o=c(a(50)),i=c(a(267)),s=c(a(205)),l=a(92);function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Twitter=function(e){var t=e.onChange,a=e.onSwatchHover,r=e.hex,c=e.colors,u=e.width,d=e.triangle,p=e.className,h=void 0===p?"":p,f=(0,o.default)({default:{card:{width:u,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},{"hide-triangle":"hide"===d,"top-left-triangle":"top-left"===d,"top-right-triangle":"top-right"===d}),m=function(e,a){s.default.isValidHex(e)&&t({hex:e,source:"hex"},a)};return n.default.createElement("div",{style:f.card,className:"twitter-picker "+h},n.default.createElement("div",{style:f.triangleShadow}),n.default.createElement("div",{style:f.triangle}),n.default.createElement("div",{style:f.body},(0,i.default)(c,(function(e,t){return n.default.createElement(l.Swatch,{key:t,color:e,hex:e,style:f.swatch,onClick:m,onHover:a,focusStyle:{boxShadow:"0 0 4px "+e}})})),n.default.createElement("div",{style:f.hash},"#"),n.default.createElement(l.EditableInput,{style:{input:f.input},value:r.replace("#",""),onChange:m}),n.default.createElement("div",{style:f.clear})))};u.propTypes={width:r.default.oneOfType([r.default.string,r.default.number]),triangle:r.default.oneOf(["hide","top-left","top-right"]),colors:r.default.arrayOf(r.default.string)},u.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left"},t.default=(0,l.ColorWrap)(u)},1133:function(e,t,a){},1134:function(e,t,a){"use strict";var n=a(338),r=a(1135),o=a(1136);e.exports=function(e,t,a){var i=[],s={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},l={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},c={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var a=0;a<t.length;a++)d(e,t[a])},childContextTypes:function(e,t){e.childContextTypes=n({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=n({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=h(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=n({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var a in t){var n=t[a];if(t.hasOwnProperty(a)){if(o(!(a in c),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',a),a in e){var r=l.hasOwnProperty(a)?l[a]:null;return o("DEFINE_MANY_MERGED"===r,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",a),void(e[a]=h(e[a],n))}e[a]=n}}}(e,t)},autobind:function(){}};function u(e,t){var a=s.hasOwnProperty(t)?s[t]:null;v.hasOwnProperty(t)&&o("OVERRIDE_BASE"===a,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&o("DEFINE_MANY"===a||"DEFINE_MANY_MERGED"===a,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function d(e,a){if(a){o("function"!=typeof a,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!t(a),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var n=e.prototype,r=n.__reactAutoBindPairs;for(var i in a.hasOwnProperty("mixins")&&c.mixins(e,a.mixins),a)if(a.hasOwnProperty(i)&&"mixins"!==i){var l=a[i],d=n.hasOwnProperty(i);if(u(d,i),c.hasOwnProperty(i))c[i](e,l);else{var p=s.hasOwnProperty(i);if("function"==typeof l&&!p&&!d&&!1!==a.autobind)r.push(i,l),n[i]=l;else if(d){var m=s[i];o(p&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,i),"DEFINE_MANY_MERGED"===m?n[i]=h(n[i],l):"DEFINE_MANY"===m&&(n[i]=f(n[i],l))}else n[i]=l}}}else;}function p(e,t){for(var a in o(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(a)&&(o(void 0===e[a],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",a),e[a]=t[a]);return e}function h(e,t){return function(){var a=e.apply(this,arguments),n=t.apply(this,arguments);if(null==a)return n;if(null==n)return a;var r={};return p(r,a),p(r,n),r}}function f(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function m(e,t){return t.bind(e)}var b={componentDidMount:function(){this.__isMounted=!0}},g={componentWillUnmount:function(){this.__isMounted=!1}},v={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},y=function(){};return n(y.prototype,e.prototype,v),function(e){var t=function(e,n,i){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,a=0;a<t.length;a+=2){var n=t[a],r=t[a+1];e[n]=m(e,r)}}(this),this.props=e,this.context=n,this.refs=r,this.updater=i||a,this.state=null;var s=this.getInitialState?this.getInitialState():null;o("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var n in t.prototype=new y,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],i.forEach(d.bind(null,t)),d(t,b),d(t,e),d(t,g),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),o(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),s)t.prototype[n]||(t.prototype[n]=null);return t}}},1135:function(e,t,a){"use strict";e.exports={}},1136:function(e,t,a){"use strict";e.exports=function(e,t,a,n,r,o,i,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[a,n,r,o,i,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},1137:function(e,t,a){"use strict";var n=a(1),r=a(337)({viewComponents:{days:a(1138),months:a(1139),years:a(1140),time:a(1141)},render:function(){return n.createElement(this.viewComponents[this.props.view],this.props.viewProps)}});e.exports=r},1138:function(e,t,a){"use strict";var n=a(1),r=a(337),o=a(13),i=r({render:function(){var e,t=this.renderFooter(),a=this.props.viewDate,r=a.localeData();return e=[n.createElement("thead",{key:"th"},[n.createElement("tr",{key:"h"},[n.createElement("th",{key:"p",className:"rdtPrev",onClick:this.props.subtractTime(1,"months")},n.createElement("span",{},"‹")),n.createElement("th",{key:"s",className:"rdtSwitch",onClick:this.props.showView("months"),colSpan:5,"data-value":this.props.viewDate.month()},r.months(a)+" "+a.year()),n.createElement("th",{key:"n",className:"rdtNext",onClick:this.props.addTime(1,"months")},n.createElement("span",{},"›"))]),n.createElement("tr",{key:"d"},this.getDaysOfWeek(r).map((function(e,t){return n.createElement("th",{key:e+t,className:"dow"},e)})))]),n.createElement("tbody",{key:"tb"},this.renderDays())],t&&e.push(t),n.createElement("div",{className:"rdtDays"},n.createElement("table",{},e))},getDaysOfWeek:function(e){var t=e._weekdaysMin,a=e.firstDayOfWeek(),n=[],r=0;return t.forEach((function(e){n[(7+r++-a)%7]=e})),n},renderDays:function(){var e,t,a,r,i=this.props.viewDate,s=this.props.selectedDate&&this.props.selectedDate.clone(),l=i.clone().subtract(1,"months"),c=i.year(),u=i.month(),d=[],p=[],h=this.props.renderDay||this.renderDay,f=this.props.isValidDate||this.alwaysValidDate;l.date(l.daysInMonth()).startOf("week");for(var m=l.clone().add(42,"d");l.isBefore(m);)e="rdtDay",r=l.clone(),l.year()===c&&l.month()<u||l.year()<c?e+=" rdtOld":(l.year()===c&&l.month()>u||l.year()>c)&&(e+=" rdtNew"),s&&l.isSame(s,"day")&&(e+=" rdtActive"),l.isSame(o(),"day")&&(e+=" rdtToday"),(t=!f(r,s))&&(e+=" rdtDisabled"),a={key:l.format("M_D"),"data-value":l.date(),className:e},t||(a.onClick=this.updateSelectedDate),p.push(h(a,r,s)),7===p.length&&(d.push(n.createElement("tr",{key:l.format("M_D")},p)),p=[]),l.add(1,"d");return d},updateSelectedDate:function(e){this.props.updateSelectedDate(e,!0)},renderDay:function(e,t){return n.createElement("td",e,t.date())},renderFooter:function(){if(!this.props.timeFormat)return"";var e=this.props.selectedDate||this.props.viewDate;return n.createElement("tfoot",{key:"tf"},n.createElement("tr",{},n.createElement("td",{onClick:this.props.showView("time"),colSpan:7,className:"rdtTimeToggle"},e.format(this.props.timeFormat))))},alwaysValidDate:function(){return 1}});e.exports=i},1139:function(e,t,a){"use strict";var n=a(1),r=a(337)({render:function(){return n.createElement("div",{className:"rdtMonths"},[n.createElement("table",{key:"a"},n.createElement("thead",{},n.createElement("tr",{},[n.createElement("th",{key:"prev",className:"rdtPrev",onClick:this.props.subtractTime(1,"years")},n.createElement("span",{},"‹")),n.createElement("th",{key:"year",className:"rdtSwitch",onClick:this.props.showView("years"),colSpan:2,"data-value":this.props.viewDate.year()},this.props.viewDate.year()),n.createElement("th",{key:"next",className:"rdtNext",onClick:this.props.addTime(1,"years")},n.createElement("span",{},"›"))]))),n.createElement("table",{key:"months"},n.createElement("tbody",{key:"b"},this.renderMonths()))])},renderMonths:function(){for(var e,t,a,r,o,i=this.props.selectedDate,s=this.props.viewDate.month(),l=this.props.viewDate.year(),c=[],u=0,d=[],p=this.props.renderMonth||this.renderMonth,h=this.props.isValidDate||this.alwaysValidDate;u<12;)e="rdtMonth",o=(a=this.props.viewDate.clone().set({year:l,month:u,date:1})).endOf("month").format("D"),(r=void 0===Array.from({length:o},(function(e,t){return t+1})).find((function(e){var t=a.clone().set("date",e);return h(t)})))&&(e+=" rdtDisabled"),i&&u===i.month()&&l===i.year()&&(e+=" rdtActive"),t={key:u,"data-value":u,className:e},r||(t.onClick="months"===this.props.updateOn?this.updateSelectedMonth:this.props.setDate("month")),d.push(p(t,u,l,i&&i.clone())),4===d.length&&(c.push(n.createElement("tr",{key:s+"_"+c.length},d)),d=[]),u++;return c},updateSelectedMonth:function(e){this.props.updateSelectedDate(e)},renderMonth:function(e,t){var a,r=this.props.viewDate,o=r.localeData().monthsShort(r.month(t)).substring(0,3);return n.createElement("td",e,(a=o).charAt(0).toUpperCase()+a.slice(1))},alwaysValidDate:function(){return 1}});e.exports=r},1140:function(e,t,a){"use strict";var n=a(1),r=a(337)({render:function(){var e=10*parseInt(this.props.viewDate.year()/10,10);return n.createElement("div",{className:"rdtYears"},[n.createElement("table",{key:"a"},n.createElement("thead",{},n.createElement("tr",{},[n.createElement("th",{key:"prev",className:"rdtPrev",onClick:this.props.subtractTime(10,"years")},n.createElement("span",{},"‹")),n.createElement("th",{key:"year",className:"rdtSwitch",onClick:this.props.showView("years"),colSpan:2},e+"-"+(e+9)),n.createElement("th",{key:"next",className:"rdtNext",onClick:this.props.addTime(10,"years")},n.createElement("span",{},"›"))]))),n.createElement("table",{key:"years"},n.createElement("tbody",{},this.renderYears(e)))])},renderYears:function(e){var t,a,r,o,i,s=[],l=-1,c=[],u=this.props.renderYear||this.renderYear,d=this.props.selectedDate,p=this.props.isValidDate||this.alwaysValidDate;for(e--;l<11;)t="rdtYear",i=(r=this.props.viewDate.clone().set({year:e,month:0,date:1})).endOf("year").format("DDD"),(o=void 0===Array.from({length:i},(function(e,t){return t+1})).find((function(e){var t=r.clone().dayOfYear(e);return p(t)})))&&(t+=" rdtDisabled"),d&&d.year()===e&&(t+=" rdtActive"),a={key:e,"data-value":e,className:t},o||(a.onClick="years"===this.props.updateOn?this.updateSelectedYear:this.props.setDate("year")),s.push(u(a,e,d&&d.clone())),4===s.length&&(c.push(n.createElement("tr",{key:l},s)),s=[]),e++,l++;return c},updateSelectedYear:function(e){this.props.updateSelectedDate(e)},renderYear:function(e,t){return n.createElement("td",e,t)},alwaysValidDate:function(){return 1}});e.exports=r},1141:function(e,t,a){"use strict";var n=a(1),r=a(337),o=a(851),i=r({getInitialState:function(){return this.calculateState(this.props)},calculateState:function(e){var t=e.selectedDate||e.viewDate,a=e.timeFormat,n=[];-1!==a.toLowerCase().indexOf("h")&&(n.push("hours"),-1!==a.indexOf("m")&&(n.push("minutes"),-1!==a.indexOf("s")&&n.push("seconds")));var r=t.format("H"),o=!1;return null!==this.state&&-1!==this.props.timeFormat.toLowerCase().indexOf(" a")&&(o=-1!==this.props.timeFormat.indexOf(" A")?r>=12?"PM":"AM":r>=12?"pm":"am"),{hours:r,minutes:t.format("mm"),seconds:t.format("ss"),milliseconds:t.format("SSS"),daypart:o,counters:n}},renderCounter:function(e){if("daypart"!==e){var t=this.state[e];return"hours"===e&&-1!==this.props.timeFormat.toLowerCase().indexOf(" a")&&0===(t=(t-1)%12+1)&&(t=12),n.createElement("div",{key:e,className:"rdtCounter"},[n.createElement("span",{key:"up",className:"rdtBtn",onMouseDown:this.onStartClicking("increase",e),onContextMenu:this.disableContextMenu},"▲"),n.createElement("div",{key:"c",className:"rdtCount"},t),n.createElement("span",{key:"do",className:"rdtBtn",onMouseDown:this.onStartClicking("decrease",e),onContextMenu:this.disableContextMenu},"▼")])}return""},renderDayPart:function(){return n.createElement("div",{key:"dayPart",className:"rdtCounter"},[n.createElement("span",{key:"up",className:"rdtBtn",onMouseDown:this.onStartClicking("toggleDayPart","hours"),onContextMenu:this.disableContextMenu},"▲"),n.createElement("div",{key:this.state.daypart,className:"rdtCount"},this.state.daypart),n.createElement("span",{key:"do",className:"rdtBtn",onMouseDown:this.onStartClicking("toggleDayPart","hours"),onContextMenu:this.disableContextMenu},"▼")])},render:function(){var e=this,t=[];return this.state.counters.forEach((function(a){t.length&&t.push(n.createElement("div",{key:"sep"+t.length,className:"rdtCounterSeparator"},":")),t.push(e.renderCounter(a))})),!1!==this.state.daypart&&t.push(e.renderDayPart()),3===this.state.counters.length&&-1!==this.props.timeFormat.indexOf("S")&&(t.push(n.createElement("div",{className:"rdtCounterSeparator",key:"sep5"},":")),t.push(n.createElement("div",{className:"rdtCounter rdtMilli",key:"m"},n.createElement("input",{value:this.state.milliseconds,type:"text",onChange:this.updateMilli})))),n.createElement("div",{className:"rdtTime"},n.createElement("table",{},[this.renderHeader(),n.createElement("tbody",{key:"b"},n.createElement("tr",{},n.createElement("td",{},n.createElement("div",{className:"rdtCounters"},t))))]))},componentWillMount:function(){var e=this;e.timeConstraints={hours:{min:0,max:23,step:1},minutes:{min:0,max:59,step:1},seconds:{min:0,max:59,step:1},milliseconds:{min:0,max:999,step:1}},["hours","minutes","seconds","milliseconds"].forEach((function(t){o(e.timeConstraints[t],e.props.timeConstraints[t])})),this.setState(this.calculateState(this.props))},componentWillReceiveProps:function(e){this.setState(this.calculateState(e))},updateMilli:function(e){var t=parseInt(e.target.value,10);t===e.target.value&&t>=0&&t<1e3&&(this.props.setTime("milliseconds",t),this.setState({milliseconds:t}))},renderHeader:function(){if(!this.props.dateFormat)return null;var e=this.props.selectedDate||this.props.viewDate;return n.createElement("thead",{key:"h"},n.createElement("tr",{},n.createElement("th",{className:"rdtSwitch",colSpan:4,onClick:this.props.showView("days")},e.format(this.props.dateFormat))))},onStartClicking:function(e,t){var a=this;return function(){var n={};n[t]=a[e](t),a.setState(n),a.timer=setTimeout((function(){a.increaseTimer=setInterval((function(){n[t]=a[e](t),a.setState(n)}),70)}),500),a.mouseUpListener=function(){clearTimeout(a.timer),clearInterval(a.increaseTimer),a.props.setTime(t,a.state[t]),document.body.removeEventListener("mouseup",a.mouseUpListener),document.body.removeEventListener("touchend",a.mouseUpListener)},document.body.addEventListener("mouseup",a.mouseUpListener),document.body.addEventListener("touchend",a.mouseUpListener)}},disableContextMenu:function(e){return e.preventDefault(),!1},padValues:{hours:1,minutes:2,seconds:2,milliseconds:3},toggleDayPart:function(e){var t=parseInt(this.state[e],10)+12;return t>this.timeConstraints[e].max&&(t=this.timeConstraints[e].min+(t-(this.timeConstraints[e].max+1))),this.pad(e,t)},increase:function(e){var t=parseInt(this.state[e],10)+this.timeConstraints[e].step;return t>this.timeConstraints[e].max&&(t=this.timeConstraints[e].min+(t-(this.timeConstraints[e].max+1))),this.pad(e,t)},decrease:function(e){var t=parseInt(this.state[e],10)-this.timeConstraints[e].step;return t<this.timeConstraints[e].min&&(t=this.timeConstraints[e].max+1-(this.timeConstraints[e].min-t)),this.pad(e,t)},pad:function(e,t){for(var a=t+"";a.length<this.padValues[e];)a="0"+a;return a}});e.exports=i},1142:function(e,t,a){"use strict";a.r(t),a.d(t,"IGNORE_CLASS_NAME",(function(){return p}));var n=a(1),r=a(30);function o(e,t,a){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(a):e.classList.contains(a))}var i,s,l=(void 0===i&&(i=0),function(){return++i}),c={},u={},d=["touchstart","touchmove"],p="ignore-react-onclickoutside";function h(e,t){var a=null;return-1!==d.indexOf(t)&&s&&(a={passive:!e.props.preventDefault}),a}t.default=function(e,t){var a,i;return i=a=function(a){var i,d;function p(e){var t;return(t=a.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof t.__clickOutsideHandlerProp){var a=t.getInstance();if("function"!=typeof a.props.handleClickOutside){if("function"!=typeof a.handleClickOutside)throw new Error("WrappedComponent lacks a handleClickOutside(event) function for processing outside click events.");a.handleClickOutside(e)}else a.props.handleClickOutside(e)}else t.__clickOutsideHandlerProp(e)},t.enableOnClickOutside=function(){if("undefined"!=typeof document&&!u[t._uid]){void 0===s&&(s=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),a=function(){};return window.addEventListener("testPassiveEventSupport",a,t),window.removeEventListener("testPassiveEventSupport",a,t),e}}()),u[t._uid]=!0;var e=t.props.eventTypes;e.forEach||(e=[e]),c[t._uid]=function(e){var a;t.props.disableOnClickOutside||null!==t.componentNode&&(t.props.preventDefault&&e.preventDefault(),t.props.stopPropagation&&e.stopPropagation(),t.props.excludeScrollbar&&(a=e,document.documentElement.clientWidth<=a.clientX||document.documentElement.clientHeight<=a.clientY)||function(e,t,a){if(e===t)return!0;for(;e.parentNode;){if(o(e,t,a))return!0;e=e.parentNode}return e}(e.target,t.componentNode,t.props.outsideClickIgnoreClass)===document&&t.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,c[t._uid],h(t,e))}))}},t.disableOnClickOutside=function(){delete u[t._uid];var e=c[t._uid];if(e&&"undefined"!=typeof document){var a=t.props.eventTypes;a.forEach||(a=[a]),a.forEach((function(a){return document.removeEventListener(a,e,h(t,a))})),delete c[t._uid]}},t.getRef=function(e){return t.instanceRef=e},t._uid=l(),t}d=a,(i=p).prototype=Object.create(d.prototype),i.prototype.constructor=i,i.__proto__=d;var f=p.prototype;return f.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},f.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=Object(r.findDOMNode)(this.getInstance()),this.enableOnClickOutside()}},f.componentDidUpdate=function(){this.componentNode=Object(r.findDOMNode)(this.getInstance())},f.componentWillUnmount=function(){this.disableOnClickOutside()},f.render=function(){var t=this.props,a=(t.excludeScrollbar,function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["excludeScrollbar"]));return e.prototype.isReactComponent?a.ref=this.getRef:a.wrappedRef=this.getRef,a.disableOnClickOutside=this.disableOnClickOutside,a.enableOnClickOutside=this.enableOnClickOutside,Object(n.createElement)(e,a)},p}(n.Component),a.displayName="OnClickOutside("+(e.displayName||e.name||"Component")+")",a.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:p,preventDefault:!1,stopPropagation:!1},a.getClass=function(){return e.getClass?e.getClass():e},i}},1143:function(e,t,a){},1144:function(e,t,a){},1145:function(e,t,a){},118:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(16),r=a.n(n),o=(a(1),a(73)),i=a(0);function s(){const e=r()(["\n  z-index: 1000;\n  width: 50px;\n  position: relative;\n  margin: 10px;\n  &.inline {\n    margin: 0px;\n    width: 30px;\n  }\n  &.floating {\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n"]);return s=function(){return e},e}const l=o.a.img(s());function c({position:e="floating"}){return Object(i.e)(l,{className:"loading "+e,alt:"Loading...",src:"/static/assets/images/loading.gif"})}},122:function(e,t,a){"use strict";var n=h(a(124)),r=h(a(262)),o=h(a(104)),i=h(a(111)),s=h(a(125)),l=h(a(115)),c=h(a(1)),u=a(22),d=a(390),p=h(a(730));function h(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){(0,o.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.promptInput=null,a.keyBinds=[],a.state=t.initialState(),a.onHide=a.onHide.bind(a),a.onSubmitPrompt=a.onSubmitPrompt.bind(a),a}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"setOptions",value:function(e){t.options=(0,r.default)({},t.DEFAULT_OPTIONS,e)}},{key:"resetOptions",value:function(){t.options=t.DEFAULT_OPTIONS}},{key:"initialState",value:function(){return{title:null,body:null,showModal:!1,actions:[],bsSize:void 0,onHide:null,prompt:null}}}]),(0,s.default)(t,[{key:"componentWillUnmount",value:function(){this.state.showModal&&this.hide()}},{key:"show",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={},r=a.actions||[];r.forEach((function(t){t.key&&t.key.split(",").forEach((function(a){n[a]=function(){t.func&&t.func(e)}}))})),this.keyBinds=n,a.showModal=!0,this.setState(t.initialState()),this.setState(a)}},{key:"showAlert",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n={body:e,actions:[t.SingleOKAction()],bsSize:a};this.show(n)}},{key:"onHide",value:function(){var e=this.state.onHide;"function"==typeof e?e(this):this.hide()}},{key:"hide",value:function(){this.state.showModal&&this.setState({showModal:!1})}},{key:"onSubmitPrompt",value:function(){var e=this.keyBinds.enter;e&&e()}},{key:"render",value:function(){var e=this,t=void 0===this.state.bsSize?"small":"medium"===this.state.bsSize?null:this.state.bsSize;return c.default.createElement(u.Modal,{show:this.state.showModal,onHide:this.onHide,bsSize:t},this.state.title&&c.default.createElement(u.Modal.Header,null,c.default.createElement(u.Modal.Title,null,this.state.title)),c.default.createElement(u.Modal.Body,null,"string"==typeof this.state.body?c.default.createElement("p",null,this.state.body):this.state.body,this.state.prompt&&c.default.createElement(p.default,{ref:function(t){e.promptInput=t},prompt:this.state.prompt,onSubmit:this.onSubmitPrompt})),c.default.createElement(u.Modal.Footer,null,this.state.actions.map((function(t){return c.default.createElement("button",{key:t.label,type:"button",className:"btn btn-sm "+t.className,onClick:function(){t.func&&t.func(e)},style:{minWidth:82}},t.label)}))))}},{key:"value",get:function(){return this.promptInput?this.promptInput.value:null}}]),t}(c.default.Component),m=function(){function e(t,a,n,r){(0,o.default)(this,e),this.label=t||f.options.defaultOkLabel,this._func=a,this.className=n||"btn-default",this.key=r}return(0,s.default)(e,[{key:"func",value:function(e){e.hide(),this._func&&this._func(e)}}]),e}();f.DEFAULT_OPTIONS={defaultOkLabel:"OK",defaultCancelLabel:"Cancel",primaryClassName:"btn-primary"},f.options=f.DEFAULT_OPTIONS,f.Action=function(e,t,a,n){return new m(e,t,a,n)},f.DefaultAction=function(e,t,a){return new m(e,t,a&&a.length>0?a:f.options.primaryClassName,"enter")},f.OKAction=function(e){return new m(f.options.defaultOkLabel,(function(t){t.hide(),e&&e(t)}),f.options.primaryClassName,"enter")},f.CancelAction=function(e){return new m(f.options.defaultCancelLabel,(function(t){t.hide(),e&&e(t)}),null,"esc")},f.SingleOKAction=function(){return new m(f.options.defaultOkLabel,(function(e){e.hide()}),f.options.primaryClassName,"enter,esc")},f.TextPrompt=function(e){return new d.TextPrompt(e)},f.PasswordPrompt=function(e){return new d.PasswordPrompt(e)},f.displayName="Dialog",e.exports=f},140:function(e,t,a){"use strict";a.d(t,"f",(function(){return _})),a.d(t,"c",(function(){return S})),a.d(t,"e",(function(){return j})),a.d(t,"g",(function(){return T})),a.d(t,"b",(function(){return k})),a.d(t,"d",(function(){return M})),a.d(t,"a",(function(){return R}));a(114),a(195),a(35);var n=a(17),r=a.n(n),o=a(94),i=a.n(o),s=a(179),l=a.n(s),c=a(38),u=a.n(c),d=a(232),p=a.n(d),h=a(61),f=a.n(h),m=a(6),b=a.n(m),g=a(53),v=a.n(g),y=a(1),x=a.n(y),C=a(228),O=a(0);const w={"mode/sql":()=>a.e(76).then(a.t.bind(null,1148,7)),"mode/markdown":()=>Promise.all([a.e(12),a.e(11),a.e(21),a.e(68)]).then(a.t.bind(null,1149,7)),"mode/css":()=>Promise.all([a.e(11),a.e(73)]).then(a.t.bind(null,1150,7)),"mode/json":()=>a.e(67).then(a.t.bind(null,1151,7)),"mode/yaml":()=>a.e(77).then(a.t.bind(null,1152,7)),"mode/html":()=>Promise.all([a.e(12),a.e(11),a.e(21),a.e(74)]).then(a.t.bind(null,1153,7)),"mode/javascript":()=>Promise.all([a.e(12),a.e(75)]).then(a.t.bind(null,1154,7)),"theme/textmate":()=>a.e(79).then(a.t.bind(null,1155,7)),"theme/github":()=>a.e(78).then(a.t.bind(null,1156,7)),"ext/language_tools":()=>a.e(72).then(a.t.bind(null,1157,7))};function E(e,{defaultMode:t,defaultTheme:n,defaultTabSize:o=2,placeholder:s}={}){return Object(C.a)(async()=>{var s,c;const{default:d}=await Promise.all([a.e(0),a.e(20)]).then(a.t.bind(null,1077,7)),{default:h}=await Promise.all([a.e(0),a.e(20),a.e(51)]).then(a.t.bind(null,1158,7));await v.a.all(b()(e).call(e,e=>w[e]()));const m=t||(null===(s=f()(e).call(e,e=>p()(e).call(e,"mode/")))||void 0===s?void 0:s.replace("mode/","")),g=n||(null===(c=f()(e).call(e,e=>p()(e).call(e,"theme/")))||void 0===c?void 0:c.replace("theme/",""));return x.a.forwardRef((function(e,t){let{keywords:a,mode:n=m,theme:s=g,tabSize:c=o}=e,p=u()(e,["keywords","mode","theme","tabSize"]);if(a){const e={getCompletions:(e,t,r,o,s)=>{l()(i()(o,10))&&t.getMode().$id==="ace/mode/"+n&&s(null,a)}};d.acequire("ace/ext/language_tools").setCompleters([e])}return Object(O.e)(h,r()({ref:t,mode:n,theme:s,tabSize:c},p))}))},s)}const _=E(["mode/sql","theme/github","ext/language_tools"]),S=E(["mode/sql","theme/github","ext/language_tools"],{placeholder:()=>Object(O.e)("div",{style:{height:"100%"}},Object(O.e)("div",{style:{width:41,height:"100%",background:"#e8e8e8"}}),Object(O.e)("div",{className:"ace_content"}))}),j=E(["mode/markdown","theme/textmate"]),T=E(["mode/markdown","mode/sql","mode/json","mode/html","mode/javascript","theme/textmate"]),k=E(["mode/css","theme/github"]),M=E(["mode/json","theme/github"]),R=E(["mode/json","mode/yaml","theme/github"])},144:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(84),r=a.n(n),o=a(58),i=a.n(o);function s(e){const t=new i.a;return r()(e,(e,a)=>{if("object"==typeof a&&null!==a){if(t.has(a))try{return JSON.parse(r()(a))}catch(e){return}t.add(a)}return a})}},152:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l}));a(132),a(35);var n=a(94),r=a.n(n),o=a(33),i=a.n(o);function s({chartId:e,column:t}){return e+"_"+t}function l(e){const[t,...a]=e.split("_"),n=i()(a).call(a).join("_");return{chartId:r()(t,10),column:n}}},1881:function(e,t,a){},1882:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t),a.d(t,"LOG_EVENT",(function(){return n})),a.d(t,"logEvent",(function(){return r}));const n="LOG_EVENT";function r(e,t){return a=>a({type:n,payload:{eventName:e,eventData:t}})}},205:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.red=void 0;var n=o(a(1471)),r=o(a(853));function o(e){return e&&e.__esModule?e:{default:e}}t.default={simpleCheckForValidColor:function(e){var t=0,a=0;return(0,n.default)(["r","g","b","a","h","s","l","v"],(function(n){if(e[n]&&(t+=1,isNaN(e[n])||(a+=1),"s"===n||"l"===n)){/^\d+%$/.test(e[n])&&(a+=1)}})),t===a&&e},toState:function(e,t){var a=e.hex?(0,r.default)(e.hex):(0,r.default)(e),n=a.toHsl(),o=a.toHsv(),i=a.toRgb(),s=a.toHex();return 0===n.s&&(n.h=t||0,o.h=t||0),{hsl:n,hex:"000000"===s&&0===i.a?"transparent":"#"+s,rgb:i,hsv:o,oldHue:e.h||t||n.h,source:e.source}},isValidHex:function(e){var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,r.default)(e).isValid()},getContrastingColor:function(e){if(!e)return"#fff";var t=this.toState(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"}};t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},228:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));a(35);var n=a(17),r=a.n(n),o=a(53),i=a.n(o),s=a(3),l=a.n(s),c=a(1),u=a.n(c),d=a(118),p=a(0);function h({width:e,height:t,showLoadingForImport:a=!1,placeholderStyle:n}){return t&&Object(p.e)("div",{key:"async-asm-placeholder",style:l()({width:e,height:t},n)},a&&Object(p.e)(d.a,{position:"floating"}))||null}function f(e,t=h){let a,n;function o(){return a||(a=e instanceof i.a?e:e()),n||a.then(e=>{n=e.default||e}),a}const s=u.a.forwardRef((function(e,a){const[i,s]=Object(c.useState)(void 0!==n);Object(c.useEffect)(()=>{let e=!0;return i||o().then(()=>{e&&s(!0)}),()=>{e=!1}});const l=n||t;return l?Object(p.e)(l,r()({ref:l===n?a:null},e)):null}));return s.preload=o,s}},254:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return u}));var n=a(437),r=a.n(n),o=a(10),i=a.n(o),s=a(58),l=a.n(s);const c=function(){const e=document.getElementById("app");if(!e)return[];const t=JSON.parse(e.getAttribute("data-bootstrap")),a=new l.a([window.location.hostname]);var n;return t&&t.common&&t.common.conf&&t.common.conf.SUPERSET_WEBSERVER_DOMAINS&&i()(n=t.common.conf.SUPERSET_WEBSERVER_DOMAINS).call(n,e=>{a.add(e)}),r()(a)}(),u=c.length>1},255:function(e,t){function a(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return i[e];var a,o=String(e);return(a=n[o.toLowerCase()])?a:(a=r[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}a.isEventKey=function(e,t){if(e&&"object"==typeof e){var a=e.which||e.keyCode||e.charCode;if(null==a)return!1;if("string"==typeof t){var o;if(o=n[t.toLowerCase()])return o===a;if(o=r[t.toLowerCase()])return o===a}else if("number"==typeof t)return t===a;return!1}};var n=(t=e.exports=a).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)n[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)n[o-48]=o;for(o=1;o<13;o++)n["f"+o]=o+111;for(o=0;o<10;o++)n["numpad "+o]=o+96;var i=t.names=t.title={};for(o in n)i[n[o]]=o;for(var s in r)n[s]=r[s]},283:function(e,t,a){"use strict";var n=a(6),r=a.n(n),o=a(47),i=a.n(o),s=a(100);const l=["AND","AS","ASC","AVG","BY","CASE","COUNT","CREATE","CROSS","DATABASE","DEFAULT","DELETE","DESC","DISTINCT","DROP","ELSE","END","FOREIGN","FROM","GRANT","GROUP","HAVING","IF","INNER","INSERT","JOIN","KEY","LEFT","LIMIT","MAX","MIN","NATURAL","NOT","NULL","OFFSET","ON","OR","ORDER","OUTER","PRIMARY","REFERENCES","RIGHT","SELECT","SUM","TABLE","THEN","TYPE","UNION","UPDATE","WHEN","WHERE"],c=i()(l).call(l,["BIGINT","BINARY","BIT","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","MONEY","NUMBER","NUMERIC","REAL","SET","TEXT","TIMESTAMP","VARCHAR"]),u=r()(c).call(c,e=>({meta:"sql",name:e,score:s.l,value:e}));t.a=u},303:function(e,t,a){"use strict";a.r(t),a.d(t,"TIME_FILTER_MAP",(function(){return J})),a.d(t,"TIME_RANGE",(function(){return $}));a(114),a(132);var n=a(58),r=a.n(n),o=a(29),i=a.n(o),s=a(10),l=a.n(s),c=a(232),u=a.n(c),d=a(159),p=a.n(d),h=a(14),f=a.n(h),m=a(61),b=a.n(m),g=a(6),v=a.n(g),y=a(48),x=a.n(y),C=a(3),O=a.n(C),w=a(5),E=a.n(w),_=a(16),S=a.n(_),j=a(177),T=a.n(j),k=a(1),M=a.n(k),R=a(2),A=a.n(R),D=a(101),N=a(44),P=a(18),F=a(73),I=a(91),L=a(7),H=a(63),B=a(774),U=a(821),V=a(822),q=a(89),z=a(99),G=a(196),W=a(152),Y=a(433),K=a(25),Q=a(660),X=(a(1882),a(0));function Z(){const e=S()(["\n  height: 100%;\n  min-height: 100%;\n  max-height: 100%;\n  overflow: visible;\n"]);return Z=function(){return e},e}const J={time_range:"__time_range",granularity_sqla:"__time_col",time_grain_sqla:"__time_grain",druid_time_origin:"__time_origin",granularity:"__granularity"},$=J.time_range,ee={chartId:A.a.number.isRequired,origSelectedValues:A.a.object,datasource:A.a.object.isRequired,instantFiltering:A.a.bool,filtersFields:A.a.arrayOf(A.a.shape({field:A.a.string,label:A.a.string})),filtersChoices:A.a.objectOf(A.a.arrayOf(A.a.shape({id:A.a.string,text:A.a.string,filter:A.a.string,metric:A.a.number}))),onChange:A.a.func,onFilterMenuOpen:A.a.func,onFilterMenuClose:A.a.func,showDateFilter:A.a.bool,showSqlaTimeGrain:A.a.bool,showSqlaTimeColumn:A.a.bool,showDruidTimeGrain:A.a.bool,showDruidTimeOrigin:A.a.bool},te=F.a.div(Z());class ae extends M.a.Component{constructor(e){var t,a,n,r;super(e),this.state={selectedValues:e.origSelectedValues,hasChanged:!1},this.debouncerCache={},this.maxValueCache={},this.changeFilter=E()(t=this.changeFilter).call(t,this),this.onFilterMenuOpen=E()(a=this.onFilterMenuOpen).call(a,this),this.onOpenDateFilterControl=E()(n=this.onOpenDateFilterControl).call(n,this),this.onFilterMenuClose=E()(r=this.onFilterMenuClose).call(r,this)}onFilterMenuOpen(e){return this.props.onFilterMenuOpen(this.props.chartId,e)}onOpenDateFilterControl(){return this.onFilterMenuOpen($)}onFilterMenuClose(){return this.props.onFilterMenuClose(this.props.chartId)}getControlData(e){const{selectedValues:t}=this.state,a=O()({},q.c[e],{name:e,key:"control-"+e,value:t[J[e]],actions:{setControlValue:this.changeFilter}}),n=a.mapStateToProps;return n?O()({},a,n(this.props)):a}getKnownMax(e,t){return this.maxValueCache[e]=Math.max(this.maxValueCache[e]||0,Object(D.max)(t||this.props.filtersChoices[e]||[],e=>e.metric)),this.maxValueCache[e]}clickApply(){const{selectedValues:e}=this.state;this.setState({hasChanged:!1},()=>{this.props.onChange(e,!1)})}changeFilter(e,t){const a=J[e]||e;let n=null;null!==t&&(n=x()(t)?v()(t).call(t,e=>"string"==typeof e?e:e.value):t.value?t.value:t);const r=O()({},this.state.selectedValues,{[a]:n});this.setState({selectedValues:r,hasChanged:!0},()=>{this.props.instantFiltering&&this.props.onChange({[a]:n},!1)})}debounceLoadOptions(e){return e in this.debouncerCache||(this.debouncerCache[e]=T()((t,a)=>{this.loadOptions(e,t).then(a)},500)),this.debouncerCache[e]}transformOptions(e,t){const a=void 0===t?Object(D.max)(e,e=>e.metric):t;return v()(e).call(e,e=>{const t=Math.round(e.metric/a*100),n={backgroundImage:"linear-gradient(to right, lightgrey, lightgrey "+t+"%, rgba(0,0,0,0) "+t+"%"};return{value:e.id,label:e.id,style:n}})}async loadOptions(e,t=""){var a,n,r;const o=t.toLowerCase(),i=b()(a=this.props.filtersFields).call(a,t=>t.key===e).asc,s=O()({},this.props.rawFormData,{adhoc_filters:t?[{clause:"WHERE",comparator:null,expressionType:"SQL",sqlExpression:"lower("+e+") like '%"+o+"%'"}]:null}),{json:l}=await I.a.get({url:Object(z.h)({formData:s,endpointType:"json",method:"GET"})}),c=f()(n=(null==l?void 0:null===(r=l.data)||void 0===r?void 0:r[e])||[]).call(n,e=>e.id);return c&&0!==c.length?(o&&p()(c).call(c,(e,t)=>{const a=e.id.toLowerCase(),n=t.id.toLowerCase(),r=u()(n).call(n,o)-u()(a).call(a,o);return 0===r?(e.metric-t.metric)*(i?1:-1):r}),this.transformOptions(c,this.getKnownMax(e,c))):[]}renderDateFilter(){const{showDateFilter:e,chartId:t}=this.props,a=K.m.time_range;return e?Object(X.e)("div",{className:"row space-1"},Object(X.e)("div",{className:"col-lg-12 col-xs-12 filter-container"},this.renderFilterBadge(t,$,a),Object(X.e)(B.a,{name:$,label:a,description:Object(L.c)("Select start and end date"),onChange:e=>{this.changeFilter($,e)},onOpenDateFilterControl:this.onOpenDateFilterControl,onCloseDateFilterControl:this.onFilterMenuClose,value:this.state.selectedValues[$]||"No filter"}))):null}renderDatasourceFilters(){const{showSqlaTimeGrain:e,showSqlaTimeColumn:t,showDruidTimeGrain:a,showDruidTimeOrigin:n}=this.props,r=[],o=[],i=[];return e&&o.push("time_grain_sqla"),t&&o.push("granularity_sqla"),a&&i.push("granularity"),n&&i.push("druid_time_origin"),o.length&&r.push(Object(X.e)(U.a,{key:"sqla-filters",className:"control-row",controls:v()(o).call(o,e=>Object(X.e)(V.a,this.getControlData(e)))})),i.length&&r.push(Object(X.e)(U.a,{key:"druid-filters",className:"control-row",controls:v()(i).call(i,e=>Object(X.e)(V.a,this.getControlData(e)))})),r}renderSelect(e){var t,a;const{filtersChoices:n}=this.props,{selectedValues:o}=this.state;this.debouncerCache={},this.maxValueCache={},l()(t=f()(a=i()(o)).call(a,e=>o.hasOwnProperty(e)&&e in n)).call(t,e=>{var t;const a=n[e]||(n[e]=[]),i=new r.a(v()(a).call(a,e=>e.id)),s=x()(o[e])?o[e]:[o[e]];l()(t=f()(s).call(s,e=>null!==e&&!i.has(e))).call(t,t=>{a.unshift({filter:e,id:t,text:t,metric:0})})});const{key:s,label:c}=e,u=n[s]||[];let d=o[s]||null;return void 0===d&&e[K.f.DEFAULT_VALUE]&&(d=e[K.f.MULTIPLE]?e[K.f.DEFAULT_VALUE].split(";"):e[K.f.DEFAULT_VALUE]),Object(X.e)(G.a,{cacheOptions:!0,loadOptions:this.debounceLoadOptions(s),defaultOptions:this.transformOptions(u),key:s,placeholder:Object(L.c)("Type or Select [%s]",c),isMulti:e[K.f.MULTIPLE],isClearable:e[K.f.CLEARABLE],value:d,options:this.transformOptions(u),onChange:e=>{e!==d&&this.changeFilter(s,e)},onFocus:()=>this.onFilterMenuOpen(s),onMenuOpen:()=>this.onFilterMenuOpen(s),onBlur:this.onFilterMenuClose,onMenuClose:this.onFilterMenuClose,selectWrap:e[K.f.SEARCH_ALL_OPTIONS]&&u.length>=K.g?N.a:N.c,noResultsText:Object(L.c)("No results found")})}renderFilters(){const{filtersFields:e,chartId:t}=this.props;return v()(e).call(e,e=>{const{label:a,key:n}=e;return Object(X.e)("div",{key:n,className:"m-b-5 filter-container"},this.renderFilterBadge(t,n,a),Object(X.e)("div",null,Object(X.e)(H.a,{htmlFor:"LABEL-"+n},a),this.renderSelect(e)))})}renderFilterBadge(e,t){const a=Object(W.b)({chartId:e,column:t}),n=Object(Y.b)()[a];return Object(X.e)("div",{className:"filter-badge-container"},Object(X.e)(Q.a,{colorCode:n}))}render(){var e;const{instantFiltering:t}=this.props;return Object(X.e)(te,null,this.renderDateFilter(),this.renderDatasourceFilters(),this.renderFilters(),!t&&Object(X.e)(P.a,{buttonSize:"small",buttonStyle:"primary",onClick:E()(e=this.clickApply).call(e,this),disabled:!this.state.hasChanged},Object(L.c)("Apply")))}}ae.propTypes=ee,ae.defaultProps={origSelectedValues:{},onChange:()=>{},onFilterMenuOpen:()=>{},onFilterMenuClose:()=>{},showDateFilter:!1,showSqlaTimeGrain:!1,showSqlaTimeColumn:!1,showDruidTimeGrain:!1,showDruidTimeOrigin:!1,instantFiltering:!1},t.default=ae},317:function(e,t,a){"use strict";var n=a(17),r=a.n(n),o=a(5),i=a.n(o),s=a(1),l=a.n(s),c=a(2),u=a.n(c),d=a(44),p=a(7),h=a(91),f=a(49),m=a(0);const b={dataEndpoint:u.a.string.isRequired,onChange:u.a.func.isRequired,mutator:u.a.func.isRequired,onAsyncError:u.a.func,value:u.a.oneOfType([u.a.number,u.a.arrayOf(u.a.number)]),valueRenderer:u.a.func,placeholder:u.a.string,autoSelect:u.a.bool},g={placeholder:Object(p.c)("Select ..."),onAsyncError:()=>{}};class v extends l.a.PureComponent{constructor(e){var t;super(e),this.state={isLoading:!1,options:[]},this.onChange=i()(t=this.onChange).call(t,this)}componentDidMount(){this.fetchOptions()}onChange(e){this.props.onChange(e)}fetchOptions(){this.setState({isLoading:!0});const{mutator:e,dataEndpoint:t}=this.props;return h.a.get({endpoint:t}).then(({json:t})=>{const a=e?e(t):t;this.setState({options:a,isLoading:!1}),!this.props.value&&this.props.autoSelect&&a.length>0&&this.onChange(a[0])}).catch(e=>Object(f.a)(e).then(e=>{this.props.onAsyncError(e.error||e.statusText||e),this.setState({isLoading:!1})}))}render(){return Object(m.e)(d.f,r()({placeholder:this.props.placeholder,options:this.state.options,value:this.props.value,isLoading:this.state.isLoading,onChange:this.onChange,valueRenderer:this.props.valueRenderer},this.props))}}v.propTypes=b,v.defaultProps=g,t.a=v},337:function(e,t,a){"use strict";var n=a(1),r=a(1134);if(void 0===n)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new n.Component).updater;e.exports=r(n.Component,n.isValidElement,o)},390:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PasswordPrompt=t.TextPrompt=t.DialogPrompt=void 0;var n=s(a(124)),r=s(a(111)),o=s(a(115)),i=s(a(104));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.DialogPrompt=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,e);var a=t.initialValue,n=t.placeholder;this.initialValue=a,this.placeholder=n};t.TextPrompt=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,o.default)(t,e),t}(l),t.PasswordPrompt=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,o.default)(t,e),t}(l)},433:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return b}));var n=a(29),r=a.n(n),o=a(159),i=a.n(o),s=a(10),l=a.n(s),c=a(57),u=a.n(c),d=a(43),p=a.n(d),h=a(152);let f={};function m(){return f}function b(e={}){var t;let a=1;f=p()(t=u()(e)).call(t,(e,t)=>{var n,o;const{chartId:s,columns:c}=t;return l()(n=i()(o=r()(c)).call(o)).call(n,t=>{const n=Object(h.b)({chartId:s,column:t}),r="badge-"+a%20;e[n]=r,a+=1}),e},{})}},45:function(e,t,a){"use strict";var n;function r(e){window.featureFlags=e||{}}function o(e){return window&&window.featureFlags&&!!window.featureFlags[e]}a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o})),function(e){e.OMNIBAR="OMNIBAR",e.CLIENT_CACHE="CLIENT_CACHE",e.SCHEDULED_QUERIES="SCHEDULED_QUERIES",e.SQL_VALIDATORS_BY_ENGINE="SQL_VALIDATORS_BY_ENGINE",e.ESTIMATE_QUERY_COST="ESTIMATE_QUERY_COST",e.SHARE_QUERIES_VIA_KV_STORE="SHARE_QUERIES_VIA_KV_STORE",e.SQLLAB_BACKEND_PERSISTENCE="SQLLAB_BACKEND_PERSISTENCE",e.THUMBNAILS="THUMBNAILS",e.SIP_34_SAVED_QUERIES_UI="SIP_34_SAVED_QUERIES_UI"}(n||(n={}))},50:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var n=c(a(1082)),r=c(a(1083)),o=c(a(1084)),i=c(a(1085)),s=c(a(1086)),l=c(a(1087));function c(e){return e&&e.__esModule?e:{default:e}}t.hover=i.default,t.handleHover=i.default,t.handleActive=s.default,t.loop=l.default;var u=t.ReactCSS=function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];var s=(0,n.default)(a),l=(0,r.default)(e,s);return(0,o.default)(l)};t.default=u},583:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));a(35);var n=a(6),r=a.n(n),o=a(5),i=a.n(o),s=a(368),l=a.n(s),c=a(1),u=a.n(c),d=a(2),p=a.n(d),h=a(44),f=a(46),m=a(79),b=(a(854),a(0));const g={description:p.a.string,label:p.a.string.isRequired,name:p.a.string.isRequired,onChange:p.a.func,value:p.a.string,clearable:p.a.bool,default:p.a.string,choices:p.a.oneOfType([p.a.arrayOf(p.a.array),p.a.func]).isRequired,schemes:p.a.oneOfType([p.a.object,p.a.func]).isRequired,isLinear:p.a.bool};class v extends u.a.PureComponent{constructor(e){var t,a;super(e),this.onChange=i()(t=this.onChange).call(t,this),this.renderOption=i()(a=this.renderOption).call(a,this)}onChange(e){const t=e?e.value:null;this.props.onChange(t)}renderOption(e){const{isLinear:t}=this.props,a=this.schemes[e.value];let n=[];return a&&(n=t?a.getColors(10):a.colors),Object(b.e)(m.a,{label:a.id+"-tooltip",tooltip:a.label},Object(b.e)("ul",{className:"color-scheme-container"},r()(n).call(n,(e,t)=>Object(b.e)("li",{key:a.id+"-"+t,style:{backgroundColor:e,border:"1px solid "+("white"===e?"black":e)}}," "))))}render(){var e;const{schemes:t,choices:a}=this.props;this.schemes=l()(t)?t():t;const n=r()(e=l()(a)?a():a).call(e,([e,t])=>{var a;return{value:e,label:(null===(a=this.schemes[e])||void 0===a?void 0:a.label)||t}}),o={multi:!1,name:"select-"+this.props.name,placeholder:"Select ("+n.length+")",default:this.props.default,options:n,value:this.props.value,autosize:!1,clearable:this.props.clearable,onChange:this.onChange,optionRenderer:this.renderOption,valueRenderer:this.renderOption};return Object(b.e)("div",null,Object(b.e)(f.a,this.props),Object(b.e)(h.f,o))}}v.propTypes=g,v.defaultProps={choices:[],schemes:{},clearable:!1,onChange:()=>{}}},656:function(e,t,a){"use strict";a.d(t,"a",(function(){return H}));var n=a(33),r=a.n(n),o=a(28),i=a.n(o),s=a(820),l=a.n(s),c=a(6),u=a.n(c),d=a(47),p=a.n(d),h=a(14),f=a.n(h),m=a(5),b=a.n(m),g=a(58),v=a.n(g),y=a(1),x=a.n(y),C=a(2),O=a.n(C),w=a(373),E=a(236),_=a(81),S=a(127),j=a(442),T=a(60),k=a(278),M=a(147),R=a(7),A=a(46),D=(a(852),a(0));const N={description:O.a.string,label:O.a.string,name:O.a.string.isRequired,onChange:O.a.func,value:O.a.string.isRequired},P=Object(M.a)(),F={cursor:"pointer"},I=["line","big_number","table","filter_box","dist_bar","area","bar","deck_polygon","pie","time_table","pivot_table","histogram","big_number_total","deck_scatter","deck_hex","time_pivot","deck_arc","heatmap","deck_grid","dual_line","deck_screengrid","line_multi","treemap","box_plot","sunburst","sankey","word_cloud","mapbox","kepler","cal_heatmap","rose","bubble","deck_geojson","horizon","deck_multi","compare","partition","event_flow","deck_path","directed_force","world_map","paired_ttest","para","country_map"],L=new v.a(I);class H extends x.a.PureComponent{constructor(e){var t,a,n,r;super(e),this.state={showModal:!1,filter:""},this.toggleModal=b()(t=this.toggleModal).call(t,this),this.changeSearch=b()(a=this.changeSearch).call(a,this),this.setSearchRef=b()(n=this.setSearchRef).call(n,this),this.focusSearch=b()(r=this.focusSearch).call(r,this)}onChange(e){this.props.onChange(e),this.setState({showModal:!1})}setSearchRef(e){this.searchRef=e}toggleModal(){this.setState({showModal:!this.state.showModal})}changeSearch(e){this.setState({filter:e.target.value})}focusSearch(){this.searchRef&&this.searchRef.focus()}renderItem(e){var t;const{value:a}=this.props,{key:n,value:r}=e,o=n===a;return Object(D.e)("div",{role:"button",tabIndex:0,className:"viztype-selector-container "+(o?"selected":""),onClick:b()(t=this.onChange).call(t,this,n)},Object(D.e)("img",{alt:r.name,width:"100%",className:"viztype-selector "+(o?"selected":""),src:r.thumbnail}),Object(D.e)("div",{className:"viztype-label"},r.name))}render(){var e,t,a,n;const{filter:o,showModal:s}=this.state,{value:c}=this.props,d=o.toLowerCase(),h=f()(e=p()(t=u()(a=f()(I).call(I,e=>P.has(e))).call(a,e=>({key:e,value:P.get(e)}))).call(t,f()(n=l()(P).call(P)).call(n,({key:e})=>!L.has(e)))).call(e,e=>{var t;return i()(t=e.value.name.toLowerCase()).call(t,d)}),m=[];for(let e=0;e<=h.length;e+=6){var b;m.push(Object(D.e)(w.a,{key:"row-"+e},u()(b=r()(h).call(h,e,e+6)).call(b,e=>Object(D.e)(E.a,{md:2,key:"grid-col-"+e.key},this.renderItem(e)))))}return Object(D.e)("div",null,Object(D.e)(A.a,this.props),Object(D.e)(_.a,{placement:"right",overlay:Object(D.e)(S.a,{id:"error-tooltip"},Object(R.c)("Click to change visualization type"))},Object(D.e)(x.a.Fragment,null,Object(D.e)(j.a,{onClick:this.toggleModal,style:F},P.has(c)?P.get(c).name:""+c),!P.has(c)&&Object(D.e)("div",{className:"text-danger"},Object(D.e)("i",{className:"fa fa-exclamation-circle text-danger"})," ",Object(D.e)("small",null,Object(R.c)("This visualization type is not supported."))))),Object(D.e)(T.a,{show:s,onHide:this.toggleModal,onEnter:this.focusSearch,onExit:this.setSearchRef,bsSize:"large"},Object(D.e)(T.a.Header,{closeButton:!0},Object(D.e)(T.a.Title,null,Object(R.c)("Select a visualization type"))),Object(D.e)(T.a.Body,null,Object(D.e)("div",{className:"viztype-control-search-box"},Object(D.e)(k.a,{inputRef:this.setSearchRef,type:"text",value:o,placeholder:Object(R.c)("Search"),onChange:this.changeSearch})),m)))}}H.propTypes=N,H.defaultProps={onChange:()=>{}}},657:function(e,t,a){"use strict";a(114),a(35);var n=a(6),r=a.n(n),o=a(3),i=a.n(o),s=a(84),l=a.n(s),c=a(1),u=a(945),d=a(60),p=a(18),h=a(122),f=a.n(h),m=a(91),b=a(7),g=a(228),v=a(49),y=a(67),x=a(0);const C=Object(g.a)(()=>Promise.all([a.e(0),a.e(14),a.e(47)]).then(a.bind(null,1468)));function O(e){var t,a;return(null==e?void 0:e.certified_by)||(null==e?void 0:e.certification_details)?l()({certification:{certified_by:null!=(t=null==e?void 0:e.certified_by)?t:null,details:null!=(a=null==e?void 0:e.certification_details)?a:null}}):null}t.a=Object(y.a)(({addSuccessToast:e,datasource:t,onDatasourceSave:a,onHide:n,show:o})=>{const[s,l]=Object(c.useState)(t),[h,g]=Object(c.useState)([]),y=Object(c.useRef)(null),w=()=>{var t;m.a.post({endpoint:"/datasource/save/",postPayload:{data:i()({},s,{metrics:null==s?void 0:null===(t=s.metrics)||void 0===t?void 0:r()(t).call(t,e=>i()({},e,{extra:O(e)})),type:s.type||s.datasource_type})}}).then(({json:t})=>{e(Object(b.c)("The datasource has been saved")),a(t),n()}).catch(e=>Object(v.a)(e).then(({error:e})=>{y.current.show({title:"Error",bsSize:"medium",bsStyle:"danger",actions:[f.a.DefaultAction("Ok",()=>{},"btn-danger")],body:e||Object(b.c)("An error has occurred")})}))};return Object(x.e)(d.a,{show:o,onHide:n,bsSize:"large"},Object(x.e)(d.a.Header,{closeButton:!0},Object(x.e)(d.a.Title,null,Object(x.e)("div",null,Object(x.e)("span",{className:"float-left"},Object(b.c)("Edit Dataset "),Object(x.e)("strong",null,s.table_name))))),Object(x.e)(d.a.Body,null,o&&Object(x.e)(C,{showLoadingForImport:!0,height:500,datasource:s,onChange:(e,t)=>{var a;l(i()({},e,{metrics:null==e?void 0:r()(a=e.metrics).call(a,e=>i()({},e,{is_certified:(null==e?void 0:e.certified_by)||(null==e?void 0:e.certification_details)}))})),g(t)}})),Object(x.e)(d.a.Footer,null,Object(x.e)("span",{className:"float-left"},Object(x.e)(p.a,{buttonSize:"sm",buttonStyle:"default",target:"_blank",href:s.edit_url||s.url},Object(b.c)("Use Legacy Datasource Editor"))),Object(x.e)("span",{className:"float-right"},Object(x.e)(p.a,{buttonSize:"sm",buttonStyle:"primary",className:"m-r-5","data-test":"datasource-modal-save",onClick:()=>{y.current.show({title:Object(b.c)("Confirm save"),bsSize:"medium",actions:[f.a.CancelAction(),f.a.OKAction(w)],body:Object(x.e)("div",null,Object(x.e)(u.a,{bsStyle:"warning",className:"pointer",onClick:y.current.hideAlert},Object(x.e)("div",null,Object(x.e)("i",{className:"fa fa-exclamation-triangle"})," ",Object(b.c)("The dataset configuration exposed here\n                affects all the charts using this dataset.\n                Be mindful that changing settings\n                here may affect other charts\n                in undesirable ways."))),Object(b.c)("Are you sure you want to save and apply changes?"))})},disabled:h.length>0},Object(b.c)("Save")),Object(x.e)(p.a,{buttonSize:"sm",onClick:n},Object(b.c)("Cancel")),Object(x.e)(f.a,{ref:y}))))})},660:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(1);var n=a(2),r=a.n(n),o=(a(1881),a(0));const i={colorCode:r.a.string};function s({colorCode:e=""}){return Object(o.e)("svg",{className:"filter-badge "+e,width:"20",height:"20",viewBox:"0 0 20 20"},Object(o.e)("path",{d:"M4 5H16V7H4V5ZM6 9H14V11H6V9ZM12 13H8V15H12V13Z"}))}s.propTypes=i},72:function(e,t,a){"use strict";a.d(t,"h",(function(){return o})),a.d(t,"m",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"i",(function(){return l})),a.d(t,"j",(function(){return c})),a.d(t,"n",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"o",(function(){return h})),a.d(t,"f",(function(){return f})),a.d(t,"l",(function(){return m})),a.d(t,"c",(function(){return b})),a.d(t,"d",(function(){return g})),a.d(t,"a",(function(){return v})),a.d(t,"k",(function(){return y})),a.d(t,"p",(function(){return x})),a.d(t,"q",(function(){return C}));var n=a(58),r=a.n(n);const o="load_chart",i="render_chart",s="hide_browser_tab",l="mount_dashboard",c="mount_explorer",u="select_dashboard_tab",d="force_refresh_chart",p="change_explore_controls",h="toggle_edit_dashboard",f="force_refresh_dashboard",m="periodic_render_dashboard",b="explore_dashboard_chart",g="export_csv_dashboard_chart",v="change_dashboard_filter",y="omnibar_triggered",x=new r.a([o,i,s]),C=(new r.a([l,u,b,d,g,v,p,h,f,m,y,c]),{getTimestamp:()=>Math.round(window.performance.now())})},729:function(e,t,a){"use strict";var n=a(31);t.__esModule=!0,t.default=void 0;var r=n(a(224)),o=n(a(135));function i(e,t,a){var n,o={target:e,currentTarget:e};function i(e){e.target===e.currentTarget&&(clearTimeout(n),e.target.removeEventListener(r.default.end,i),t.call(this))}r.default.end?null==a&&(a=l(e)||0):a=0,r.default.end?(e.addEventListener(r.default.end,i,!1),n=setTimeout((function(){return i(o)}),1.5*(a||100))):setTimeout(i.bind(null,o),0)}i._parseDuration=l;var s=i;function l(e){var t=(0,o.default)(e,r.default.duration),a=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*a}t.default=s,e.exports=t.default},730:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(124)),r=u(a(104)),o=u(a(125)),i=u(a(111)),s=u(a(115)),l=u(a(1)),c=a(390);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,r.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e)),o=e.prompt,s=o.initialValue,l=o.placeholder;return a.state={value:s||"",initialValue:s,placeholder:l},a.inputElement=null,a.onSubmit=a.onSubmit.bind(a),a}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({value:this.state.initialValue||""},(function(){e.inputElement.select()}))}},{key:"onSubmit",value:function(e){return e.preventDefault(),this.props.onSubmit&&this.props.onSubmit(),!1}},{key:"render",value:function(){var e=this,t=this.props.prompt,a=this.state,n=a.value,r=a.placeholder,o=t instanceof c.PasswordPrompt?"password":"text";return l.default.createElement("form",{onSubmit:this.onSubmit},l.default.createElement("input",{ref:function(t){e.inputElement=t},type:o,className:"form-control",value:n,placeholder:r,onChange:function(t){return e.setState({value:t.target.value})},autoFocus:!0}))}},{key:"value",get:function(){return this.state.value}}]),t}(l.default.Component);t.default=d},774:function(e,t,a){"use strict";a(195),a(132),a(35);var n=a(6),r=a.n(n),o=a(17),i=a.n(o),s=a(5),l=a.n(s),c=a(3),u=a.n(c),d=a(34),p=a.n(d),h=a(16),f=a.n(h),m=a(717),b=a.n(m),g=a(1),v=a.n(g),y=a(2),x=a.n(y),C=a(284),O=a(1839),w=a(278),E=a(441),_=a(81),S=a(127),j=a(1604),T=a(387),k=a(1606),M=a(1605),R=a(1598),A=a(18),D=a(776),N=a.n(D),P=(a(1143),a(13)),F=a.n(P),I=a(7),L=a(73),H=a(107);const B=(e,t)=>e.replace("T00:00:00","")||(t?"-∞":"∞"),U=(e,t)=>{var a;const n=e.split(" : ");if(1===n.length)return e;const o=r()(a=t||["unknown","unknown"]).call(a,e=>"inclusive"===e?"≤":"<");return B(n[0],!0)+" "+o[0]+" col "+o[1]+" "+B(n[1])};var V=a(65),q=(a(1144),a(46)),z=a(231),G=a(0);function W(){const e=f()(["\n  .radio {\n    margin: ","px 0;\n  }\n"]);return W=function(){return e},e}const Y=b()({DEFAULTS:"defaults",CUSTOM_START_END:"custom_start_end",CUSTOM_RANGE:"custom_range"}),K=b()({DEFAULTS:"defaults",CUSTOM:"custom"}),Q=b()({LAST:"Last",NEXT:"Next"}),X=["Last day","Last week","Last month","Last quarter","Last year","No filter"],Z=["seconds","minutes","hours","days","weeks","months","years"],J="YYYY-MM-DD[T]HH:mm:ss",$=F()().utc().startOf("day").subtract(7,"days").format(J),ee=F()().utc().startOf("day").format(J),te=Object(I.c)("Superset supports smart date parsing. Strings like `3 weeks ago`, `last sunday`, or `2 weeks from now` can be used."),ae={width:"250px"},ne={animation:x.a.bool,name:x.a.string.isRequired,label:x.a.string,description:x.a.string,onChange:x.a.func,value:x.a.string,height:x.a.number,onOpenDateFilterControl:x.a.func,onCloseDateFilterControl:x.a.func,endpoints:x.a.arrayOf(x.a.string)},re={animation:!0,onChange:()=>{},value:"Last week",onOpenDateFilterControl:()=>{},onCloseDateFilterControl:()=>{}};function oe(e){return e===F()(e,J).format(J)}function ie(e){const t=e.split(" ")[1]+"s";return{tab:K.DEFAULTS,type:Y.DEFAULTS,common:e,since:"No filter"===e?"":F()().utc().startOf("day").subtract(1,t).format(J),until:"No filter"===e?"":F()().utc().startOf("day").format(J)}}function se(e){const[t,a,n]=e.split(" ",3);let r,o;return t===Q.LAST?(o=F()().utc().startOf("day").format(J),r=F()().utc().startOf("day").subtract(a,n).format(J)):(o=F()().utc().startOf("day").add(a,n).format(J),r=F()().startOf("day").format(J)),{tab:K.CUSTOM,type:Y.CUSTOM_RANGE,common:null,rel:t,num:a,grain:n,since:r,until:o}}const le=L.a.div(W(),({theme:e})=>e.gridUnit);class ce extends v.a.Component{constructor(e){var t,a,n,r,o,i,s,c,d,h,f,m,b;super(e),this.state={type:Y.DEFAULTS,tab:K.DEFAULTS,common:X[0],rel:Q.LAST,num:"7",grain:Z[3],since:$,until:ee,showSinceCalendar:!1,showUntilCalendar:!1,sinceViewMode:"days",untilViewMode:"days"};const{value:g}=e;p()(g).call(g," : ")>=0?this.state=u()({},this.state,function(e){const[t,a]=e.split(" : ",2);return{since:t,until:a,type:Y.CUSTOM_START_END,tab:K.CUSTOM}}(g)):p()(X).call(X,g)>=0?this.state=u()({},this.state,ie(g)):this.state=u()({},this.state,se(g)),this.close=l()(t=this.close).call(t,this),this.handleClick=l()(a=this.handleClick).call(a,this),this.handleClickTrigger=l()(n=this.handleClickTrigger).call(n,this),this.isValidSince=l()(r=this.isValidSince).call(r,this),this.isValidUntil=l()(o=this.isValidUntil).call(o,this),this.onEnter=l()(i=this.onEnter).call(i,this),this.renderInput=l()(s=this.renderInput).call(s,this),this.setCustomRange=l()(c=this.setCustomRange).call(c,this),this.setCustomStartEnd=l()(d=this.setCustomStartEnd).call(d,this),this.setTypeCustomRange=l()(h=this.setTypeCustomRange).call(h,this),this.setTypeCustomStartEnd=l()(f=this.setTypeCustomStartEnd).call(f,this),this.toggleCalendar=l()(m=this.toggleCalendar).call(m,this),this.changeTab=l()(b=this.changeTab).call(b,this)}componentDidMount(){document.addEventListener("click",this.handleClick)}componentWillUnmount(){document.removeEventListener("click",this.handleClick)}onEnter(e){"Enter"===e.key&&this.close()}setCustomRange(e,t){const a=u()({},this.state,{[e]:t}),n=[a.rel,a.num,a.grain].join(" ");this.setState(se(n))}setCustomStartEnd(e,t){const a="since"===e&&"days"===this.state.sinceViewMode||"until"===e&&"days"===this.state.untilViewMode;this.setState({type:Y.CUSTOM_START_END,[e]:"string"==typeof t?t:t.format(J),showSinceCalendar:this.state.showSinceCalendar&&!a,showUntilCalendar:this.state.showUntilCalendar&&!a,sinceViewMode:a?"days":this.state.sinceViewMode,untilViewMode:a?"days":this.state.untilViewMode})}setTypeCustomRange(){this.setState({type:Y.CUSTOM_RANGE})}setTypeCustomStartEnd(){this.setState({type:Y.CUSTOM_START_END})}changeTab(){const{tab:e}=this.state;e===K.CUSTOM?this.setState({tab:K.DEFAULTS}):e===K.DEFAULTS&&this.setState({tab:K.CUSTOM})}handleClick(e){const{target:t}=e;this.startEndSectionRef&&this.startEndSectionRef.contains(t)&&this.setTypeCustomStartEnd(),"popover-trigger"!==t.getAttribute("name")&&this.popoverContainer&&!this.popoverContainer.contains(t)&&this.props.onCloseDateFilterControl()}handleClickTrigger(){this.popoverContainer?this.props.onCloseDateFilterControl():this.props.onOpenDateFilterControl()}close(){let e;e=this.state.type===Y.DEFAULTS||this.state.tab===K.DEFAULTS?this.state.common:this.state.type===Y.CUSTOM_RANGE?this.state.rel+" "+this.state.num+" "+this.state.grain:[this.state.since,this.state.until].join(" : "),this.props.onCloseDateFilterControl(),this.props.onChange(e),this.refs.trigger.hide(),this.setState({showSinceCalendar:!1,showUntilCalendar:!1})}isValidSince(e){return!oe(this.state.until)||e<=F()(this.state.until,J)}isValidUntil(e){return!oe(this.state.since)||e>=F()(this.state.since,J)}toggleCalendar(e){const t={};"showSinceCalendar"===e?(t.showSinceCalendar=!this.state.showSinceCalendar,this.state.showSinceCalendar||(t.showUntilCalendar=!1)):"showUntilCalendar"===e&&(t.showUntilCalendar=!this.state.showUntilCalendar,this.state.showUntilCalendar||(t.showSinceCalendar=!1)),this.setState(t)}renderInput(e,t){return Object(G.e)(C.a,null,Object(G.e)(O.a,{bsSize:"small"},Object(G.e)(w.a,i()({},e,{type:"text",onKeyPress:this.onEnter,onFocus:this.setTypeCustomStartEnd,onClick:()=>{}})),Object(G.e)(O.a.Button,{onClick:()=>this.toggleCalendar(t)},Object(G.e)(A.a,{theme:this.props.theme},Object(G.e)("i",{className:"fa fa-calendar"})))))}renderPopover(){const e=r()(Z).call(Z,e=>Object(G.e)(E.a,{onSelect:e=>this.setCustomRange("grain",e),key:e,eventKey:e,active:e===this.state.grain,fullWidth:!1},e)),t=r()(X).call(X,e=>{const t=ie(e),a=(n=t.since,r=t.until,n+" : "+r);var n,r;return Object(G.e)(le,{theme:this.props.theme,key:e},Object(G.e)(_.a,{key:e,placement:"right",overlay:Object(G.e)(S.a,{id:"tooltip-"+e},U(a,this.props.endpoints))},Object(G.e)("div",{style:{display:"inline-block"}},Object(G.e)(j.a,{key:e.replace(" ","").toLowerCase(),checked:this.state.common===e,onChange:()=>this.setState(t)},e))))});return Object(G.e)(T.a,{id:"filter-popover",placement:"top",positionTop:0},Object(G.e)("div",{style:ae,ref:e=>{this.popoverContainer=e}},Object(G.e)(k.a,{defaultActiveKey:this.state.tab===K.DEFAULTS?1:2,id:"type",className:"time-filter-tabs",onSelect:this.changeTab},Object(G.e)(M.a,{eventKey:1,title:"Defaults"},Object(G.e)(C.a,null,t)),Object(G.e)(M.a,{eventKey:2,title:"Custom"},Object(G.e)(C.a,null,Object(G.e)(z.a,{title:"Relative to today",isSelected:this.state.type===Y.CUSTOM_RANGE,onSelect:this.setTypeCustomRange},Object(G.e)("div",{className:"clearfix centered",style:{marginTop:"12px"}},Object(G.e)("div",{style:{width:"60px",marginTop:"-4px"},className:"input-inline"},Object(G.e)(R.a,{bsSize:"small",componentClass:O.a.Button,id:"input-dropdown-rel",title:this.state.rel,onFocus:this.setTypeCustomRange},Object(G.e)(E.a,{onSelect:e=>this.setCustomRange("rel",e),key:Q.LAST,eventKey:Q.LAST,active:this.state.rel===Q.LAST},"Last"),Object(G.e)(E.a,{onSelect:e=>this.setCustomRange("rel",e),key:Q.NEXT,eventKey:Q.NEXT,active:this.state.rel===Q.NEXT},"Next"))),Object(G.e)("div",{style:{width:"60px",marginTop:"-4px"},className:"input-inline m-l-5 m-r-3"},Object(G.e)(w.a,{bsSize:"small",type:"text",onChange:e=>this.setCustomRange("num",e.target.value),onFocus:this.setTypeCustomRange,onKeyPress:this.onEnter,value:this.state.num,style:{height:"30px"}})),Object(G.e)("div",{style:{width:"90px",marginTop:"-4px"},className:"input-inline"},Object(G.e)(R.a,{bsSize:"small",componentClass:O.a.Button,id:"input-dropdown-grain",title:this.state.grain,onFocus:this.setTypeCustomRange},e)))),Object(G.e)(z.a,{title:"Start / end",isSelected:this.state.type===Y.CUSTOM_START_END,onSelect:this.setTypeCustomStartEnd,info:te},Object(G.e)("div",{ref:e=>{this.startEndSectionRef=e}},Object(G.e)(O.a,null,Object(G.e)("div",{style:{margin:"5px 0"}},Object(G.e)(N.a,{value:this.state.since,defaultValue:this.state.since,viewDate:this.state.since,onChange:e=>this.setCustomStartEnd("since",e),isValidDate:this.isValidSince,onClick:this.setTypeCustomStartEnd,renderInput:e=>this.renderInput(e,"showSinceCalendar"),open:this.state.showSinceCalendar,viewMode:this.state.sinceViewMode,onViewModeChange:e=>this.setState({sinceViewMode:e})})),Object(G.e)("div",{style:{margin:"5px 0"}},Object(G.e)(N.a,{value:this.state.until,defaultValue:this.state.until,viewDate:this.state.until,onChange:e=>this.setCustomStartEnd("until",e),isValidDate:this.isValidUntil,onClick:this.setTypeCustomStartEnd,renderInput:e=>this.renderInput(e,"showUntilCalendar"),open:this.state.showUntilCalendar,viewMode:this.state.untilViewMode,onViewModeChange:e=>this.setState({untilViewMode:e})})))))))),Object(G.e)("div",{className:"clearfix"},Object(G.e)(A.a,{buttonSize:"small",className:"float-right ok",buttonStyle:"primary",onClick:this.close,theme:this.props.theme},"Ok"))))}render(){const e=this.props.value||re.value;return Object(G.e)("div",null,Object(G.e)(q.a,this.props),Object(G.e)(_.a,{animation:this.props.animation,container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover(),onClick:this.handleClickTrigger},Object(G.e)(V.a,{name:"popover-trigger",className:"pointer"},U(e,this.props.endpoints))))}}t.a=Object(H.c)(ce);ce.propTypes=ne,ce.defaultProps=re},775:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return p})),a.d(t,"f",(function(){return h}));a(3);var n=a(29),r=a.n(n),o=a(43),i=a.n(o);function s(e){var t;return i()(t=r()(e)).call(t,(e,t)=>{const a=e;return a[t]=t,a},{})}const l={FORMULA:{value:"FORMULA",label:"Formula"},EVENT:{value:"EVENT",label:"Event",supportNativeSource:!0},INTERVAL:{value:"INTERVAL",label:"Interval",supportNativeSource:!0},TIME_SERIES:{value:"TIME_SERIES",label:"Time Series"}},c=s(l),u=c.FORMULA,d={NATIVE:{value:"NATIVE",label:"Superset annotation"}},p=s(d);function h(e){return!!e}t.e=c},776:function(e,t,a){"use strict";var n=a(851),r=a(2),o=a(337),i=a(13),s=a(1),l=a(1137),c=a(1142).default,u=Object.freeze({YEARS:"years",MONTHS:"months",DAYS:"days",TIME:"time"}),d=r,p=o({displayName:"DateTime",propTypes:{onFocus:d.func,onBlur:d.func,onChange:d.func,onViewModeChange:d.func,onNavigateBack:d.func,onNavigateForward:d.func,locale:d.string,utc:d.bool,displayTimeZone:d.string,input:d.bool,inputProps:d.object,timeConstraints:d.object,viewMode:d.oneOf([u.YEARS,u.MONTHS,u.DAYS,u.TIME]),isValidDate:d.func,open:d.bool,strictParsing:d.bool,closeOnSelect:d.bool,closeOnTab:d.bool},getInitialState:function(){this.checkTZ(this.props);var e=this.getStateFromProps(this.props);return void 0===e.open&&(e.open=!this.props.input),e.currentView=this.props.dateFormat?this.props.viewMode||e.updateOn||u.DAYS:u.TIME,e},parseDate:function(e,t){var a;return e&&"string"==typeof e?a=this.localMoment(e,t.datetime):e&&(a=this.localMoment(e)),a&&!a.isValid()&&(a=null),a},getStateFromProps:function(e){var t,a,n,r,o=this.getFormats(e),i=e.value||e.defaultValue;return t=this.parseDate(i,o),a=this.parseDate(e.viewDate,o),a=t?t.clone().startOf("month"):a?a.clone().startOf("month"):this.localMoment().startOf("month"),n=this.getUpdateOn(o),r=t?t.format(o.datetime):i.isValid&&!i.isValid()?"":i||"",{updateOn:n,inputFormat:o.datetime,viewDate:a,selectedDate:t,inputValue:r,open:e.open}},getUpdateOn:function(e){return e.date.match(/[lLD]/)?u.DAYS:-1!==e.date.indexOf("M")?u.MONTHS:-1!==e.date.indexOf("Y")?u.YEARS:u.DAYS},getFormats:function(e){var t={date:e.dateFormat||"",time:e.timeFormat||""},a=this.localMoment(e.date,null,e).localeData();return!0===t.date?t.date=a.longDateFormat("L"):this.getUpdateOn(t)!==u.DAYS&&(t.time=""),!0===t.time&&(t.time=a.longDateFormat("LT")),t.datetime=t.date&&t.time?t.date+" "+t.time:t.date||t.time,t},componentWillReceiveProps:function(e){var t=this.getFormats(e),a={};if(e.value===this.props.value&&t.datetime===this.getFormats(this.props).datetime||(a=this.getStateFromProps(e)),void 0===a.open&&(void 0!==e.open?a.open=e.open:this.props.closeOnSelect&&this.state.currentView!==u.TIME?a.open=!1:a.open=this.state.open),e.viewMode!==this.props.viewMode&&(a.currentView=e.viewMode),e.locale!==this.props.locale){if(this.state.viewDate){var n=this.state.viewDate.clone().locale(e.locale);a.viewDate=n}if(this.state.selectedDate){var r=this.state.selectedDate.clone().locale(e.locale);a.selectedDate=r,a.inputValue=r.format(t.datetime)}}e.utc===this.props.utc&&e.displayTimeZone===this.props.displayTimeZone||(e.utc?(this.state.viewDate&&(a.viewDate=this.state.viewDate.clone().utc()),this.state.selectedDate&&(a.selectedDate=this.state.selectedDate.clone().utc(),a.inputValue=a.selectedDate.format(t.datetime))):e.displayTimeZone?(this.state.viewDate&&(a.viewDate=this.state.viewDate.clone().tz(e.displayTimeZone)),this.state.selectedDate&&(a.selectedDate=this.state.selectedDate.clone().tz(e.displayTimeZone),a.inputValue=a.selectedDate.tz(e.displayTimeZone).format(t.datetime))):(this.state.viewDate&&(a.viewDate=this.state.viewDate.clone().local()),this.state.selectedDate&&(a.selectedDate=this.state.selectedDate.clone().local(),a.inputValue=a.selectedDate.format(t.datetime)))),e.viewDate!==this.props.viewDate&&(a.viewDate=i(e.viewDate)),this.checkTZ(e),this.setState(a)},onInputChange:function(e){var t=null===e.target?e:e.target.value,a=this.localMoment(t,this.state.inputFormat),n={inputValue:t};return a.isValid()&&!this.props.value?(n.selectedDate=a,n.viewDate=a.clone().startOf("month")):n.selectedDate=null,this.setState(n,(function(){return this.props.onChange(a.isValid()?a:this.state.inputValue)}))},onInputKey:function(e){9===e.which&&this.props.closeOnTab&&this.closeCalendar()},showView:function(e){var t=this;return function(){t.state.currentView!==e&&t.props.onViewModeChange(e),t.setState({currentView:e})}},setDate:function(e){var t=this,a={month:u.DAYS,year:u.MONTHS};return function(n){t.setState({viewDate:t.state.viewDate.clone()[e](parseInt(n.target.getAttribute("data-value"),10)).startOf(e),currentView:a[e]}),t.props.onViewModeChange(a[e])}},subtractTime:function(e,t,a){var n=this;return function(){n.props.onNavigateBack(e,t),n.updateTime("subtract",e,t,a)}},addTime:function(e,t,a){var n=this;return function(){n.props.onNavigateForward(e,t),n.updateTime("add",e,t,a)}},updateTime:function(e,t,a,n){var r={},o=n?"selectedDate":"viewDate";r[o]=this.state[o].clone()[e](t,a),this.setState(r)},allowedSetTime:["hours","minutes","seconds","milliseconds"],setTime:function(e,t){var a,n=this.allowedSetTime.indexOf(e)+1,r=this.state,o=(r.selectedDate||r.viewDate).clone();for(o[e](t);n<this.allowedSetTime.length;n++)o[a=this.allowedSetTime[n]](o[a]());this.props.value||this.setState({selectedDate:o,inputValue:o.format(r.inputFormat)}),this.props.onChange(o)},updateSelectedDate:function(e,t){var a,n=e.currentTarget,r=0,o=this.state.viewDate,i=this.state.selectedDate||o;if(-1!==n.className.indexOf("rdtDay")?(-1!==n.className.indexOf("rdtNew")?r=1:-1!==n.className.indexOf("rdtOld")&&(r=-1),a=o.clone().month(o.month()+r).date(parseInt(n.getAttribute("data-value"),10))):-1!==n.className.indexOf("rdtMonth")?a=o.clone().month(parseInt(n.getAttribute("data-value"),10)).date(i.date()):-1!==n.className.indexOf("rdtYear")&&(a=o.clone().month(i.month()).date(i.date()).year(parseInt(n.getAttribute("data-value"),10))),a.hours(i.hours()).minutes(i.minutes()).seconds(i.seconds()).milliseconds(i.milliseconds()),this.props.value)this.props.closeOnSelect&&t&&this.closeCalendar();else{var s=!(this.props.closeOnSelect&&t);s||this.props.onBlur(a),this.setState({selectedDate:a,viewDate:a.clone().startOf("month"),inputValue:a.format(this.state.inputFormat),open:s})}this.props.onChange(a)},openCalendar:function(e){this.state.open||this.setState({open:!0},(function(){this.props.onFocus(e)}))},closeCalendar:function(){this.setState({open:!1},(function(){this.props.onBlur(this.state.selectedDate||this.state.inputValue)}))},handleClickOutside:function(){this.props.input&&this.state.open&&void 0===this.props.open&&!this.props.disableCloseOnClickOutside&&this.setState({open:!1},(function(){this.props.onBlur(this.state.selectedDate||this.state.inputValue)}))},localMoment:function(e,t,a){var n=null;return n=(a=a||this.props).utc?i.utc(e,t,a.strictParsing):a.displayTimeZone?i.tz(e,t,a.displayTimeZone):i(e,t,a.strictParsing),a.locale&&n.locale(a.locale),n},checkTZ:function(e){var t=console;!e.displayTimeZone||this.tzWarning||i.tz||(this.tzWarning=!0,t&&t.error('react-datetime: displayTimeZone prop with value "'+e.displayTimeZone+'" is used but moment.js timezone is not loaded.'))},componentProps:{fromProps:["value","isValidDate","renderDay","renderMonth","renderYear","timeConstraints"],fromState:["viewDate","selectedDate","updateOn"],fromThis:["setDate","setTime","showView","addTime","subtractTime","updateSelectedDate","localMoment","handleClickOutside"]},getComponentProps:function(){var e=this,t=this.getFormats(this.props),a={dateFormat:t.date,timeFormat:t.time};return this.componentProps.fromProps.forEach((function(t){a[t]=e.props[t]})),this.componentProps.fromState.forEach((function(t){a[t]=e.state[t]})),this.componentProps.fromThis.forEach((function(t){a[t]=e[t]})),a},overrideEvent:function(e,t){if(this.overridenEvents||(this.overridenEvents={}),!this.overridenEvents[e]){var a=this;this.overridenEvents[e]=function(n){var r;a.props.inputProps&&a.props.inputProps[e]&&(r=a.props.inputProps[e](n)),!1!==r&&t(n)}}return this.overridenEvents[e]},render:function(){var e="rdt"+(this.props.className?Array.isArray(this.props.className)?" "+this.props.className.join(" "):" "+this.props.className:""),t=[];if(this.props.input){var a=n({type:"text",className:"form-control",value:this.state.inputValue},this.props.inputProps,{onClick:this.overrideEvent("onClick",this.openCalendar),onFocus:this.overrideEvent("onFocus",this.openCalendar),onChange:this.overrideEvent("onChange",this.onInputChange),onKeyDown:this.overrideEvent("onKeyDown",this.onInputKey)});t=this.props.renderInput?[s.createElement("div",{key:"i"},this.props.renderInput(a,this.openCalendar,this.closeCalendar))]:[s.createElement("input",n({key:"i"},a))]}else e+=" rdtStatic";return(this.props.open||void 0===this.props.open&&this.state.open)&&(e+=" rdtOpen"),s.createElement(h,{className:e,onClickOut:this.handleClickOutside},t.concat(s.createElement("div",{key:"dt",className:"rdtPicker"},s.createElement(l,{view:this.state.currentView,viewProps:this.getComponentProps()}))))}}),h=c(o({render:function(){return s.createElement("div",{className:this.props.className},this.props.children)},handleClickOutside:function(e){this.props.onClickOut(e)}}));p.defaultProps={className:"",defaultValue:"",inputProps:{},input:!0,onFocus:function(){},onBlur:function(){},onChange:function(){},onViewModeChange:function(){},onNavigateBack:function(){},onNavigateForward:function(){},timeFormat:!0,timeConstraints:{},dateFormat:!0,strictParsing:!0,closeOnSelect:!1,closeOnTab:!0,utc:!1},p.moment=i,e.exports=p},79:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(178),r=a.n(n),o=(a(1),a(2)),i=a.n(o),s=a(81),l=a(127),c=a(0);const u={label:i.a.string.isRequired,tooltip:i.a.node.isRequired,children:i.a.node.isRequired,placement:i.a.string,trigger:i.a.oneOfType([i.a.string,i.a.arrayOf(i.a.string)])};function d({label:e,tooltip:t,children:a,placement:n,trigger:o}){return Object(c.e)(s.a,{placement:n,overlay:Object(c.e)(l.a,{id:r()(e)+"-tooltip"},t),trigger:o},a)}d.propTypes=u,d.defaultProps={placement:"top"}},821:function(e,t,a){"use strict";var n=a(6),r=a.n(n),o=(a(1),a(2)),i=a.n(o),s=a(0);const l={controls:i.a.arrayOf(i.a.object).isRequired};function c(e){var t;const a=12/e.controls.length;return Object(s.e)("div",{className:"row space-1"},r()(t=e.controls).call(t,(e,t)=>Object(s.e)("div",{className:"col-lg-"+a+" col-xs-12",key:t},e)))}c.propTypes=l,t.a=c},822:function(e,t,a){"use strict";a.d(t,"a",(function(){return xn}));var n=a(17),r=a.n(n),o=a(5),i=a.n(o),s=a(29),l=a.n(s),c=a(1),u=a.n(c),d=a(2),p=a.n(d),h=(a(1079),a(114),a(6)),f=a.n(h),m=a(14),b=a.n(m),g=a(47),v=a.n(g),y=a(210),x=a.n(y),C=a(33),O=a.n(C),w=a(387),E=a(81),_=a(932),S=a(1601),j=a(56),T=a(7),k=a(107),M=a(95),R=a(228),A=a(99),D=a(87),N=a(0);const P=Object(R.a)(()=>Promise.all([a.e(1),a.e(2),a.e(61)]).then(a.bind(null,4287)),()=>Object(N.e)("div",{style:{width:450,height:368}})),F={colorScheme:p.a.string.isRequired,annotationError:p.a.object,annotationQuery:p.a.object,vizType:p.a.string,validationErrors:p.a.array,name:p.a.string.isRequired,actions:p.a.object,value:p.a.arrayOf(p.a.object),onChange:p.a.func,refreshAnnotationData:p.a.func};class I extends u.a.PureComponent{constructor(e){var t,a;super(e),this.addAnnotationLayer=i()(t=this.addAnnotationLayer).call(t,this),this.removeAnnotationLayer=i()(a=this.removeAnnotationLayer).call(a,this)}componentDidMount(){P.preload()}UNSAFE_componentWillReceiveProps(e){const{name:t,annotationError:a,validationErrors:n,value:r}=e;l()(a).length&&!n.length&&this.props.actions.setControlValue(t,r,l()(a)),!l()(a).length&&n.length&&this.props.actions.setControlValue(t,r,[])}addAnnotationLayer(e){var t;const a=e;let n=O()(t=this.props.value).call(t);const r=x()(n).call(n,e=>e.name===(a.oldName||a.name));delete a.oldName,r>-1?n[r]=a:n=v()(n).call(n,a),this.props.refreshAnnotationData(a),this.props.onChange(n)}removeAnnotationLayer(e){var t,a;const n=b()(t=O()(a=this.props.value).call(a)).call(t,t=>t.name!==e.oldName);this.props.onChange(n)}renderPopover(e,t,a){const n=t?t.name:"_new",{theme:o}=this.props;return Object(N.e)(w.a,{style:{maxWidth:"none"},title:t?Object(T.c)("Edit Annotation Layer"):Object(T.c)("Add Annotation Layer"),id:"annotation-pop-"+n},Object(N.e)(P,r()({},t,{parent:this.refs[e],error:a,colorScheme:this.props.colorScheme,vizType:this.props.vizType,addAnnotationLayer:this.addAnnotationLayer,removeAnnotationLayer:this.removeAnnotationLayer,close:()=>this.refs[e].hide(),theme:o})))}renderInfo(e){const{annotationError:t,annotationQuery:a}=this.props;return a[e.name]?Object(N.e)("i",{className:"fa fa-refresh",style:{color:"orange"},"aria-hidden":!0}):t[e.name]?Object(N.e)(M.a,{label:"validation-errors",bsStyle:"danger",tooltip:t[e.name]}):e.show?"":Object(N.e)("span",{style:{color:"red"}}," Hidden ")}render(){var e;const t=f()(e=this.props.value).call(e,(e,t)=>Object(N.e)(E.a,{key:t,trigger:"click",rootClose:!0,ref:"overlay-"+t,placement:"right",overlay:this.renderPopover("overlay-"+t,e,this.props.annotationError[e.name])},Object(N.e)(_.a,null,Object(N.e)("span",null,e.name),Object(N.e)("span",{style:{float:"right"}},this.renderInfo(e)))));return Object(N.e)("div",null,Object(N.e)(S.a,null,t,Object(N.e)(E.a,{trigger:"click",rootClose:!0,ref:"overlay-new",placement:"right",overlay:this.renderPopover("overlay-new")},Object(N.e)(_.a,null,Object(N.e)("i",{className:"fa fa-plus"}),"   ",Object(T.c)("Add Annotation Layer")))))}}I.propTypes=F,I.defaultProps={vizType:"",value:[],annotationError:{},annotationQuery:{},onChange:()=>{}};const L=Object(k.c)(I);var H=Object(j.b)((function({charts:e,explore:t}){const a=e[Object(A.f)(t)]||e[0]||{};return{colorScheme:(t.controls||{}).color_scheme.value,annotationError:a.annotationError,annotationQuery:a.annotationQuery,vizType:t.controls.viz_type.value}}),(function(e){return{refreshAnnotationData:t=>e(Object(D.runAnnotationQuery)(t))}}))(L),B=a(218),U=a.n(B),V=a(179),q=a.n(V),z=a(284),G=a(373),W=a(236),Y=a(278),K=a(46);const Q={onChange:p.a.func,value:p.a.array};class X extends u.a.Component{constructor(e){var t,a,n;super(e),this.state={minMax:[null===e.value[0]?"":e.value[0],null===e.value[1]?"":e.value[1]]},this.onChange=i()(t=this.onChange).call(t,this),this.onMinChange=i()(a=this.onMinChange).call(a,this),this.onMaxChange=i()(n=this.onMaxChange).call(n,this)}onMinChange(e){this.setState({minMax:[e.target.value,this.state.minMax[1]]},this.onChange)}onMaxChange(e){this.setState({minMax:[this.state.minMax[0],e.target.value]},this.onChange)}onChange(){const e=this.state.minMax,t=[];e[0]&&q()(Number(e[0]))&&t.push(Object(T.c)("`Min` value should be numeric or empty")),e[1]&&q()(Number(e[1]))&&t.push(Object(T.c)("`Max` value should be numeric or empty")),0===t.length?this.props.onChange([U()(e[0]),U()(e[1])],t):this.props.onChange([null,null],t)}render(){return Object(N.e)("div",null,Object(N.e)(K.a,this.props),Object(N.e)(z.a,{bsSize:"small"},Object(N.e)(G.a,null,Object(N.e)(W.a,{xs:6},Object(N.e)(Y.a,{type:"text",placeholder:Object(T.c)("Min"),onChange:this.onMinChange,value:this.state.minMax[0]})),Object(N.e)(W.a,{xs:6},Object(N.e)(Y.a,{type:"text",placeholder:Object(T.c)("Max"),onChange:this.onMaxChange,value:this.state.minMax[1]})))))}}X.propTypes=Q,X.defaultProps={onChange:()=>{},value:[null,null]};var Z=a(253),J=a(38),$=a.n(J),ee=a(3),te=a.n(ee),ae=a(70),ne=a.n(ae),re=a(193);a(1080);const oe={name:p.a.string.isRequired,label:p.a.string,description:p.a.string,placeholder:p.a.string,addTooltip:p.a.string,itemGenerator:p.a.func,keyAccessor:p.a.func,onChange:p.a.func,value:p.a.oneOfType([p.a.array]),isFloat:p.a.bool,isInt:p.a.bool,controlName:p.a.string.isRequired},ie={label:null,description:null,onChange:()=>{},placeholder:"Empty collection",itemGenerator:()=>({key:ne.a.generate()}),keyAccessor:e=>e.key,value:[],addTooltip:"Add an item"},se=Object(re.b)(_.a),le=Object(re.a)(S.a),ce=Object(re.c)(()=>Object(N.e)("i",{className:"fa fa-bars text-primary",style:{cursor:"ns-resize"}}));class ue extends u.a.Component{constructor(e){var t;super(e),this.onAdd=i()(t=this.onAdd).call(t,this)}onChange(e,t){te()(this.props.value[e],t),this.props.onChange(this.props.value)}onAdd(){var e;this.props.onChange(v()(e=this.props.value).call(e,[this.props.itemGenerator()]))}onSortEnd({oldIndex:e,newIndex:t}){this.props.onChange(Object(re.d)(this.props.value,e,t))}removeItem(e){var t;this.props.onChange(b()(t=this.props.value).call(t,(t,a)=>e!==a))}renderList(){var e,t;if(0===this.props.value.length)return Object(N.e)("div",{className:"text-muted"},this.props.placeholder);const a=gn[this.props.controlName];return Object(N.e)(le,{useDragHandle:!0,lockAxis:"y",onSortEnd:i()(e=this.onSortEnd).call(e,this)},f()(t=this.props.value).call(t,(e,t)=>{var n,o;const s=this.props,l=$()(s,["label"]);return Object(N.e)(se,{className:"clearfix",key:this.props.keyAccessor(e),index:t},Object(N.e)("div",{className:"pull-left m-r-5"},Object(N.e)(ce,null)),Object(N.e)("div",{className:"pull-left"},Object(N.e)(a,r()({},l,e,{onChange:i()(n=this.onChange).call(n,this,t)}))),Object(N.e)("div",{className:"pull-right"},Object(N.e)(M.a,{icon:"times",label:"remove-item",tooltip:"remove item",bsStyle:"primary",onClick:i()(o=this.removeItem).call(o,this,t)})))}))}render(){return Object(N.e)("div",{className:"CollectionControl"},Object(N.e)(K.a,this.props),this.renderList(),Object(N.e)(M.a,{icon:"plus-circle",label:"add-item",tooltip:this.props.addTooltip,bsStyle:"primary",className:"fa-lg",onClick:this.onAdd}))}}ue.propTypes=oe,ue.defaultProps=ie;var de=a(10),pe=a.n(de),he=a(423);const fe={onChange:p.a.func,value:p.a.object,colorScheme:p.a.string,colorNamespace:p.a.string},me={onChange:()=>{},value:{},colorScheme:void 0,colorNamespace:void 0};class be extends u.a.PureComponent{constructor(e){var t;super(e),pe()(t=l()(this.props.value)).call(t,e=>{he.b.getScale(this.props.colorScheme,this.props.colorNamespace).setColor(e,this.props.value[e])})}render(){return null}}be.propTypes=fe,be.defaultProps=me;var ge=a(856),ve=a(158);const ye={onChange:p.a.func,value:p.a.object},xe={position:"absolute",width:"50px",height:"20px",top:"0px",left:"0px",right:"0px",bottom:"0px"},Ce={swatch:{width:"50px",height:"20px",position:"relative",padding:"5px",borderRadius:"1px",display:"inline-block",cursor:"pointer",boxShadow:"rgba(0, 0, 0, 0.15) 0px 0px 0px 1px inset, rgba(0, 0, 0, 0.25) 0px 0px 4px inset"},color:te()({},xe,{borderRadius:"2px"}),checkboard:te()({},xe,{background:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==") left center'})};class Oe extends u.a.Component{constructor(e){var t;super(e),this.onChange=i()(t=this.onChange).call(t,this)}onChange(e){this.props.onChange(e.rgb)}renderPopover(){var e;const t=b()(e=Object(ve.a)().get().colors).call(e,(e,t)=>t<7);return Object(N.e)(w.a,{id:"filter-popover",className:"color-popover"},Object(N.e)(ge.SketchPicker,{color:this.props.value,onChange:this.onChange,presetColors:t}))}render(){const e=this.props.value||{r:0,g:0,b:0,a:0},t=te()({},Ce.color,{background:"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"});return Object(N.e)("div",null,Object(N.e)(K.a,this.props),Object(N.e)(E.a,{container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},Object(N.e)("div",{style:Ce.swatch},Object(N.e)("div",{style:Ce.checkboard}),Object(N.e)("div",{style:t}))))}}Oe.propTypes=ye,Oe.defaultProps={onChange:()=>{}};var we=a(583),Ee=a(1607),_e=a(1598),Se=a(441),je=a(127),Te=a(825),ke=a(142),Me=a(611),Re=a(65),Ae=a(79),De=a(657),Ne=(a(35),a(130)),Pe=a(60),Fe=a(945),Ie=a(91),Le=a(49),He=a(118),Be=a(67);const Ue=["name","type","schema","connection","creator"],Ve=["rawName","type","schema","connection","creator"],qe=Object(T.c)("Changing the datasource may break the chart if the chart relies on columns or metadata that does not exist in the target datasource");var ze=Object(Be.a)(({addDangerToast:e,onChange:t,onDatasourceSave:a,onHide:n,show:r})=>{const[o,i]=Object(c.useState)(null),[s,l]=Object(c.useState)(void 0),[u,d]=Object(c.useState)(!0);let p=Object(c.useRef)(null);return Object(N.e)(Pe.a,{show:r,onHide:n,onEnter:()=>{p&&p.current&&p.current.focus(),o||Ie.a.get({endpoint:"/superset/datasources/"}).then(({json:r})=>{const o=f()(r).call(r,r=>({rawName:r.name,connection:r.connection,schema:r.schema,name:Object(N.e)("a",{href:"#",onClick:()=>{return o=r,Ie.a.get({endpoint:"/datasource/get/"+o.type+"/"+o.id}).then(({json:e})=>{a(e),t(o.uid)}).catch(t=>{Object(Le.a)(t).then(({error:t,message:a})=>{const n=t?t.error||t.statusText||t:a;e(n)})}),void n();var o},className:"datasource-link"},r.name),type:r.type}));d(!1),i(o)}).catch(t=>{d(!1),Object(Le.a)(t).then(({error:t})=>{e(t.error||t.statusText||t)})})},bsSize:"large"},Object(N.e)(Pe.a.Header,{closeButton:!0},Object(N.e)(Pe.a.Title,null,Object(T.c)("Select a datasource"))),Object(N.e)(Pe.a.Body,null,Object(N.e)(Fe.a,{bsStyle:"warning"},Object(N.e)("strong",null,Object(T.c)("Warning!"))," ",qe),Object(N.e)("div",null,Object(N.e)(Y.a,{inputRef:e=>{(e=>{p=e})(e)},type:"text",bsSize:"sm",value:s,placeholder:Object(T.c)("Search / Filter"),onChange:e=>{l(e.target.value)}})),u&&Object(N.e)(He.a,null),o&&Object(N.e)(Ne.Table,{columns:Ue,className:"table table-condensed",data:o,itemsPerPage:20,filterable:Ve,filterBy:s,hideFilterInput:!0})))});a(1133);const Ge={actions:p.a.object.isRequired,onChange:p.a.func,value:p.a.string,datasource:p.a.object.isRequired,isEditable:p.a.bool,onDatasourceSave:p.a.func};class We extends u.a.PureComponent{constructor(e){var t,a,n,r,o;super(e),this.state={showEditDatasourceModal:!1,showChangeDatasourceModal:!1},this.onDatasourceSave=i()(t=this.onDatasourceSave).call(t,this),this.toggleChangeDatasourceModal=i()(a=this.toggleChangeDatasourceModal).call(a,this),this.toggleEditDatasourceModal=i()(n=this.toggleEditDatasourceModal).call(n,this),this.toggleShowDatasource=i()(r=this.toggleShowDatasource).call(r,this),this.renderDatasource=i()(o=this.renderDatasource).call(o,this)}onDatasourceSave(e){this.props.actions.setDatasource(e),this.props.onDatasourceSave&&this.props.onDatasourceSave(e)}toggleShowDatasource(){this.setState(({showDatasource:e})=>({showDatasource:!e}))}toggleChangeDatasourceModal(){this.setState(({showChangeDatasourceModal:e})=>({showChangeDatasourceModal:!e}))}toggleEditDatasourceModal(){this.setState(({showEditDatasourceModal:e})=>({showEditDatasourceModal:!e}))}renderDatasource(){var e,t;const{datasource:a}=this.props;return Object(N.e)("div",{className:"m-t-10"},Object(N.e)(Ee.a,{className:"m-t-0"},Object(N.e)("div",{className:"m-b-10"},Object(N.e)(Re.a,null,Object(N.e)("i",{className:"fa fa-database"})," ",a.database.backend)," "+a.database.name+" "),Object(N.e)(G.a,{className:"datasource-container"},Object(N.e)(W.a,{md:6},Object(N.e)("strong",null,"Columns"),f()(e=a.columns).call(e,e=>Object(N.e)("div",{key:e.column_name},Object(N.e)(ke.a,{showType:!0,column:e})))),Object(N.e)(W.a,{md:6},Object(N.e)("strong",null,"Metrics"),f()(t=a.metrics).call(t,e=>Object(N.e)("div",{key:e.metric_name},Object(N.e)(Me.a,{metric:e,showType:!0})))))))}render(){const{showChangeDatasourceModal:e,showEditDatasourceModal:t}=this.state,{datasource:a,onChange:n,value:r}=this.props;return Object(N.e)("div",null,Object(N.e)(K.a,this.props),Object(N.e)("div",{className:"btn-group label-dropdown"},Object(N.e)(Ae.a,{label:"change-datasource",tooltip:Object(T.c)("Click to change the datasource"),trigger:["hover"]},Object(N.e)(_e.a,{title:a.name,className:"label label-default label-btn m-r-5",bsSize:"sm",id:"datasource_menu"},Object(N.e)(Se.a,{eventKey:"3",onClick:this.toggleChangeDatasourceModal},Object(T.c)("Change Datasource")),"table"===a.type&&Object(N.e)(Se.a,{eventKey:"3",href:"/superset/sqllab?datasourceKey="+r,target:"_blank",rel:"noopener noreferrer"},Object(T.c)("Explore in SQL Lab")),this.props.isEditable&&Object(N.e)(Se.a,{eventKey:"3",onClick:this.toggleEditDatasourceModal},Object(T.c)("Edit Datasource")))),Object(N.e)(E.a,{placement:"right",overlay:Object(N.e)(je.a,{id:"toggle-datasource-tooltip"},Object(T.c)("Expand/collapse datasource configuration"))},Object(N.e)("a",{href:"#"},Object(N.e)("i",{role:"button","aria-label":"Toggle datasource visibility",tabIndex:0,className:"fa fa-"+(this.state.showDatasource?"minus":"plus")+"-square m-r-5 m-l-5 m-t-4",onClick:this.toggleShowDatasource})))),Object(N.e)(Te.a,{in:this.state.showDatasource},this.renderDatasource()),Object(N.e)(De.a,{datasource:a,show:t,onDatasourceSave:this.onDatasourceSave,onHide:this.toggleEditDatasourceModal}),Object(N.e)(ze,{onDatasourceSave:this.onDatasourceSave,onHide:this.toggleChangeDatasourceModal,show:e,onChange:n}))}}We.propTypes=Ge,We.defaultProps={onChange:()=>{},onDatasourceSave:null,value:null,isEditable:!0};var Ye=We,Ke=a(774),Qe=a(1837),Xe=a(189),Ze=(a(788),a(34)),Je=a.n(Ze),$e=a(1042),et=a.n($e),tt=a(43),at=a.n(tt),nt=a(232),rt=a.n(nt),ot=a(61),it=a.n(ot),st=a(85),lt=a.n(st),ct=a(48),ut=a.n(ct),dt=a(662),pt=a.n(dt),ht=a(58),ft=a.n(ht),mt=a(170),bt=a.n(mt),gt=a(196),vt=a(209),yt=p.a.shape({aggregate_name:p.a.string.isRequired});const xt={aggregate:yt,showType:p.a.bool};function Ct({aggregate:e,showType:t}){return Object(N.e)("div",null,t&&Object(N.e)(vt.a,{type:"aggregate"}),Object(N.e)("span",{className:"m-r-5 option-label"},e.aggregate_name))}Ct.propTypes=xt;var Ot=p.a.shape({column_name:p.a.string.isRequired,type:p.a.string}),wt=p.a.shape({metric_name:p.a.string.isRequired,expression:p.a.string.isRequired});const Et={option:p.a.oneOfType([Ot,wt,yt]).isRequired,addWarningToast:p.a.func.isRequired};function _t({option:e,addWarningToast:t}){return e.metric_name?Object(N.e)(Me.a,{metric:e,showType:!0}):e.column_name?Object(N.e)(ke.a,{column:e,showType:!0}):e.aggregate_name?Object(N.e)(Ct,{aggregate:e,showType:!0}):(t("You must supply either a saved metric, column or aggregate to MetricDefinitionOption"),null)}_t.propTypes=Et;var St=Object(Be.a)(_t),jt=a(1606),Tt=a(1605),kt=a(18),Mt=a(44),Rt=a(63),At=a(140),Dt=a(283),Nt=a(25),Pt=(a(116),a(1043)),Ft=a.n(Pt);const It="SIMPLE",Lt="SQL";function Ht(e){if(e.sqlExpression&&Nt.p.test(e.sqlExpression)){var t,a;const n=Je()(t=e.sqlExpression).call(t,")"),r=Ft()(a=e.sqlExpression.substring(0,n)).call(a,"(");if(n>0&&r>0)return e.sqlExpression.substring(r+1,n)}return null}function Bt(e){if(e.sqlExpression&&Nt.p.test(e.sqlExpression)){var t;const a=Je()(t=e.sqlExpression).call(t,"(");if(a>0)return e.sqlExpression.substring(0,a)}return null}class Ut{constructor(e){if(this.expressionType=e.expressionType||It,this.expressionType===It){const t=Ht(e);this.column=e.column||t&&{column_name:t},this.aggregate=e.aggregate||Bt(e),this.sqlExpression=null}else this.expressionType===Lt&&(this.sqlExpression=e.sqlExpression,this.column=null,this.aggregate=null);this.isNew=!!e.isNew,this.hasCustomLabel=!(!e.hasCustomLabel||!e.label),this.label=this.hasCustomLabel?e.label:this.getDefaultLabel(),this.optionName=e.optionName||"metric_"+Math.random().toString(36).substring(2,15)+"_"+Math.random().toString(36).substring(2,15)}getDefaultLabel(){const e=this.translateToSql();return e.length<43?e:e.substring(0,40)+"..."}translateToSql(){return this.expressionType===It?(this.aggregate||"")+"("+(this.column&&this.column.column_name||"")+")":this.expressionType===Lt?this.sqlExpression:""}duplicateWith(e){return new Ut(te()({},this,{isNew:!1},e))}equals(e){return e.label===this.label&&e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.aggregate===this.aggregate&&(e.column&&e.column.column_name)===(this.column&&this.column.column_name)}isValid(){return this.expressionType===It?!(!this.column||!this.aggregate):this.expressionType===Lt&&!!this.sqlExpression}inferSqlExpressionAggregate(){return Bt(this)}inferSqlExpressionColumn(){return Ht(this)}}const Vt={adhocMetric:p.a.instanceOf(Ut),onChange:p.a.func.isRequired};class qt extends u.a.Component{constructor(e){var t,a,n,r;super(e),this.onMouseOver=i()(t=this.onMouseOver).call(t,this),this.onMouseOut=i()(a=this.onMouseOut).call(a,this),this.onClick=i()(n=this.onClick).call(n,this),this.onBlur=i()(r=this.onBlur).call(r,this),this.state={isHovered:!1,isEditable:!1}}onMouseOver(){this.setState({isHovered:!0})}onMouseOut(){this.setState({isHovered:!1})}onClick(){this.setState({isEditable:!0})}onBlur(){this.setState({isEditable:!1})}render(){const{adhocMetric:e,onChange:t}=this.props,a=Object(N.e)(je.a,{id:"edit-metric-label-tooltip"},"Click to edit label");return this.state.isEditable?Object(N.e)(Y.a,{className:"metric-edit-popover-label-input",type:"text",placeholder:e.label,value:e.hasCustomLabel?e.label:"",autoFocus:!0,onChange:t,"data-test":"AdhocMetricEditTitle#input"}):Object(N.e)(E.a,{placement:"top",overlay:a,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onClick:this.onClick,onBlur:this.onBlur,className:"AdhocMetricEditPopoverTitle"},Object(N.e)("span",{className:"inline-editable","data-test":"AdhocMetricEditTitle#trigger"},e.hasCustomLabel?e.label:"My Metric"," ",Object(N.e)("i",{className:"fa fa-pencil",style:{color:this.state.isHovered?"black":"grey"}})))}}qt.propTypes=Vt;const zt={adhocMetric:p.a.instanceOf(Ut).isRequired,onChange:p.a.func.isRequired,onClose:p.a.func.isRequired,onResize:p.a.func.isRequired,columns:p.a.arrayOf(Ot),datasourceType:p.a.string,theme:p.a.object};class Gt extends u.a.Component{constructor(e){var t,a,n,r,o,s,l,c,u,d;super(e),this.onSave=i()(t=this.onSave).call(t,this),this.onColumnChange=i()(a=this.onColumnChange).call(a,this),this.onAggregateChange=i()(n=this.onAggregateChange).call(n,this),this.onSqlExpressionChange=i()(r=this.onSqlExpressionChange).call(r,this),this.onLabelChange=i()(o=this.onLabelChange).call(o,this),this.onDragDown=i()(s=this.onDragDown).call(s,this),this.onMouseMove=i()(l=this.onMouseMove).call(l,this),this.onMouseUp=i()(c=this.onMouseUp).call(c,this),this.handleAceEditorRef=i()(u=this.handleAceEditorRef).call(u,this),this.refreshAceEditor=i()(d=this.refreshAceEditor).call(d,this),this.state={adhocMetric:this.props.adhocMetric,width:300,height:180},this.selectProps={labelKey:"label",isMulti:!1,autosize:!1,clearable:!0},document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)}onSave(){this.props.onChange(this.state.adhocMetric),this.props.onClose()}onColumnChange(e){this.setState({adhocMetric:this.state.adhocMetric.duplicateWith({column:e,expressionType:It})})}onAggregateChange(e){this.setState({adhocMetric:this.state.adhocMetric.duplicateWith({aggregate:e,expressionType:It})})}onSqlExpressionChange(e){this.setState({adhocMetric:this.state.adhocMetric.duplicateWith({sqlExpression:e,expressionType:Lt})})}onLabelChange(e){this.setState({adhocMetric:this.state.adhocMetric.duplicateWith({label:e.target.value,hasCustomLabel:!0})})}onDragDown(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener("mousemove",this.onMouseMove)}onMouseMove(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),300),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),180)})}onMouseUp(){document.removeEventListener("mousemove",this.onMouseMove)}handleAceEditorRef(e){e&&(this.aceEditorRef=e)}refreshAceEditor(){lt()(()=>{this.aceEditorRef&&this.aceEditorRef.editor.resize()},0)}renderColumnOption(e){return Object(N.e)(ke.a,{column:e,showType:!0})}render(){const e=this.props,{adhocMetric:t,columns:a,theme:n}=e,o=$()(e,["adhocMetric","columns","onChange","onClose","onResize","datasourceType","theme"]),{adhocMetric:i}=this.state,s=v()(Dt.a).call(Dt.a,f()(a).call(a,e=>({name:e.column_name,value:e.column_name,score:50,meta:"column"}))),l={placeholder:Object(T.c)("%s column(s)",a.length),options:a,value:i.column&&i.column.column_name||i.inferSqlExpressionColumn(),onChange:this.onColumnChange,optionRenderer:this.renderColumnOption,valueKey:"column_name"},c={placeholder:Object(T.c)("%s aggregates(s)",Nt.b.length),options:Nt.b,value:i.aggregate||i.inferSqlExpressionAggregate(),onChange:this.onAggregateChange};var u;"druid"===this.props.datasourceType&&(c.options=b()(u=c.options).call(u,e=>"AVG"!==e));const d=Object(N.e)(qt,{adhocMetric:i,onChange:this.onLabelChange}),p=i.isValid(),h=!i.equals(t);return Object(N.e)(w.a,r()({id:"metrics-edit-popover",title:d},o),Object(N.e)(k.a,{theme:n},Object(N.e)(jt.a,{id:"adhoc-metric-edit-tabs",defaultActiveKey:i.expressionType,className:"adhoc-metric-edit-tabs",style:{height:this.state.height,width:this.state.width},onSelect:this.refreshAceEditor,animation:!1},Object(N.e)(Tt.a,{className:"adhoc-metric-edit-tab",eventKey:It,title:"Simple"},Object(N.e)(z.a,null,Object(N.e)(Rt.a,null,Object(N.e)("strong",null,"column")),Object(N.e)(Mt.g,r()({name:"select-column"},this.selectProps,l))),Object(N.e)(z.a,null,Object(N.e)(Rt.a,null,Object(N.e)("strong",null,"aggregate")),Object(N.e)(Mt.g,r()({name:"select-aggregate"},this.selectProps,c,{autoFocus:!0})))),Object(N.e)(Tt.a,{className:"adhoc-metric-edit-tab",eventKey:Lt,title:"Custom SQL","data-test":"adhoc-metric-edit-tab#custom"},"druid"!==this.props.datasourceType?Object(N.e)(z.a,null,Object(N.e)(At.f,{showLoadingForImport:!0,ref:this.handleAceEditorRef,keywords:s,height:this.state.height-43+"px",onChange:this.onSqlExpressionChange,width:"100%",showGutter:!1,value:i.sqlExpression||i.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:"adhoc-filter-sql-editor",wrapEnabled:!0})):Object(N.e)("div",{className:"custom-sql-disabled-message"},"Custom SQL Metrics are not available on druid datasources"))),Object(N.e)("div",null,Object(N.e)(kt.a,{disabled:!p,buttonStyle:h&&p?"primary":"default",buttonSize:"small",className:"m-r-5","data-test":"AdhocMetricEdit#save",onClick:this.onSave,cta:!0},"Save"),Object(N.e)(kt.a,{buttonSize:"small",onClick:this.props.onClose,"data-test":"AdhocMetricEdit#cancel",cta:!0},"Close"),Object(N.e)("i",{role:"button","aria-label":"Resize",tabIndex:0,onMouseDown:this.onDragDown,className:"fa fa-expand edit-popover-resize text-muted"}))))}}Gt.propTypes=zt,Gt.defaultProps={columns:[]};const Wt={adhocMetric:p.a.instanceOf(Ut),onMetricEdit:p.a.func.isRequired,columns:p.a.arrayOf(Ot),multi:p.a.bool,datasourceType:p.a.string};class Yt extends u.a.PureComponent{constructor(e){var t,a,n,r;super(e),this.closeMetricEditOverlay=i()(t=this.closeMetricEditOverlay).call(t,this),this.onOverlayEntered=i()(a=this.onOverlayEntered).call(a,this),this.onOverlayExited=i()(n=this.onOverlayExited).call(n,this),this.onPopoverResize=i()(r=this.onPopoverResize).call(r,this),this.state={overlayShown:!1},this.overlay=null}onPopoverResize(){this.forceUpdate()}onOverlayEntered(){this.props.adhocMetric.isNew=!1,this.setState({overlayShown:!0})}onOverlayExited(){this.setState({overlayShown:!1})}closeMetricEditOverlay(){this.overlay.hide()}render(){const{adhocMetric:e,theme:t}=this.props,a=Object(N.e)(Gt,{onResize:this.onPopoverResize,adhocMetric:e,onChange:this.props.onMetricEdit,onClose:this.closeMetricEditOverlay,columns:this.props.columns,datasourceType:this.props.datasourceType,theme:t});return Object(N.e)("div",{className:"metric-option",onMouseDownCapture:e=>e.stopPropagation()},Object(N.e)(E.a,{ref:e=>{this.overlay=e},placement:"right",trigger:"click",disabled:!0,overlay:a,rootClose:!0,shouldUpdatePosition:!0,defaultOverlayShown:e.isNew,onEntered:this.onOverlayEntered,onExited:this.onOverlayExited},Object(N.e)(Re.a,{className:"option-label adhoc-option"},e.label,Object(N.e)("i",{className:"fa fa-caret-"+(this.state.overlayShown?"left":"right")+" adhoc-label-arrow"}))))}}var Kt=Object(k.c)(Yt);Yt.propTypes=Wt;var Qt=p.a.oneOfType([p.a.shape({expressionType:p.a.oneOf([It]).isRequired,column:Ot.isRequired,aggregate:p.a.oneOf(l()(Nt.a)).isRequired,label:p.a.string.isRequired}),p.a.shape({expressionType:p.a.oneOf([Lt]).isRequired,sqlExpression:p.a.string.isRequired,label:p.a.string.isRequired})]);const Xt={option:p.a.oneOfType([wt,Qt]).isRequired,onMetricEdit:p.a.func,columns:p.a.arrayOf(Ot),multi:p.a.bool,datasourceType:p.a.string};function Zt({option:e,onMetricEdit:t,columns:a,multi:n,datasourceType:r}){return e.metric_name?Object(N.e)(Me.a,{metric:e}):e instanceof Ut?Object(N.e)(Kt,{adhocMetric:e,onMetricEdit:t,columns:a,multi:n,datasourceType:r}):null}Zt.propTypes=Xt;const Jt={name:p.a.string.isRequired,onChange:p.a.func,value:p.a.oneOfType([p.a.arrayOf(p.a.oneOfType([p.a.string,Qt])),p.a.oneOfType([p.a.string,Qt])]),columns:p.a.arrayOf(Ot),savedMetrics:p.a.arrayOf(wt),multi:p.a.bool,clearable:p.a.bool,datasourceType:p.a.string};function $t(e){return e&&!(e instanceof Ut)&&e.expressionType}function ea(e){return e?ut()(e)?f()(e).call(e,e=>$t(e)?new Ut(e):e):$t(e)?[new Ut(e)]:[e]:[]}function ta(e){const{type:t}=e;return"string"!=typeof t?Nt.a.COUNT:""===t||"expression"===t?Nt.a.SUM:t.match(/.*char.*/i)||t.match(/string.*/i)||t.match(/.*text.*/i)?Nt.a.COUNT_DISTINCT:t.match(/.*int.*/i)||"LONG"===t||"DOUBLE"===t||"FLOAT"===t?Nt.a.SUM:t.match(/.*bool.*/i)?Nt.a.MAX:t.match(/.*time.*/i)?Nt.a.COUNT:t.match(/unknown/i)?Nt.a.COUNT:null}class aa extends u.a.PureComponent{constructor(e){var t,a,n,r,o,s;super(e),this.onChange=i()(t=this.onChange).call(t,this),this.onMetricEdit=i()(a=this.onMetricEdit).call(a,this),this.checkIfAggregateInInput=i()(n=this.checkIfAggregateInInput).call(n,this),this.optionsForSelect=i()(r=this.optionsForSelect).call(r,this),this.selectFilterOption=i()(o=this.selectFilterOption).call(o,this),this.isAutoGeneratedMetric=i()(s=this.isAutoGeneratedMetric).call(s,this),this.optionRenderer=e=>Object(N.e)(St,{option:e}),this.valueRenderer=e=>Object(N.e)(Zt,{option:e,onMetricEdit:this.onMetricEdit,columns:this.props.columns,multi:this.props.multi,datasourceType:this.props.datasourceType}),this.select=null,this.selectRef=e=>{this.select=e?e.select:null},this.state={aggregateInInput:null,options:this.optionsForSelect(this.props),value:ea(this.props.value)}}UNSAFE_componentWillReceiveProps(e){const{value:t}=this.props;if(!bt()(this.props.columns,e.columns)||!bt()(this.props.savedMetrics,e.savedMetrics)){this.setState({options:this.optionsForSelect(e)}),function(e,t){var a,n,r,o,i;const s=new ft.a(f()(a=[...t.columns||[],...t.savedMetrics||[]]).call(a,({column_name:e,metric_name:t})=>e||t));return pt()(n=b()(r=f()(o=b()(i=ut()(e)?e:[e]).call(i,e=>e)).call(o,e=>e.column?e.column.column_name:e.column_name||e)).call(r,e=>e&&"string"==typeof e)).call(n,e=>s.has(e))}(t,e)||this.props.onChange([])}t!==e.value&&this.setState({value:ea(e.value)})}onMetricEdit(e){var t;let a=f()(t=this.state.value).call(t,t=>t.optionName===e.optionName?e:t);this.props.multi||(a=a[0]),this.props.onChange(a)}onChange(e){var t;if(null===e)return void this.props.onChange(null);let a;a=ut()(e)?e:e?[e]:[];const n=b()(t=f()(a).call(a,e=>{if(e.metric_name)return e.metric_name;if(e.column_name){const t=this.clearedAggregateInInput;return this.clearedAggregateInInput=null,new Ut({isNew:!0,column:e,aggregate:t||ta(e)})}if(e instanceof Ut)return e;if(e.aggregate_name&&this.select){const t=e.aggregate_name+"()";this.select.inputRef.value=t,this.select.handleInputChange({currentTarget:{value:t}}),lt()(()=>{this.select.focusInput(),this.select.inputRef.selectionStart=t.length-1,this.select.inputRef.selectionEnd=t.length-1})}return null})).call(t,e=>e);this.props.onChange(this.props.multi?n:n[0])}checkIfAggregateInInput(e){const t=e.toLowerCase(),a=it()(Nt.b).call(Nt.b,e=>rt()(t).call(t,e.toLowerCase()+"("))||null;this.clearedAggregateInInput=this.state.aggregateInInput,this.setState({aggregateInInput:a})}optionsForSelect(e){const{columns:t,savedMetrics:a}=e,n=[...t||[],...t&&t.length?f()(Nt.b).call(Nt.b,e=>({aggregate_name:e})):[],...a||[]];return at()(n).call(n,(e,t)=>(t.metric_name?e.push(te()({},t,{optionName:t.metric_name})):t.column_name?e.push(te()({},t,{optionName:"_col_"+t.column_name})):t.aggregate_name&&e.push(te()({},t,{optionName:"_aggregate_"+t.aggregate_name})),e),[])}isAutoGeneratedMetric(e){return"druid"===this.props.datasourceType?Nt.n.test(e.verbose_name):Nt.o.test(e.metric_name)}selectFilterOption({data:e},t){var a,n;if(this.state.aggregateInInput){var r;let a=t.length;et()(t).call(t,")")&&(a=t.length-1);const n=t.substring(Je()(t).call(t,"(")+1,a);return e.column_name&&Je()(r=e.column_name.toLowerCase()).call(r,n)>=0}return e.optionName&&(!e.metric_name||!this.isAutoGeneratedMetric(e)||e.verbose_name)&&(Je()(a=e.optionName.toLowerCase()).call(a,t)>=0||e.verbose_name&&Je()(n=e.verbose_name.toLowerCase()).call(n,t)>=0)}render(){return Object(N.e)("div",{className:"metrics-select"},Object(N.e)(K.a,this.props),Object(N.e)(gt.a,{isMulti:this.props.multi,name:"select-"+this.props.name,placeholder:Object(T.c)("choose a column or aggregate function"),options:this.state.options,value:this.state.value,labelKey:"label",valueKey:"optionName",clearable:this.props.clearable,closeOnSelect:!0,onChange:this.onChange,optionRenderer:this.optionRenderer,valueRenderer:this.valueRenderer,valueRenderedAsLabel:!0,onInputChange:this.checkIfAggregateInInput,filterOption:this.selectFilterOption,selectRef:this.selectRef}))}}aa.propTypes=Jt,aa.defaultProps={onChange:()=>{},clearable:!0,savedMetrics:[],columns:[]};var na=a(231);const ra="fix",oa="metric",ia={onChange:p.a.func,value:p.a.object,isFloat:p.a.bool,datasource:p.a.object.isRequired,default:p.a.shape({type:p.a.oneOf(["fix","metric"]),value:p.a.oneOfType([p.a.string,p.a.number])})},sa={onChange:()=>{},default:{type:ra,value:5}};class la extends u.a.Component{constructor(e){var t,a,n,r,o;super(e),this.onChange=i()(t=this.onChange).call(t,this),this.setType=i()(a=this.setType).call(a,this),this.setFixedValue=i()(n=this.setFixedValue).call(n,this),this.setMetric=i()(r=this.setMetric).call(r,this),this.toggle=i()(o=this.toggle).call(o,this);const s=(e.value?e.value.type:e.default.type)||ra,l=(e.value?e.value.value:e.default.value)||"100";this.state={type:s,fixedValue:s===ra?l:"",metricValue:s===oa?l:null}}onChange(){this.props.onChange({type:this.state.type,value:this.state.type===ra?this.state.fixedValue:this.state.metricValue})}setType(e){this.setState({type:e},this.onChange)}setFixedValue(e){this.setState({fixedValue:e},this.onChange)}setMetric(e){this.setState({metricValue:e},this.onChange)}toggle(){const e=!this.state.expanded;this.setState({expanded:e})}render(){const e=(this.props.value||this.props.default).type||ra,t=this.props.datasource?this.props.datasource.columns:null,a=this.props.datasource?this.props.datasource.metrics:null;return Object(N.e)("div",null,Object(N.e)(K.a,this.props),Object(N.e)(Re.a,{onClick:this.toggle},this.state.type===ra&&Object(N.e)("span",null,this.state.fixedValue),this.state.type===oa&&Object(N.e)("span",null,Object(N.e)("span",{style:{fontWeight:"normal"}},"metric: "),Object(N.e)("strong",null,this.state.metricValue?this.state.metricValue.label:null))),Object(N.e)(Qe.a,{className:"panel-spreaded",collapsible:!0,expanded:this.state.expanded,onToggle:this.toggle},Object(N.e)(Qe.a.Collapse,null,Object(N.e)(Qe.a.Body,null,Object(N.e)("div",{className:"well"},Object(N.e)(na.a,{title:"Fixed",isSelected:e===ra,onSelect:()=>{this.setType(ra)}},Object(N.e)(Xe.a,{isFloat:!0,onChange:this.setFixedValue,onFocus:()=>{this.setType(ra)},value:this.state.fixedValue})),Object(N.e)(na.a,{title:"Based on a metric",isSelected:e===oa,onSelect:()=>{this.setType(oa)}},Object(N.e)(aa,{name:"metric",columns:t,savedMetrics:a,multi:!1,onFocus:()=>{this.setType(oa)},onChange:this.setMetric,value:this.state.metricValue})))))))}}la.propTypes=ia,la.defaultProps=sa;const ca={onChange:p.a.func,value:p.a.oneOfType([p.a.string,p.a.number,p.a.object,p.a.bool,p.a.array,p.a.func])};function ua(e){return Object(N.e)(Y.a,{type:"hidden",value:e.value})}ua.propTypes=ca,ua.defaultProps={onChange:()=>{}};var da=a(857),pa=a(229),ha=a(958),fa=a.n(ha);a(1076),a(1145);function ma(e){return Object(N.e)("span",{className:"BootstrapSliderWrapper"},Object(N.e)(fa.a,e))}const ba={onChange:p.a.func,value:p.a.oneOfType([p.a.string,p.a.number])};function ga(e){return Object(N.e)("div",null,Object(N.e)(K.a,e),Object(N.e)(ma,r()({},e,{change:t=>{e.onChange(t.target.value)}})))}ga.propTypes=ba,ga.defaultProps={onChange:()=>{}};var va=a(858),ya=a(859);const xa={label:p.a.string,tooltip:p.a.string,colType:p.a.string,width:p.a.string,height:p.a.string,timeLag:p.a.string,timeRatio:p.a.string,comparisonType:p.a.string,showYAxis:p.a.bool,yAxisBounds:p.a.array,bounds:p.a.array,d3format:p.a.string,dateFormat:p.a.string,onChange:p.a.func},Ca={label:Object(T.c)("Time Series Columns"),tooltip:"",colType:"",width:"",height:"",timeLag:"",timeRatio:"",comparisonType:"",showYAxis:!1,yAxisBounds:[null,null],bounds:[null,null],d3format:"",dateFormat:"",onChange:()=>{}},Oa=[{value:"value",label:"Actual value"},{value:"diff",label:"Difference"},{value:"perc",label:"Percentage"},{value:"perc_change",label:"Percentage Change"}],wa=[{value:"time",label:"Time Comparison"},{value:"contrib",label:"Contribution"},{value:"spark",label:"Sparkline"},{value:"avg",label:"Period Average"}];class Ea extends u.a.Component{constructor(e){var t;super(e);const a={label:this.props.label,tooltip:this.props.tooltip,colType:this.props.colType,width:this.props.width,height:this.props.height,timeLag:this.props.timeLag||0,timeRatio:this.props.timeRatio,comparisonType:this.props.comparisonType,showYAxis:this.props.showYAxis,yAxisBounds:this.props.yAxisBounds,bounds:this.props.bounds,d3format:this.props.d3format,dateFormat:this.props.dateFormat};delete a.onChange,this.state=a,this.onChange=i()(t=this.onChange).call(t,this)}onChange(){this.props.onChange(this.state)}onSelectChange(e,t){this.setState({[e]:t.value},this.onChange)}onTextInputChange(e,t){this.setState({[e]:t.target.value},this.onChange)}onCheckboxChange(e,t){this.setState({[e]:t},this.onChange)}onBoundsChange(e){this.setState({bounds:e},this.onChange)}onYAxisBoundsChange(e){this.setState({yAxisBounds:e},this.onChange)}setType(){}textSummary(){return""+this.state.label}edit(){}formRow(e,t,a,n){return Object(N.e)(G.a,{style:{marginTop:"5px"}},Object(N.e)(W.a,{md:5},e+" ",Object(N.e)(M.a,{placement:"top",tooltip:t,label:a})),Object(N.e)(W.a,{md:7},n))}renderPopover(){var e,t,a,n,r,o,s,l,c,u,d,p,h,f,m;return Object(N.e)(w.a,{id:"ts-col-popo",title:"Column Configuration"},Object(N.e)("div",{style:{width:300}},this.formRow("Label","The column header label","time-lag",Object(N.e)(Y.a,{value:this.state.label,onChange:i()(e=this.onTextInputChange).call(e,this,"label"),bsSize:"small",placeholder:"Label"})),this.formRow("Tooltip","Column header tooltip","col-tooltip",Object(N.e)(Y.a,{value:this.state.tooltip,onChange:i()(t=this.onTextInputChange).call(t,this,"tooltip"),bsSize:"small",placeholder:"Tooltip"})),this.formRow("Type","Type of comparison, value difference or percentage","col-type",Object(N.e)(Mt.g,{value:this.state.colType,clearable:!1,onChange:i()(a=this.onSelectChange).call(a,this,"colType"),options:wa})),Object(N.e)("hr",null),"spark"===this.state.colType&&this.formRow("Width","Width of the sparkline","spark-width",Object(N.e)(Y.a,{value:this.state.width,onChange:i()(n=this.onTextInputChange).call(n,this,"width"),bsSize:"small",placeholder:"Width"})),"spark"===this.state.colType&&this.formRow("Height","Height of the sparkline","spark-width",Object(N.e)(Y.a,{value:this.state.height,onChange:i()(r=this.onTextInputChange).call(r,this,"height"),bsSize:"small",placeholder:"height"})),Je()(o=["time","avg"]).call(o,this.state.colType)>=0&&this.formRow("Time Lag","Number of periods to compare against","time-lag",Object(N.e)(Y.a,{value:this.state.timeLag,onChange:i()(s=this.onTextInputChange).call(s,this,"timeLag"),bsSize:"small",placeholder:"Time Lag"})),Je()(l=["spark"]).call(l,this.state.colType)>=0&&this.formRow("Time Ratio","Number of periods to ratio against","time-ratio",Object(N.e)(Y.a,{value:this.state.timeRatio,onChange:i()(c=this.onTextInputChange).call(c,this,"timeRatio"),bsSize:"small",placeholder:"Time Ratio"})),"time"===this.state.colType&&this.formRow("Type","Type of comparison, value difference or percentage","comp-type",Object(N.e)(Mt.g,{value:this.state.comparisonType,clearable:!1,onChange:i()(u=this.onSelectChange).call(u,this,"comparisonType"),options:Oa})),"spark"===this.state.colType&&this.formRow("Show Y-axis","Show Y-axis on the sparkline. Will display the manually set min/max if set or min/max values in the data otherwise.","show-y-axis-bounds",Object(N.e)(Z.a,{value:this.state.showYAxis,onChange:i()(d=this.onCheckboxChange).call(d,this,"showYAxis")})),"spark"===this.state.colType&&this.formRow("Y-axis bounds","Manually set min/max values for the y-axis.","y-axis-bounds",Object(N.e)(X,{value:this.state.yAxisBounds,onChange:i()(p=this.onYAxisBoundsChange).call(p,this)})),"spark"!==this.state.colType&&this.formRow("Color bounds","Number bounds used for color encoding from red to blue.\n              Reverse the numbers for blue to red. To get pure red or blue,\n              you can enter either only min or max.","bounds",Object(N.e)(X,{value:this.state.bounds,onChange:i()(h=this.onBoundsChange).call(h,this)})),this.formRow("Number format","Optional d3 number format string","d3-format",Object(N.e)(Y.a,{value:this.state.d3format,onChange:i()(f=this.onTextInputChange).call(f,this,"d3format"),bsSize:"small",placeholder:"Number format string"})),"spark"===this.state.colType&&this.formRow("Date format","Optional d3 date format string","date-format",Object(N.e)(Y.a,{value:this.state.dateFormat,onChange:i()(m=this.onTextInputChange).call(m,this,"dateFormat"),bsSize:"small",placeholder:"Date format string"}))))}render(){var e;return Object(N.e)("span",null,this.textSummary()," ",Object(N.e)(E.a,{container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},Object(N.e)(M.a,{icon:"edit",className:"text-primary",onClick:i()(e=this.edit).call(e,this),label:"edit-ts-column"})))}}Ea.propTypes=xa,Ea.defaultProps=Ca;var _a=a(295),Sa=a(656),ja=a(159),Ta=a.n(ja),ka=a(154),Ma=a.n(ka),Ra=a(203);const Aa="SIMPLE",Da="SQL",Na={HAVING:"HAVING",WHERE:"WHERE"},Pa={"==":"=","!=":"<>",">":">","<":"<",">=":">=","<=":"<=",in:"in","not in":"not in",LIKE:"like",regex:"regex","IS NOT NULL":"IS NOT NULL","IS NULL":"IS NULL","LATEST PARTITION":({datasource:e})=>"= '{{ presto.latest_partition('"+e.schema+"."+e.datasource_name+"') }}'"};function Fa(e,{useSimple:t}={}){if(e.expressionType===Aa||t){const t=Nt.i.has(e.operator),{subject:a}=e;return a+" "+(e.operator&&Nt.c.has(e.operator)?Pa[e.operator](e):Pa[e.operator])+" "+(t?"('":"")+(ut()(e.comparator)?e.comparator.join("','"):e.comparator||"")+(t?"')":"")}return e.expressionType===Da?e.sqlExpression:""}class Ia{constructor(e){this.expressionType=e.expressionType||Aa,this.expressionType===Aa?(this.subject=e.subject,this.operator=e.operator,this.comparator=e.comparator,this.clause=e.clause,this.sqlExpression=null):this.expressionType===Da&&(this.sqlExpression="string"==typeof e.sqlExpression?e.sqlExpression:Fa(e,{useSimple:!0}),this.clause=e.clause,e.operator&&Nt.c.has(e.operator)?(this.subject=e.subject,this.operator=e.operator):(this.subject=null,this.operator=null),this.comparator=null),this.isExtra=!!e.isExtra,this.isNew=!!e.isNew,this.filterOptionName=e.filterOptionName||"filter_"+Math.random().toString(36).substring(2,15)+"_"+Math.random().toString(36).substring(2,15)}duplicateWith(e){return new Ia(te()({},this,{isNew:!1},e))}equals(e){return e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.operator===this.operator&&e.comparator===this.comparator&&e.subject===this.subject}isValid(){if(this.expressionType===Aa){if("IS NOT NULL"===this.operator||"IS NULL"===this.operator)return!(!this.operator||!this.subject);if(this.operator&&this.subject&&this.clause)if(ut()(this.comparator)){if(this.comparator.length>0)return!0}else if(null!==this.comparator)return!0}else if(this.expressionType===Da)return!(!this.sqlExpression||!this.clause);return!1}getDefaultLabel(){const e=this.translateToSql();return e.length<43?e:e.substring(0,40)+"..."}translateToSql(){return Fa(this)}}var La=p.a.oneOfType([p.a.shape({expressionType:p.a.oneOf([Aa]).isRequired,clause:p.a.oneOf([Na.HAVING,Na.WHERE]).isRequired,subject:p.a.string.isRequired,operator:p.a.oneOf(l()(Nt.j)).isRequired,comparator:p.a.oneOfType([p.a.string,p.a.arrayOf(p.a.string)]).isRequired}),p.a.shape({expressionType:p.a.oneOf([Da]).isRequired,clause:p.a.oneOf([Na.WHERE,Na.HAVING]).isRequired,sqlExpression:p.a.string.isRequired})]),Ha=a(28),Ba=a.n(Ha);const Ua={adhocMetric:Qt,showType:p.a.bool};function Va({adhocMetric:e,showType:t=!1}){return Object(N.e)("div",null,t&&Object(N.e)(vt.a,{type:"expression"}),Object(N.e)("span",{className:"option-label"},e.label))}Va.propTypes=Ua;const qa={option:p.a.oneOfType([Ot,p.a.shape({saved_metric_name:p.a.string.isRequired}),Qt]).isRequired};function za({option:e}){return e.saved_metric_name?Object(N.e)("div",null,Object(N.e)(vt.a,{type:"expression"}),Object(N.e)("span",{className:"option-label"},e.saved_metric_name)):e.column_name?Object(N.e)(ke.a,{column:e,showType:!0}):e.label?Object(N.e)(Va,{adhocMetric:e,showType:!0}):void 0}za.propTypes=qa;const Ga={adhocFilter:p.a.instanceOf(Ia).isRequired,onChange:p.a.func.isRequired,options:p.a.arrayOf(p.a.oneOfType([Ot,p.a.shape({saved_metric_name:p.a.string.isRequired}),Qt])).isRequired,onHeightChange:p.a.func.isRequired,datasource:p.a.object,partitionColumn:p.a.string};function Wa(e){return e===Nt.j["=="]?"equals":e===Nt.j["!="]?"not equal to":e===Nt.j.LIKE?"like":e===Nt.j["LATEST PARTITION"]?"use latest_partition template":e}class Ya extends u.a.Component{constructor(e){var t,a,n,r,o,s,l;super(e),this.onSubjectChange=i()(t=this.onSubjectChange).call(t,this),this.onOperatorChange=i()(a=this.onOperatorChange).call(a,this),this.onComparatorChange=i()(n=this.onComparatorChange).call(n,this),this.onInputComparatorChange=i()(r=this.onInputComparatorChange).call(r,this),this.isOperatorRelevant=i()(o=this.isOperatorRelevant).call(o,this),this.refreshComparatorSuggestions=i()(s=this.refreshComparatorSuggestions).call(s,this),this.multiComparatorRef=i()(l=this.multiComparatorRef).call(l,this),this.state={suggestions:[],multiComparatorHeight:30,abortActiveRequest:null},this.selectProps={isMulti:!1,name:"select-column",labelKey:"label",autosize:!1,clearable:!1}}UNSAFE_componentWillMount(){this.refreshComparatorSuggestions()}componentDidMount(){this.handleMultiComparatorInputHeightChange()}componentDidUpdate(e){e.adhocFilter.subject!==this.props.adhocFilter.subject&&this.refreshComparatorSuggestions(),this.handleMultiComparatorInputHeightChange()}onSubjectChange(e){let t,a;e&&e.column_name?(t=e.column_name,a=Na.WHERE):e&&(e.saved_metric_name||e.label)&&(t=e.saved_metric_name||e.label,a=Na.HAVING);const{operator:n}=this.props.adhocFilter;this.props.onChange(this.props.adhocFilter.duplicateWith({subject:t,clause:a,operator:n&&this.isOperatorRelevant(n,t)?n:null,expressionType:Aa}))}onOperatorChange(e){const t=this.props.adhocFilter.comparator;let a;var n;Nt.i.has(e)?a=ut()(t)?t:b()(n=[t]).call(n,e=>e):a=ut()(t)?t[0]:t;e&&Nt.c.has(e)?this.props.onChange(this.props.adhocFilter.duplicateWith({subject:this.props.adhocFilter.subject,clause:Na.WHERE,operator:e,expressionType:Da,datasource:this.props.datasource})):this.props.onChange(this.props.adhocFilter.duplicateWith({operator:e,comparator:a,expressionType:Aa}))}onInputComparatorChange(e){this.onComparatorChange(e.target.value)}onComparatorChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({comparator:e,expressionType:Aa}))}handleMultiComparatorInputHeightChange(){if(this.multiComparatorComponent){var e,t;const a=null===(e=this.multiComparatorComponent)||void 0===e?void 0:null===(t=e.select)||void 0===t?void 0:t.select.controlRef;a&&a.clientHeight!==this.state.multiComparatorHeight&&(this.props.onHeightChange(a.clientHeight-this.state.multiComparatorHeight),this.setState({multiComparatorHeight:a.clientHeight}))}}refreshComparatorSuggestions(){const{datasource:e}=this.props,t=this.props.adhocFilter.subject,a=this.props.adhocFilter.clause===Na.HAVING;if(t&&e&&e.filter_select&&!a){this.state.abortActiveRequest&&this.state.abortActiveRequest();const a=new AbortController,{signal:n}=a;this.setState({abortActiveRequest:a.abort,loading:!0}),Ie.a.get({signal:n,endpoint:"/superset/filter/"+e.type+"/"+e.id+"/"+t+"/"}).then(({json:e})=>{this.setState(()=>({suggestions:e,abortActiveRequest:null,loading:!1}))}).catch(()=>{this.setState(()=>({suggestions:[],abortActiveRequest:null,loading:!1}))})}}isOperatorRelevant(e,t){if(e&&Nt.c.has(e)){const{partitionColumn:e}=this.props;return e&&t&&t===e}return!("druid"===this.props.datasource.type&&Je()(Nt.l).call(Nt.l,e)>=0||"table"===this.props.datasource.type&&Je()(Nt.e).call(Nt.e,e)>=0||this.props.adhocFilter.clause===Na.HAVING&&-1===Je()(Nt.h).call(Nt.h,e))}focusComparator(e){e&&e.focus()}multiComparatorRef(e){e&&(this.multiComparatorComponent=e)}renderSubjectOptionLabel(e){return Object(N.e)(za,{option:e})}renderSubjectOptionValue({value:e}){return Object(N.e)("span",null,e)}render(){const{adhocFilter:e,options:t,datasource:a}=this.props,{subject:n,operator:o,comparator:i}=e,s={options:t,value:n?{value:n}:void 0,onChange:this.onSubjectChange,optionRenderer:this.renderSubjectOptionLabel,valueRenderer:this.renderSubjectOptionValue,valueKey:"filterOptionName",noResultsText:Object(T.c)("No such column found. To filter on a metric, try the Custom SQL tab.")};"druid"===a.type?s.placeholder=Object(T.c)("%s column(s) and metric(s)",t.length):(s.placeholder=e.clause===Na.WHERE?Object(T.c)("%s column(s)",t.length):Object(T.c)("To filter on a metric, use Custom SQL tab."),s.options=b()(t).call(t,e=>e.column_name));const l={placeholder:Object(T.c)("%s operators(s)",Nt.k.length),options:b()(Nt.k).call(Nt.k,e=>this.isOperatorRelevant(e,n)),value:o,onChange:this.onOperatorChange,getOptionLabel:Wa};return Object(N.e)("span",null,Object(N.e)(z.a,{className:"adhoc-filter-simple-column-dropdown"},Object(N.e)(Mt.f,r()({},this.selectProps,s,{name:"filter-column"}))),Object(N.e)(z.a,null,Object(N.e)(Mt.f,r()({},this.selectProps,l,{name:"filter-operator"}))),Object(N.e)(z.a,{"data-test":"adhoc-filter-simple-value"},Nt.i.has(o)||this.state.suggestions.length>0?Object(N.e)(pa.a,{name:"filter-value",autoFocus:!0,freeForm:!0,multi:Nt.i.has(o),value:i,isLoading:this.state.loading,choices:this.state.suggestions,onChange:this.onComparatorChange,showHeader:!1,noResultsText:Object(T.c)("type a value here"),selectRef:this.multiComparatorRef,disabled:Ba()(Nt.d).call(Nt.d,o)}):Object(N.e)("input",{name:"filter-value",ref:this.focusComparator,type:"text",onChange:this.onInputComparatorChange,value:i,className:"form-control input-sm",placeholder:Object(T.c)("Filter value"),disabled:Ba()(Nt.d).call(Nt.d,o)})))}}Ya.propTypes=Ga,Ya.defaultProps={datasource:{}};const Ka={adhocFilter:p.a.instanceOf(Ia).isRequired,onChange:p.a.func.isRequired,options:p.a.arrayOf(p.a.oneOfType([Ot,p.a.shape({saved_metric_name:p.a.string.isRequired}),Qt])).isRequired,height:p.a.number.isRequired};class Qa extends u.a.Component{constructor(e){var t,a,n;super(e),this.onSqlExpressionChange=i()(t=this.onSqlExpressionChange).call(t,this),this.onSqlExpressionClauseChange=i()(a=this.onSqlExpressionClauseChange).call(a,this),this.handleAceEditorRef=i()(n=this.handleAceEditorRef).call(n,this),this.selectProps={isMulti:!1,name:"select-column",labelKey:"label",autosize:!1,clearable:!1}}componentDidUpdate(){this.aceEditorRef&&this.aceEditorRef.editor.resize()}onSqlExpressionClauseChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({clause:e&&e.clause,expressionType:Da}))}onSqlExpressionChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({sqlExpression:e,expressionType:Da}))}handleAceEditorRef(e){e&&(this.aceEditorRef=e)}render(){var e;const{adhocFilter:t,height:a,options:n}=this.props,o={placeholder:Object(T.c)("choose WHERE or HAVING..."),options:l()(Na),value:t.clause,onChange:this.onSqlExpressionClauseChange},i=v()(Dt.a).call(Dt.a,b()(e=f()(n).call(n,e=>e.column_name?{name:e.column_name,value:e.column_name,score:50,meta:"option"}:null)).call(e,Boolean));return Object(N.e)("span",null,Object(N.e)(z.a,{className:"filter-edit-clause-section"},Object(N.e)(Mt.g,r()({},this.selectProps,o,{className:"filter-edit-clause-dropdown"})),Object(N.e)("span",{className:"filter-edit-clause-info"},Object(N.e)("strong",null,"Where")," filters by columns.",Object(N.e)("br",null),Object(N.e)("strong",null,"Having")," filters by metrics.")),Object(N.e)(z.a,null,Object(N.e)(At.f,{ref:this.handleAceEditorRef,keywords:i,height:a-100+"px",onChange:this.onSqlExpressionChange,width:"100%",showGutter:!1,value:t.sqlExpression||t.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:"adhoc-filter-sql-editor",wrapEnabled:!0})))}}Qa.propTypes=Ka;const Xa={adhocFilter:p.a.instanceOf(Ia).isRequired,onChange:p.a.func.isRequired,onClose:p.a.func.isRequired,onResize:p.a.func.isRequired,options:p.a.arrayOf(p.a.oneOfType([Ot,p.a.shape({saved_metric_name:p.a.string.isRequired}),Qt])).isRequired,datasource:p.a.object,partitionColumn:p.a.string,theme:p.a.object};class Za extends u.a.Component{constructor(e){var t,a,n,r,o,s;super(e),this.onSave=i()(t=this.onSave).call(t,this),this.onDragDown=i()(a=this.onDragDown).call(a,this),this.onMouseMove=i()(n=this.onMouseMove).call(n,this),this.onMouseUp=i()(r=this.onMouseUp).call(r,this),this.onAdhocFilterChange=i()(o=this.onAdhocFilterChange).call(o,this),this.adjustHeight=i()(s=this.adjustHeight).call(s,this),this.state={adhocFilter:this.props.adhocFilter,width:300,height:190}}componentDidMount(){document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)}onAdhocFilterChange(e){this.setState({adhocFilter:e})}onSave(){this.props.onChange(this.state.adhocFilter),this.props.onClose()}onDragDown(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener("mousemove",this.onMouseMove)}onMouseMove(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),300),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),190)})}onMouseUp(){document.removeEventListener("mousemove",this.onMouseMove)}adjustHeight(e){this.setState(t=>({height:t.height+e}))}render(){const e=this.props,{adhocFilter:t,options:a,datasource:n,partitionColumn:o,theme:i}=e,s=$()(e,["adhocFilter","options","onChange","onClose","onResize","datasource","partitionColumn","theme"]),{adhocFilter:l}=this.state,c=l.isValid(),u=!l.equals(t);return Object(N.e)(w.a,r()({id:"filter-edit-popover"},s),Object(N.e)(k.a,{theme:i},Object(N.e)(jt.a,{id:"adhoc-filter-edit-tabs",defaultActiveKey:l.expressionType,className:"adhoc-filter-edit-tabs",style:{height:this.state.height,width:this.state.width}},Object(N.e)(Tt.a,{className:"adhoc-filter-edit-tab",eventKey:Aa,title:"Simple"},Object(N.e)(Ya,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:a,datasource:n,onHeightChange:this.adjustHeight,partitionColumn:o})),Object(N.e)(Tt.a,{className:"adhoc-filter-edit-tab",eventKey:Da,title:"Custom SQL"},this.props.datasource&&"druid"===this.props.datasource.type?Object(N.e)("div",{className:"custom-sql-disabled-message"},"Custom SQL Filters are not available on druid datasources"):Object(N.e)(Qa,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:this.props.options,height:this.state.height}))),Object(N.e)("div",null,Object(N.e)(kt.a,{disabled:!c,buttonStyle:u&&c?"primary":"default",buttonSize:"small",className:"m-r-5",onClick:this.onSave,cta:!0},"Save"),Object(N.e)(kt.a,{buttonSize:"small",onClick:this.props.onClose,cta:!0},"Close"),Object(N.e)("i",{role:"button","aria-label":"Resize",tabIndex:0,onMouseDown:this.onDragDown,className:"fa fa-expand edit-popover-resize text-muted"}))))}}Za.propTypes=Xa;const Ja={adhocFilter:p.a.instanceOf(Ia).isRequired,onFilterEdit:p.a.func.isRequired,options:p.a.arrayOf(p.a.oneOfType([Ot,p.a.shape({saved_metric_name:p.a.string.isRequired}),Qt])).isRequired,datasource:p.a.object,partitionColumn:p.a.string};class $a extends u.a.PureComponent{constructor(e){var t,a,n,r;super(e),this.closeFilterEditOverlay=i()(t=this.closeFilterEditOverlay).call(t,this),this.onPopoverResize=i()(a=this.onPopoverResize).call(a,this),this.onOverlayEntered=i()(n=this.onOverlayEntered).call(n,this),this.onOverlayExited=i()(r=this.onOverlayExited).call(r,this),this.state={overlayShown:!1}}onPopoverResize(){this.forceUpdate()}onOverlayEntered(){this.props.adhocFilter.isNew=!1,this.setState({overlayShown:!0})}onOverlayExited(){this.setState({overlayShown:!1})}closeFilterEditOverlay(){this.refs.overlay.hide()}render(){const{adhocFilter:e,theme:t}=this.props,a=Object(N.e)(Za,{onResize:this.onPopoverResize,adhocFilter:e,onChange:this.props.onFilterEdit,onClose:this.closeFilterEditOverlay,options:this.props.options,datasource:this.props.datasource,partitionColumn:this.props.partitionColumn,theme:t});return Object(N.e)("div",{onMouseDownCapture:e=>e.stopPropagation()},e.isExtra&&Object(N.e)(M.a,{icon:"exclamation-triangle",placement:"top",className:"m-r-5 text-muted",tooltip:Object(T.c)("\n                This filter was inherited from the dashboard's context.\n                It won't be saved when saving the chart.\n              ")}),Object(N.e)(E.a,{ref:"overlay",placement:"right",trigger:"click",disabled:!0,overlay:a,rootClose:!0,shouldUpdatePosition:!0,defaultOverlayShown:e.isNew,onEntered:this.onOverlayEntered,onExited:this.onOverlayExited},Object(N.e)(Re.a,{className:"option-label adhoc-option adhoc-filter-option"},e.getDefaultLabel(),Object(N.e)("i",{className:"fa fa-caret-"+(this.state.overlayShown?"left":"right")+" adhoc-label-arrow"}))))}}var en=Object(k.c)($a);$a.propTypes=Ja;const tn={name:p.a.string,onChange:p.a.func,value:p.a.arrayOf(La),datasource:p.a.object,columns:p.a.arrayOf(Ot),savedMetrics:p.a.arrayOf(wt),formData:p.a.shape({metric:p.a.oneOfType([p.a.string,Qt]),metrics:p.a.arrayOf(p.a.oneOfType([p.a.string,Qt]))})};function an(e){return e&&!(e instanceof Ia)&&e.expressionType}class nn extends u.a.Component{constructor(e){var t,a,n,r,o;super(e),this.optionsForSelect=i()(t=this.optionsForSelect).call(t,this),this.onFilterEdit=i()(a=this.onFilterEdit).call(a,this),this.onChange=i()(n=this.onChange).call(n,this),this.getMetricExpression=i()(r=this.getMetricExpression).call(r,this);const s=f()(o=this.props.value||[]).call(o,e=>an(e)?new Ia(e):e);this.optionRenderer=e=>Object(N.e)(za,{option:e}),this.valueRenderer=e=>Object(N.e)(en,{adhocFilter:e,onFilterEdit:this.onFilterEdit,options:this.state.options,datasource:this.props.datasource}),this.state={values:s,options:this.optionsForSelect(this.props)}}componentDidMount(){const{datasource:e}=this.props;if(e&&"table"===e.type){var t;const a=null===(t=e.database)||void 0===t?void 0:t.id,{datasource_name:n,schema:r,is_sqllab_view:o}=e;!o&&a&&n&&r&&Ie.a.get({endpoint:"/superset/extra_table_metadata/"+a+"/"+n+"/"+r+"/"}).then(({json:e})=>{if(e&&e.partitions){const{partitions:t}=e;if(t&&t.cols&&1===l()(t.cols).length){const e=t.cols[0];this.valueRenderer=t=>Object(N.e)(en,{adhocFilter:t,onFilterEdit:this.onFilterEdit,options:this.state.options,datasource:this.props.datasource,partitionColumn:e})}}}).catch(e=>{Ra.a.error("fetch extra_table_metadata:",e.statusText)})}}UNSAFE_componentWillReceiveProps(e){var t;(this.props.columns===e.columns&&this.props.formData===e.formData||this.setState({options:this.optionsForSelect(e)}),this.props.value!==e.value)&&this.setState({values:f()(t=e.value||[]).call(t,e=>an(e)?new Ia(e):e)})}onFilterEdit(e){var t;this.props.onChange(f()(t=Ma()(this.state)).call(t,t=>t.filterOptionName===e.filterOptionName?e:t))}onChange(e){var t,a;const n=b()(t=f()(a=e||[]).call(a,e=>e instanceof Ia?e:e.saved_metric_name?new Ia({expressionType:"druid"===this.props.datasource.type?Aa:Da,subject:"druid"===this.props.datasource.type?e.saved_metric_name:this.getMetricExpression(e.saved_metric_name),operator:Nt.j[">"],comparator:0,clause:Na.HAVING}):e.label?new Ia({expressionType:"druid"===this.props.datasource.type?Aa:Da,subject:"druid"===this.props.datasource.type?e.label:new Ut(e).translateToSql(),operator:Nt.j[">"],comparator:0,clause:Na.HAVING}):e.column_name?new Ia({expressionType:Aa,subject:e.column_name,operator:Nt.j["=="],comparator:"",clause:Na.WHERE,isNew:!0}):null)).call(t,e=>e);this.props.onChange(n)}getMetricExpression(e){var t;return it()(t=this.props.savedMetrics).call(t,t=>t.metric_name===e).expression}optionsForSelect(e){var t,a,n;const r=b()(t=[...e.columns,...f()(a=[...e.formData.metrics||[],e.formData.metric]).call(a,e=>e&&("string"==typeof e?{saved_metric_name:e}:new Ut(e)))]).call(t,e=>e);return Ta()(n=at()(r).call(r,(e,t)=>(t.saved_metric_name?e.push(te()({},t,{filterOptionName:t.saved_metric_name})):t.column_name?e.push(te()({},t,{filterOptionName:"_col_"+t.column_name})):t instanceof Ut&&e.push(te()({},t,{filterOptionName:"_adhocmetric_"+t.label})),e),[])).call(n,(e,t)=>(e.saved_metric_name||e.column_name||e.label).localeCompare(t.saved_metric_name||t.column_name||t.label))}render(){return Object(N.e)("div",{className:"metrics-select"},Object(N.e)(K.a,this.props),Object(N.e)(gt.a,{isMulti:!0,name:"select-"+this.props.name,placeholder:Object(T.c)("choose a column or metric"),options:this.state.options,value:Ma()(this.state),labelKey:"label",valueKey:"filterOptionName",clearable:!0,closeOnSelect:!0,onChange:this.onChange,optionRenderer:this.optionRenderer,valueRenderer:this.valueRenderer}))}}nn.propTypes=tn,nn.defaultProps={name:"",onChange:()=>{},columns:[],savedMetrics:[],formData:{}};var rn=a(94),on=a.n(rn);const sn={marginTop:"5px",minHeight:"30px"},ln={textAlign:"right"},cn={label:p.a.string.isRequired,tooltip:p.a.string,control:p.a.node.isRequired,isCheckbox:p.a.bool};function un({label:e,tooltip:t,control:a,isCheckbox:n}){const r=Object(N.e)("span",null,e," ",t&&Object(N.e)(M.a,{placement:"top",label:e,tooltip:t}));return n?Object(N.e)(G.a,{style:sn},Object(N.e)(W.a,{md:4,style:ln},a),Object(N.e)(W.a,{md:8},r)):Object(N.e)(G.a,{style:sn},Object(N.e)(W.a,{md:4,style:ln},r),Object(N.e)(W.a,{md:8},a))}un.propTypes=cn,un.defaultProps={tooltip:null,isCheckbox:!1};const dn=new ft.a(["TINYINT","SMALLINT","INT","INTEGER","BIGINT","LONG"]),pn=new ft.a(["FLOAT","DOUBLE","REAL","NUMERIC","DECIMAL","MONEY"]),hn={datasource:p.a.object.isRequired,onChange:p.a.func,asc:p.a.bool,clearable:p.a.bool,multiple:p.a.bool,column:p.a.string,label:p.a.string,metric:p.a.string,searchAllOptions:p.a.bool,defaultValue:p.a.string},fn={width:350};class mn extends u.a.Component{constructor(e){var t,a;super(e);const{column:n,metric:r,asc:o,clearable:s,multiple:l,searchAllOptions:c,label:u,defaultValue:d}=e,p={column:n,metric:r,label:u,asc:o,clearable:s,multiple:l,searchAllOptions:c,defaultValue:d};this.state=p,this.onChange=i()(t=this.onChange).call(t,this),this.onControlChange=i()(a=this.onControlChange).call(a,this)}onChange(){this.props.onChange(this.state)}onControlChange(e,t){let a=t;const{column:n,multiple:r}=this.state;if(t&&!r&&e===Nt.f.DEFAULT_VALUE){var o;const{datasource:e}=this.props,r=it()(o=e.columns).call(o,e=>e.column_name===n);if(r&&r.type){const e=r.type.toUpperCase();"BOOLEAN"===e?a="true"===t:dn.has(e)?a=q()(Number(t))?null:on()(t,10):pn.has(e)&&(a=q()(Number(t))?null:U()(t))}}this.setState({[e]:a},this.onChange)}setType(){}textSummary(){return this.state.column||"N/A"}renderForm(){var e,t,a,n,r,o;return Object(N.e)("div",null,Object(N.e)(un,{label:Object(T.c)("Column"),control:Object(N.e)(pa.a,{value:this.state.column,name:"column",clearable:!1,options:v()(e=f()(t=b()(a=this.props.datasource.columns).call(a,e=>e!==this.state.column)).call(t,e=>({value:e.column_name,label:e.column_name}))).call(e,[{value:this.state.column,label:this.state.column}]),onChange:e=>this.onControlChange("column",e)})}),Object(N.e)(un,{label:Object(T.c)("Label"),control:Object(N.e)(Xe.a,{value:this.state.label,name:"label",onChange:e=>this.onControlChange("label",e)})}),Object(N.e)(un,{label:Object(T.c)("Default"),tooltip:Object(T.c)("(optional) default value for the filter, when using the multiple option, you can use a semicolon-delimited list of options."),control:Object(N.e)(Xe.a,{value:this.state.defaultValue,name:"defaultValue",onChange:e=>this.onControlChange(Nt.f.DEFAULT_VALUE,e)})}),Object(N.e)(un,{label:Object(T.c)("Sort Metric"),tooltip:Object(T.c)("Metric to sort the results by"),control:Object(N.e)(pa.a,{value:this.state.metric,name:"column",options:v()(n=f()(r=b()(o=this.props.datasource.metrics).call(o,e=>e!==this.state.metric)).call(r,e=>({value:e.metric_name,label:e.metric_name}))).call(n,[{value:this.state.metric,label:this.state.metric}]),onChange:e=>this.onControlChange("metric",e)})}),Object(N.e)(un,{label:Object(T.c)("Sort Ascending"),tooltip:Object(T.c)("Check for sorting ascending"),isCheckbox:!0,control:Object(N.e)(Z.a,{value:this.state.asc,onChange:e=>this.onControlChange("asc",e)})}),Object(N.e)(un,{label:Object(T.c)("Allow Multiple Selections"),isCheckbox:!0,tooltip:Object(T.c)("Multiple selections allowed, otherwise filter is limited to a single value"),control:Object(N.e)(Z.a,{value:this.state.multiple,onChange:e=>this.onControlChange(Nt.f.MULTIPLE,e)})}),Object(N.e)(un,{label:Object(T.c)("Search All Filter Options"),tooltip:Object(T.c)("By default, each filter loads at most 1000 choices at the initial page load. Check this box if you have more than 1000 filter values and want to enable dynamically searching that loads filter values as users type (may add stress to your database)."),isCheckbox:!0,control:Object(N.e)(Z.a,{value:this.state.searchAllOptions,onChange:e=>this.onControlChange(Nt.f.SEARCH_ALL_OPTIONS,e)})}),Object(N.e)(un,{label:Object(T.c)("Required"),tooltip:Object(T.c)("User must select a value for this filter"),isCheckbox:!0,control:Object(N.e)(Z.a,{value:!this.state.clearable,onChange:e=>this.onControlChange("clearable",!e)})}))}renderPopover(){return Object(N.e)(w.a,{id:"ts-col-popo",title:Object(T.c)("Filter Configuration")},Object(N.e)("div",{style:fn},this.renderForm()))}render(){return Object(N.e)("span",null,this.textSummary()," ",Object(N.e)(E.a,{container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},Object(N.e)(M.a,{icon:"edit",className:"text-primary",label:"edit-ts-column"})))}}function bn(e,t,a){class n extends u.a.Component{constructor(e){var t;super(e),this.state={validOptions:null,hasRunVerification:!1},this.getValidOptions=i()(t=this.getValidOptions).call(t,this)}componentDidMount(){this.getValidOptions()}componentDidUpdate(e){const{hasRunVerification:t}=this.state;bt()(this.props.controlValues,e.controlValues)&&t||this.getValidOptions()}getValidOptions(){const e=this.props.getEndpoint(this.props.controlValues);e&&(Ie.a.get({endpoint:e}).then(({json:e})=>{ut()(e)&&this.setState({validOptions:new ft.a(e)||new ft.a})}).catch(e=>Ra.a.log(e)),this.state.hasRunVerification||this.setState({hasRunVerification:!0}))}render(){const{validOptions:n}=this.state,r=this.props[a],o=n?b()(r).call(r,e=>n.has(e[t])):r,i=te()({},this.props,{[a]:o});return Object(N.e)(e,i)}}return n.propTypes=e.propTypes,n}mn.propTypes=hn,mn.defaultProps={onChange:()=>{},asc:!0,clearable:!0,multiple:!0,searchAllOptions:!1};var gn={AnnotationLayerControl:H,BoundsControl:X,CheckboxControl:Z.a,CollectionControl:ue,ColorMapControl:be,ColorPickerControl:Oe,ColorSchemeControl:we.a,DatasourceControl:Ye,DateFilterControl:Ke.a,FixedOrMetricControl:la,HiddenControl:ua,SelectAsyncControl:da.a,SelectControl:pa.a,SliderControl:ga,SpatialControl:va.a,TextAreaControl:ya.a,TextControl:Xe.a,TimeSeriesColumnControl:Ea,ViewportControl:_a.b,VizTypeControl:Sa.a,MetricsControl:aa,AdhocFilterControl:nn,FilterBoxItemControl:mn,MetricsControlVerifiedOptions:bn(aa,"metric_name","savedMetrics"),SelectControlVerifiedOptions:bn(pa.a,"column_name","options"),AdhocFilterControlVerifiedOptions:bn(nn,"column_name","columns")};const vn=l()(gn),yn={actions:p.a.object.isRequired,name:p.a.string.isRequired,type:p.a.oneOfType([p.a.oneOf(vn).isRequired,p.a.func.isRequired]),hidden:p.a.bool,label:p.a.string.isRequired,choices:p.a.oneOfType([p.a.arrayOf(p.a.array),p.a.func]),description:p.a.string,tooltipOnClick:p.a.func,places:p.a.number,validationErrors:p.a.array,renderTrigger:p.a.bool,rightNode:p.a.node,formData:p.a.object,value:p.a.oneOfType([p.a.string,p.a.number,p.a.object,p.a.bool,p.a.array,p.a.func])};class xn extends u.a.PureComponent{constructor(e){var t,a,n;super(e),this.state={hovered:!1},this.onChange=i()(t=this.onChange).call(t,this),this.onMouseEnter=i()(a=this.setHover).call(a,this,!0),this.onMouseLeave=i()(n=this.setHover).call(n,this,!1)}onChange(e,t){this.props.actions.setControlValue(this.props.name,e,t)}setHover(e){this.setState({hovered:e})}render(){const{type:e,hidden:t}=this.props;if(!e)return null;const a="string"==typeof e?gn[e]:e;return Object(N.e)("div",{className:"Control","data-test":this.props.name,style:t?{display:"none"}:void 0,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},Object(N.e)(a,r()({onChange:this.onChange,hovered:this.state.hovered},this.props)))}}xn.propTypes=yn,xn.defaultProps={renderTrigger:!1,hidden:!1,validationErrors:[]}},848:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var n=i(a(1)),r=i(a(50)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1090));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.Checkboard=function(e){var t=e.white,a=e.grey,i=e.size,s=e.renderers,l=e.borderRadius,c=e.boxShadow,u=(0,r.default)({default:{grid:{borderRadius:l,boxShadow:c,absolute:"0px 0px 0px 0px",background:"url("+o.get(t,a,i,s.canvas)+") center left"}}});return n.default.createElement("div",{style:u.grid})};s.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=s},849:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(1),i=c(o),s=c(a(177)),l=c(a(205));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.ColorWrap=function(e){var t=function(t){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return t.handleChange=function(e,a){if(l.default.simpleCheckForValidColor(e)){var n=l.default.toState(e,e.h||t.state.oldHue);t.setState(n),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,n,a),t.props.onChange&&t.props.onChange(n,a)}},t.handleSwatchHover=function(e,a){if(l.default.simpleCheckForValidColor(e)){var n=l.default.toState(e,e.h||t.state.oldHue);t.setState(n),t.props.onSwatchHover&&t.props.onSwatchHover(n,a)}},t.state=n({},l.default.toState(e.color,0)),t.debounce=(0,s.default)((function(e,t,a){e(t,a)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,t),r(a,[{key:"componentWillReceiveProps",value:function(e){this.setState(n({},l.default.toState(e.color,this.state.oldHue)))}},{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),i.default.createElement(e,n({},this.props,this.state,{onChange:this.handleChange},t))}}]),a}(o.PureComponent||o.Component);return t.propTypes=n({},e.propTypes),t.defaultProps=n({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=u},850:function(e,t,a){"use strict";a.r(t),a.d(t,"red",(function(){return n})),a.d(t,"pink",(function(){return r})),a.d(t,"purple",(function(){return o})),a.d(t,"deepPurple",(function(){return i})),a.d(t,"indigo",(function(){return s})),a.d(t,"blue",(function(){return l})),a.d(t,"lightBlue",(function(){return c})),a.d(t,"cyan",(function(){return u})),a.d(t,"teal",(function(){return d})),a.d(t,"green",(function(){return p})),a.d(t,"lightGreen",(function(){return h})),a.d(t,"lime",(function(){return f})),a.d(t,"yellow",(function(){return m})),a.d(t,"amber",(function(){return b})),a.d(t,"orange",(function(){return g})),a.d(t,"deepOrange",(function(){return v})),a.d(t,"brown",(function(){return y})),a.d(t,"grey",(function(){return x})),a.d(t,"blueGrey",(function(){return C})),a.d(t,"darkText",(function(){return O})),a.d(t,"lightText",(function(){return w})),a.d(t,"darkIcons",(function(){return E})),a.d(t,"lightIcons",(function(){return _})),a.d(t,"white",(function(){return S})),a.d(t,"black",(function(){return j}));var n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},r={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},i={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},l={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},c={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},u={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},d={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},p={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},h={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},f={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},m={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},b={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},v={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},y={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},x={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},C={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},O={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},w={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},E={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},_={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},S="#ffffff",j="#000000";t.default={red:n,pink:r,purple:o,deepPurple:i,indigo:s,blue:l,lightBlue:c,cyan:u,teal:d,green:p,lightGreen:h,lime:f,yellow:m,amber:b,orange:g,deepOrange:v,brown:y,grey:x,blueGrey:C,darkText:O,lightText:w,darkIcons:E,lightIcons:_,white:S,black:j}},851:function(e,t,a){"use strict";var n=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function o(e){var t=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t.filter((function(t){return n.call(e,t)}))}e.exports=Object.assign||function(e,t){for(var a,n,i=r(e),s=1;s<arguments.length;s++){a=arguments[s],n=o(Object(a));for(var l=0;l<n.length;l++)i[n[l]]=a[n[l]]}return i}},852:function(e,t,a){},853:function(e,t,a){var n;!function(r){var o=/^\s+/,i=/\s+$/,s=0,l=r.round,c=r.min,u=r.max,d=r.random;function p(e,t){if(t=t||{},(e=e||"")instanceof p)return e;if(!(this instanceof p))return new p(e,t);var a=function(e){var t={r:0,g:0,b:0},a=1,n=null,s=null,l=null,d=!1,p=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(i,"").toLowerCase();var t,a=!1;if(M[e])e=M[e],a=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=q.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=q.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=q.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=q.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=q.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=q.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=q.hex8.exec(e))return{r:P(t[1]),g:P(t[2]),b:P(t[3]),a:H(t[4]),format:a?"name":"hex8"};if(t=q.hex6.exec(e))return{r:P(t[1]),g:P(t[2]),b:P(t[3]),format:a?"name":"hex"};if(t=q.hex4.exec(e))return{r:P(t[1]+""+t[1]),g:P(t[2]+""+t[2]),b:P(t[3]+""+t[3]),a:H(t[4]+""+t[4]),format:a?"name":"hex8"};if(t=q.hex3.exec(e))return{r:P(t[1]+""+t[1]),g:P(t[2]+""+t[2]),b:P(t[3]+""+t[3]),format:a?"name":"hex"};return!1}(e));"object"==typeof e&&(z(e.r)&&z(e.g)&&z(e.b)?(h=e.r,f=e.g,m=e.b,t={r:255*D(h,255),g:255*D(f,255),b:255*D(m,255)},d=!0,p="%"===String(e.r).substr(-1)?"prgb":"rgb"):z(e.h)&&z(e.s)&&z(e.v)?(n=I(e.s),s=I(e.v),t=function(e,t,a){e=6*D(e,360),t=D(t,100),a=D(a,100);var n=r.floor(e),o=e-n,i=a*(1-t),s=a*(1-o*t),l=a*(1-(1-o)*t),c=n%6;return{r:255*[a,s,i,i,l,a][c],g:255*[l,a,a,s,i,i][c],b:255*[i,i,l,a,a,s][c]}}(e.h,n,s),d=!0,p="hsv"):z(e.h)&&z(e.s)&&z(e.l)&&(n=I(e.s),l=I(e.l),t=function(e,t,a){var n,r,o;function i(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e}if(e=D(e,360),t=D(t,100),a=D(a,100),0===t)n=r=o=a;else{var s=a<.5?a*(1+t):a+t-a*t,l=2*a-s;n=i(l,s,e+1/3),r=i(l,s,e),o=i(l,s,e-1/3)}return{r:255*n,g:255*r,b:255*o}}(e.h,n,l),d=!0,p="hsl"),e.hasOwnProperty("a")&&(a=e.a));var h,f,m;return a=A(a),{ok:d,format:e.format||p,r:c(255,u(t.r,0)),g:c(255,u(t.g,0)),b:c(255,u(t.b,0)),a:a}}(e);this._originalInput=e,this._r=a.r,this._g=a.g,this._b=a.b,this._a=a.a,this._roundA=l(100*this._a)/100,this._format=t.format||a.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=a.ok,this._tc_id=s++}function h(e,t,a){e=D(e,255),t=D(t,255),a=D(a,255);var n,r,o=u(e,t,a),i=c(e,t,a),s=(o+i)/2;if(o==i)n=r=0;else{var l=o-i;switch(r=s>.5?l/(2-o-i):l/(o+i),o){case e:n=(t-a)/l+(t<a?6:0);break;case t:n=(a-e)/l+2;break;case a:n=(e-t)/l+4}n/=6}return{h:n,s:r,l:s}}function f(e,t,a){e=D(e,255),t=D(t,255),a=D(a,255);var n,r,o=u(e,t,a),i=c(e,t,a),s=o,l=o-i;if(r=0===o?0:l/o,o==i)n=0;else{switch(o){case e:n=(t-a)/l+(t<a?6:0);break;case t:n=(a-e)/l+2;break;case a:n=(e-t)/l+4}n/=6}return{h:n,s:r,v:s}}function m(e,t,a,n){var r=[F(l(e).toString(16)),F(l(t).toString(16)),F(l(a).toString(16))];return n&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function b(e,t,a,n){return[F(L(n)),F(l(e).toString(16)),F(l(t).toString(16)),F(l(a).toString(16))].join("")}function g(e,t){t=0===t?0:t||10;var a=p(e).toHsl();return a.s-=t/100,a.s=N(a.s),p(a)}function v(e,t){t=0===t?0:t||10;var a=p(e).toHsl();return a.s+=t/100,a.s=N(a.s),p(a)}function y(e){return p(e).desaturate(100)}function x(e,t){t=0===t?0:t||10;var a=p(e).toHsl();return a.l+=t/100,a.l=N(a.l),p(a)}function C(e,t){t=0===t?0:t||10;var a=p(e).toRgb();return a.r=u(0,c(255,a.r-l(-t/100*255))),a.g=u(0,c(255,a.g-l(-t/100*255))),a.b=u(0,c(255,a.b-l(-t/100*255))),p(a)}function O(e,t){t=0===t?0:t||10;var a=p(e).toHsl();return a.l-=t/100,a.l=N(a.l),p(a)}function w(e,t){var a=p(e).toHsl(),n=(a.h+t)%360;return a.h=n<0?360+n:n,p(a)}function E(e){var t=p(e).toHsl();return t.h=(t.h+180)%360,p(t)}function _(e){var t=p(e).toHsl(),a=t.h;return[p(e),p({h:(a+120)%360,s:t.s,l:t.l}),p({h:(a+240)%360,s:t.s,l:t.l})]}function S(e){var t=p(e).toHsl(),a=t.h;return[p(e),p({h:(a+90)%360,s:t.s,l:t.l}),p({h:(a+180)%360,s:t.s,l:t.l}),p({h:(a+270)%360,s:t.s,l:t.l})]}function j(e){var t=p(e).toHsl(),a=t.h;return[p(e),p({h:(a+72)%360,s:t.s,l:t.l}),p({h:(a+216)%360,s:t.s,l:t.l})]}function T(e,t,a){t=t||6,a=a||30;var n=p(e).toHsl(),r=360/a,o=[p(e)];for(n.h=(n.h-(r*t>>1)+720)%360;--t;)n.h=(n.h+r)%360,o.push(p(n));return o}function k(e,t){t=t||6;for(var a=p(e).toHsv(),n=a.h,r=a.s,o=a.v,i=[],s=1/t;t--;)i.push(p({h:n,s:r,v:o})),o=(o+s)%1;return i}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,a,n=this.toRgb();return e=n.r/255,t=n.g/255,a=n.b/255,.2126*(e<=.03928?e/12.92:r.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:r.pow((t+.055)/1.055,2.4))+.0722*(a<=.03928?a/12.92:r.pow((a+.055)/1.055,2.4))},setAlpha:function(e){return this._a=A(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=f(this._r,this._g,this._b),t=l(360*e.h),a=l(100*e.s),n=l(100*e.v);return 1==this._a?"hsv("+t+", "+a+"%, "+n+"%)":"hsva("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b),t=l(360*e.h),a=l(100*e.s),n=l(100*e.l);return 1==this._a?"hsl("+t+", "+a+"%, "+n+"%)":"hsla("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,a,n,r){var o=[F(l(e).toString(16)),F(l(t).toString(16)),F(l(a).toString(16)),F(L(n))];if(r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*D(this._r,255))+"%",g:l(100*D(this._g,255))+"%",b:l(100*D(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*D(this._r,255))+"%, "+l(100*D(this._g,255))+"%, "+l(100*D(this._b,255))+"%)":"rgba("+l(100*D(this._r,255))+"%, "+l(100*D(this._g,255))+"%, "+l(100*D(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(R[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+b(this._r,this._g,this._b,this._a),a=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var r=p(e);a="#"+b(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+a+")"},toString:function(e){var t=!!e;e=e||this._format;var a=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(a=this.toRgbString()),"prgb"===e&&(a=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(a=this.toHexString()),"hex3"===e&&(a=this.toHexString(!0)),"hex4"===e&&(a=this.toHex8String(!0)),"hex8"===e&&(a=this.toHex8String()),"name"===e&&(a=this.toName()),"hsl"===e&&(a=this.toHslString()),"hsv"===e&&(a=this.toHsvString()),a||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return p(this.toString())},_applyModification:function(e,t){var a=e.apply(null,[this].concat([].slice.call(t)));return this._r=a._r,this._g=a._g,this._b=a._b,this.setAlpha(a._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(C,arguments)},darken:function(){return this._applyModification(O,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(j,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},p.fromRatio=function(e,t){if("object"==typeof e){var a={};for(var n in e)e.hasOwnProperty(n)&&(a[n]="a"===n?e[n]:I(e[n]));e=a}return p(e,t)},p.equals=function(e,t){return!(!e||!t)&&p(e).toRgbString()==p(t).toRgbString()},p.random=function(){return p.fromRatio({r:d(),g:d(),b:d()})},p.mix=function(e,t,a){a=0===a?0:a||50;var n=p(e).toRgb(),r=p(t).toRgb(),o=a/100;return p({r:(r.r-n.r)*o+n.r,g:(r.g-n.g)*o+n.g,b:(r.b-n.b)*o+n.b,a:(r.a-n.a)*o+n.a})},p.readability=function(e,t){var a=p(e),n=p(t);return(r.max(a.getLuminance(),n.getLuminance())+.05)/(r.min(a.getLuminance(),n.getLuminance())+.05)},p.isReadable=function(e,t,a){var n,r,o=p.readability(e,t);switch(r=!1,(n=function(e){var t,a;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),a=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==a&&"large"!==a&&(a="small");return{level:t,size:a}}(a)).level+n.size){case"AAsmall":case"AAAlarge":r=o>=4.5;break;case"AAlarge":r=o>=3;break;case"AAAsmall":r=o>=7}return r},p.mostReadable=function(e,t,a){var n,r,o,i,s=null,l=0;r=(a=a||{}).includeFallbackColors,o=a.level,i=a.size;for(var c=0;c<t.length;c++)(n=p.readability(e,t[c]))>l&&(l=n,s=p(t[c]));return p.isReadable(e,s,{level:o,size:i})||!r?s:(a.includeFallbackColors=!1,p.mostReadable(e,["#fff","#000"],a))};var M=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R=p.hexNames=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[e[a]]=a);return t}(M);function A(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function D(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var a=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,u(0,parseFloat(e))),a&&(e=parseInt(e*t,10)/100),r.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function N(e){return c(1,u(0,e))}function P(e){return parseInt(e,16)}function F(e){return 1==e.length?"0"+e:""+e}function I(e){return e<=1&&(e=100*e+"%"),e}function L(e){return r.round(255*parseFloat(e)).toString(16)}function H(e){return P(e)/255}var B,U,V,q=(U="[\\s|\\(]+("+(B="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",V="[\\s|\\(]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",{CSS_UNIT:new RegExp(B),rgb:new RegExp("rgb"+U),rgba:new RegExp("rgba"+V),hsl:new RegExp("hsl"+U),hsla:new RegExp("hsla"+V),hsv:new RegExp("hsv"+U),hsva:new RegExp("hsva"+V),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function z(e){return!!q.CSS_UNIT.exec(e)}e.exports?e.exports=p:void 0===(n=function(){return p}.call(t,a,t,e))||(e.exports=n)}(Math)},854:function(e,t,a){},856:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var n=a(1081);Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return v(n).default}});var r=a(1100);Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return v(r).default}});var o=a(1102);Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return v(o).default}});var i=a(1104);Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return v(i).default}});var s=a(1108);Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return v(s).default}});var l=a(1111);Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return v(l).default}});var c=a(1113);Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return v(c).default}});var u=a(1115);Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return v(u).default}});var d=a(1116);Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return v(d).default}});var p=a(1122);Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return v(p).default}});var h=a(1125);Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return v(h).default}});var f=a(1129);Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return v(f).default}});var m=a(1132);Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return v(m).default}});var b=a(849);Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return v(b).default}});var g=v(i);function v(e){return e&&e.__esModule?e:{default:e}}t.default=g.default},87:function(e,t,a){"use strict";a.r(t),a.d(t,"CHART_UPDATE_STARTED",(function(){return k})),a.d(t,"chartUpdateStarted",(function(){return M})),a.d(t,"CHART_UPDATE_SUCCEEDED",(function(){return R})),a.d(t,"chartUpdateSucceeded",(function(){return A})),a.d(t,"CHART_UPDATE_STOPPED",(function(){return D})),a.d(t,"chartUpdateStopped",(function(){return N})),a.d(t,"CHART_UPDATE_FAILED",(function(){return P})),a.d(t,"chartUpdateFailed",(function(){return F})),a.d(t,"CHART_RENDERING_FAILED",(function(){return I})),a.d(t,"chartRenderingFailed",(function(){return L})),a.d(t,"CHART_RENDERING_SUCCEEDED",(function(){return H})),a.d(t,"chartRenderingSucceeded",(function(){return B})),a.d(t,"REMOVE_CHART",(function(){return U})),a.d(t,"removeChart",(function(){return V})),a.d(t,"ANNOTATION_QUERY_SUCCESS",(function(){return q})),a.d(t,"annotationQuerySuccess",(function(){return z})),a.d(t,"ANNOTATION_QUERY_STARTED",(function(){return G})),a.d(t,"annotationQueryStarted",(function(){return W})),a.d(t,"ANNOTATION_QUERY_FAILED",(function(){return Y})),a.d(t,"annotationQueryFailed",(function(){return K})),a.d(t,"getChartDataRequest",(function(){return Q})),a.d(t,"runAnnotationQuery",(function(){return X})),a.d(t,"TRIGGER_QUERY",(function(){return Z})),a.d(t,"triggerQuery",(function(){return J})),a.d(t,"RENDER_TRIGGERED",(function(){return $})),a.d(t,"renderTriggered",(function(){return ee})),a.d(t,"UPDATE_QUERY_FORM_DATA",(function(){return te})),a.d(t,"updateQueryFormData",(function(){return ae})),a.d(t,"UPDATE_CHART_ID",(function(){return ne})),a.d(t,"updateChartId",(function(){return re})),a.d(t,"ADD_CHART",(function(){return oe})),a.d(t,"addChart",(function(){return ie})),a.d(t,"exploreJSON",(function(){return se})),a.d(t,"GET_SAVED_CHART",(function(){return le})),a.d(t,"getSavedChart",(function(){return ce})),a.d(t,"POST_CHART_FORM_DATA",(function(){return ue})),a.d(t,"postChartFormData",(function(){return de})),a.d(t,"redirectSQLLab",(function(){return pe})),a.d(t,"refreshChart",(function(){return he}));a(114),a(116),a(35);var n=a(6),r=a.n(n),o=a(43),i=a.n(o),s=a(28),l=a.n(s),c=a(53),u=a.n(c),d=a(29),p=a.n(d),h=a(84),f=a.n(h),m=a(3),b=a.n(m),g=a(13),v=a.n(g),y=a(91),x=a(7),C=a(45),O=a(99),w=a(775),E=a(37),_=a(192),S=a(72),j=a(49),T=a(254);const k="CHART_UPDATE_STARTED";function M(e,t,a){return{type:k,queryController:e,latestQueryFormData:t,key:a}}const R="CHART_UPDATE_SUCCEEDED";function A(e,t){return{type:R,queryResponse:e,key:t}}const D="CHART_UPDATE_STOPPED";function N(e){return{type:D,key:e}}const P="CHART_UPDATE_FAILED";function F(e,t){return{type:P,queryResponse:e,key:t}}const I="CHART_RENDERING_FAILED";function L(e,t,a){return{type:I,error:e,key:t,stackTrace:a}}const H="CHART_RENDERING_SUCCEEDED";function B(e){return{type:H,key:e}}const U="REMOVE_CHART";function V(e){return{type:U,key:e}}const q="ANNOTATION_QUERY_SUCCESS";function z(e,t,a){return{type:q,annotation:e,queryResponse:t,key:a}}const G="ANNOTATION_QUERY_STARTED";function W(e,t,a){return{type:G,annotation:e,queryController:t,key:a}}const Y="ANNOTATION_QUERY_FAILED";function K(e,t,a){return{type:Y,annotation:e,queryResponse:t,key:a}}async function Q({formData:e,resultFormat:t="json",resultType:a="full",force:n=!1,method:r="POST",requestParams:o={}}){let i=b()({},o);return T.a&&(i=b()({},i,{mode:"cors",credentials:"include"})),Object(O.l)(e)?(async(e,t,a,n,r="POST",o={})=>{const i=Object(O.i)({resultFormat:t,resultType:a}),s=T.a&&(null==o?void 0:o.dashboard_id),l=Object(O.h)({formData:e,endpointType:i,force:n,allowDomainSharding:s,method:r,requestParams:o.dashboard_id?{dashboard_id:o.dashboard_id}:{}}),c=b()({},o,{url:l,postPayload:{form_data:e}});return(Object(C.c)(C.a.CLIENT_CACHE)?y.a.get:y.a.post)(c).then(({json:e})=>({result:[e]}))})(e,t,a,n,r,i):(async(e,t,a,n,r)=>{const o=Object(O.a)({formData:e,resultType:a,resultFormat:t,force:n}),i=r.dashboard_id?{dashboard_id:r.dashboard_id}:{},s=T.a&&(null==r?void 0:r.dashboard_id),l=Object(O.e)({path:"/api/v1/chart/data",qs:i,allowDomainSharding:s}).toString(),c=b()({},r,{url:l,headers:{"Content-Type":"application/json"},body:f()(o)});return y.a.post(c).then(({json:e})=>e)})(e,t,a,n,i)}function X(e,t=60,a=null,n,r=!1){return function(o,s){var c;const d=n||p()(s().charts)[0],h=b()({},a||s().charts[d].latestQueryFormData);if(!Object(w.f)(e.sourceType))return u.a.resolve();const f=h.time_grain_sqla||h.granularity;h.time_grain_sqla=f,h.granularity=f;const m=p()(e.overrides);(l()(m).call(m,"since")||l()(m).call(m,"until"))&&(e.overrides=b()({},e.overrides,{time_range:null}));const g=i()(c=p()(e.overrides)).call(c,(t,a)=>b()({},t,{[a]:e.overrides[a]||h[a]}),{});if(!r&&h){const e=h.extra_filters&&h.extra_filters.length>0;g.extra_filters=e?h.extra_filters:void 0}const v=e.sourceType===w.a.NATIVE,x=Object(O.d)(e.value,g,v),C=new AbortController,{signal:E}=C;return o(W(e,C,d)),y.a.get({url:x,signal:E,timeout:1e3*t}).then(({json:t})=>o(z(e,t,d))).catch(t=>Object(j.a)(t).then(t=>{var a;"timeout"===t.statusText?o(K(e,{error:"Query Timeout"},d)):l()(a=(t.error||"").toLowerCase()).call(a,"no data")?o(z(e,t,d)):"abort"!==t.statusText&&o(K(e,t,d))}))}}const Z="TRIGGER_QUERY";function J(e=!0,t){return{type:Z,value:e,key:t}}const $="RENDER_TRIGGERED";function ee(e,t){return{type:$,value:e,key:t}}const te="UPDATE_QUERY_FORM_DATA";function ae(e,t){return{type:te,value:e,key:t}}const ne="UPDATE_CHART_ID";function re(e,t=0){return{type:ne,newId:e,key:t}}const oe="ADD_CHART";function ie(e,t){return{type:oe,chart:e,key:t}}function se(e,t=!1,a=60,n,o,i){return async s=>{const l=S.q.getTimestamp(),c=new AbortController,d={signal:c.signal,timeout:1e3*a};i&&(d.dashboard_id=i);const p=Q({formData:e,resultFormat:"json",resultType:"full",force:t,method:o,requestParams:d});s(M(c,e,n));const h=p.then(a=>{const r=a.result[0];return s(Object(_.logEvent)(S.h,{slice_id:n,is_cached:r.is_cached,force_refresh:t,row_count:r.rowcount,datasource:e.datasource,start_offset:l,ts:(new Date).getTime(),duration:S.q.getTimestamp()-l,has_extra_filters:e.extra_filters&&e.extra_filters.length>0,viz_type:e.viz_type,data_age:r.is_cached?v()(new Date).diff(v.a.utc(r.cached_dttm)):null})),s(A(r,n))}).catch(t=>{const a=(t,a)=>{s(Object(_.logEvent)(S.h,{slice_id:n,has_err:!0,is_cached:a,error_details:t,datasource:e.datasource,start_offset:l,ts:(new Date).getTime(),duration:S.q.getTimestamp()-l}))};return"AbortError"===t.name?(a("abort"),s(N(n))):Object(j.a)(t).then(e=>("timeout"===t.statusText?a("timeout"):a(e.error,e.is_cached),s(F(e,n))))}),f=e.annotation_layers||[],m=i>0;return u.a.all([h,s(J(!1,n)),s(ae(e,n)),...r()(f).call(f,t=>s(X(t,a,e,n,m)))])}}const le="GET_SAVED_CHART";function ce(e,t=!1,a=60,n,r){return se(e,t,a,n,"GET",r)}const ue="POST_CHART_FORM_DATA";function de(e,t=!1,a=60,n,r){return se(e,t,a,n,"POST",r)}function pe(e){return t=>{Q({formData:e,resultFormat:"json",resultType:"query"}).then(({result:t})=>{const a={datasourceKey:e.datasource,sql:t[0].query};Object(O.k)("/superset/sqllab",a)}).catch(()=>t(Object(E.c)(Object(x.c)("An error occurred while loading the SQL"))))}}function he(e,t,a){return(n,r)=>{const o=(r().charts||{})[e],i=r().dashboardInfo.common.conf.SUPERSET_WEBSERVER_TIMEOUT;o.latestQueryFormData&&0!==p()(o.latestQueryFormData).length&&n(de(o.latestQueryFormData,t,i,o.id,a))}}},893:function(e,t,a){"use strict";var n=a(31);t.__esModule=!0,t.default=void 0;var r=n(a(729));t.end=r.default;var o=n(a(224));t.properties=o.default;var i={end:r.default,properties:o.default};t.default=i},92:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1088);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return d(n).default}});var r=a(848);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return d(r).default}});var o=a(1091);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return d(o).default}});var i=a(1092);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return d(i).default}});var s=a(1094);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return d(s).default}});var l=a(1095);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return d(l).default}});var c=a(849);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return d(c).default}});var u=a(1097);function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return d(u).default}})},99:function(e,t,a){"use strict";a.d(t,"f",(function(){return x})),a.d(t,"d",(function(){return w})),a.d(t,"j",(function(){return E})),a.d(t,"g",(function(){return _})),a.d(t,"e",(function(){return S})),a.d(t,"h",(function(){return j})),a.d(t,"l",(function(){return T})),a.d(t,"a",(function(){return k})),a.d(t,"i",(function(){return M})),a.d(t,"k",(function(){return R})),a.d(t,"c",(function(){return A})),a.d(t,"b",(function(){return D}));a(116),a(247);var n=a(3),r=a.n(n),o=a(33),i=a.n(o),s=a(29),l=a.n(s),c=a(10),u=a.n(c),d=a(28),p=a.n(d),h=a(220),f=a.n(h),m=a(147),b=a(169),g=a(294),v=a(254),y=a(144);function x(e){const{slice:t}=e;return t?t.slice_id:0}let C=0;function O(e=!1){let t=0;return e&&(t=C%v.b.length,C+=1,0===t&&(t+=1,C+=1)),v.b[t]}function w(e,t,a){if(null==e)return null;const n=a?"annotation_json":"slice_json";return f()(window.location.search).pathname("/superset/"+n+"/"+e).search({form_data:Object(y.a)(t,(e,t)=>null===t?void 0:t)}).toString()}function E(e="base"){var t;return p()(t=["full","json","csv","query","results","samples"]).call(t,e)?"/superset/explore_json/":"/superset/explore/"}function _(e,t,a=!0,n={}){var r;if(!e.datasource)return null;const o=new f.a("/"),i=E(t),s=o.search(!0);u()(r=l()(n)).call(r,e=>{s[e]=n[e]}),s.form_data=Object(y.a)(e),"standalone"===t&&(s.standalone="true");const c=o.directory(i).search(s).toString();if(!a&&c.length>8e3){return _({datasource:e.datasource,viz_type:e.viz_type},t,!1,{URL_IS_TOO_LONG_TO_SHARE:null})}return c}function S({path:e,qs:t,allowDomainSharding:a=!1}){var n;let r=new f.a({protocol:i()(n=window.location.protocol).call(n,0,-1),hostname:O(a),port:window.location.port?window.location.port:"",path:e});return t&&(r=r.search(t)),r}function j({formData:e,endpointType:t="base",force:a=!1,curUrl:n=null,requestParams:r={},allowDomainSharding:o=!1,method:i="POST"}){if(!e.datasource)return null;let s=S({path:"/",allowDomainSharding:o});n&&(s=f()(f()(n).search()));const c=E(t),d=s.search(!0),{slice_id:p,extra_filters:h,adhoc_filters:m,viz_type:b}=e;if(p){const e={slice_id:p};"GET"===i&&(e.viz_type=b,h&&h.length&&(e.extra_filters=h),m&&m.length&&(e.adhoc_filters=m)),d.form_data=Object(y.a)(e)}a&&(d.force="true"),"csv"===t&&(d.csv="true"),"standalone"===t&&(d.standalone="true"),"query"===t&&(d.query="true"),"results"===t&&(d.results="true"),"samples"===t&&(d.samples="true");const g=l()(r);return g.length&&u()(g).call(g,e=>{r.hasOwnProperty(e)&&(d[e]=r[e])}),s.search(d).directory(c).toString()}const T=e=>{const t=Object(m.a)().get(e.viz_type);return!!t&&t.useLegacyApi},k=({formData:e,force:t,resultFormat:a,resultType:n})=>{var o;return(null!=(o=Object(b.a)().get(e.viz_type))?o:e=>Object(g.a)(e,e=>[r()({},e)]))(r()({},e,{force:t,result_format:a,result_type:n}))},M=({resultType:e,resultFormat:t})=>"csv"===t?t:e;function R(e,t,a="_blank"){if(!e)return;const n=document.createElement("form");n.action=e,n.method="POST",n.target=a;const r=document.createElement("input");r.type="hidden",r.name="csrf_token",r.value=(document.getElementById("csrf_token")||{}).value,n.appendChild(r);const o=document.createElement("input");o.type="hidden",o.name="form_data",o.value=Object(y.a)(t),n.appendChild(o),document.body.appendChild(n),n.submit(),document.body.removeChild(n)}const A=({formData:e,resultFormat:t="json",resultType:a="full",force:n=!1})=>{let r,o;if(T(e)){r=j({formData:e,endpointType:M({resultFormat:t,resultType:a}),allowDomainSharding:!1}),o=e}else r="/api/v1/chart/data",o=k({formData:e,force:n,resultFormat:t,resultType:a});R(r,o)},D=e=>{R(j({formData:e,endpointType:"base",allowDomainSharding:!1}),e)}}}]);