(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{261:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return p}));var r={};n.r(r),n.d(r,"default",(function(){return c})),n.d(r,"DEFAULT_NAMESPACE",(function(){return l})),n.d(r,"getNamespace",(function(){return f})),n.d(r,"getColor",(function(){return d})),n.d(r,"getScale",(function(){return h}));var o=n(952),s=n(365),a=n(768);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class c{constructor(t){i(this,"name",void 0),i(this,"forcedItems",void 0),i(this,"scales",void 0),this.name=t,this.scales={},this.forcedItems={}}getScale(t){var e,n;const r=null!=(e=null!=t?t:Object(s.a)().getDefaultKey())?e:"",a=this.scales[r];if(a)return a;const i=Object(s.a)().get(r),c=new o.a(null!=(n=null==i?void 0:i.colors)?n:[],this.forcedItems);return this.scales[r]=c,c}setColor(t,e){return this.forcedItems[Object(a.a)(t)]=e,this}}const u={},l="GLOBAL";function f(t){void 0===t&&(t=l);const e=u[t];if(e)return e;const n=new c(t);return u[t]=n,n}function d(t,e,n){return f(n).getScale(e).getColor(t)}function h(t,e){return f(e).getScale(t)}const p="#00A699"},3047:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(1),o=n.n(r),s=n(0),a=n.n(s);function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){class n extends a.a.Component{constructor(t){super(t),c(this,"container",void 0),this.setContainerRef=this.setContainerRef.bind(this)}componentDidMount(){this.execute()}componentDidUpdate(){this.execute()}componentWillUnmount(){this.container=void 0,(null==e?void 0:e.componentWillUnmount)&&e.componentWillUnmount.bind(this)()}setContainerRef(t){this.container=t}execute(){this.container&&t(this.container,this.props)}render(){const{id:t,className:e}=this.props;return a.a.createElement("div",{ref:this.setContainerRef,id:t,className:e})}}c(n,"propTypes",{id:o.a.string,className:o.a.string});const r=n;return t.displayName&&(r.displayName=t.displayName),t.propTypes&&(r.propTypes=i({},r.propTypes,{},t.propTypes)),t.defaultProps&&(r.defaultProps=t.defaultProps),n}},3326:function(t,e,n){},3374:function(t,e,n){"use strict";n.r(e);var r=n(3047),o=n(207),s=n.n(o),a=n(1),i=n.n(a),c=n(80),u=n(776),l=n(208),f=function(){var t={},e=24,n=8,r=[1,1],o=[],s=[];function a(){function t(t,e){return t.source.y-e.source.y}function e(t,e){return t.target.y-e.target.y}o.forEach((function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)})),o.forEach((function(t){var e=0,n=0;t.sourceLinks.forEach((function(t){t.sy=e,e+=t.dy})),t.targetLinks.forEach((function(t){t.ty=n,n+=t.dy}))}))}function i(t){return t.y+t.dy/2}function f(t){return t.value}return t.nodeWidth=function(n){return arguments.length?(e=+n,t):e},t.nodePadding=function(e){return arguments.length?(n=+e,t):n},t.nodes=function(e){return arguments.length?(o=e,t):o},t.links=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(r=e,t):r},t.layout=function(l){return o.forEach((function(t){t.sourceLinks=[],t.targetLinks=[]})),s.forEach((function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=o[t.source]),"number"==typeof n&&(n=t.target=o[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)})),o.forEach((function(t){t.value=Math.max(Object(c.sum)(t.sourceLinks,f),Object(c.sum)(t.targetLinks,f))})),function(){var t,n=o,s=0;for(;n.length;)t=[],n.forEach((function(n){n.x=s,n.dx=e,n.sourceLinks.forEach((function(e){t.indexOf(e.target)<0&&t.push(e.target)}))})),n=t,++s;(function(t){o.forEach((function(e){e.sourceLinks.length||(e.x=t-1)}))})(s),a=(r[0]-e)/(s-1),o.forEach((function(t){t.x*=a}));var a}(),function(t){var e=Object(u.b)().key((function(t){return t.x})).sortKeys(c.ascending).entries(o).map((function(t){return t.values}));a=Object(c.min)(e,(function(t){return(r[1]-(t.length-1)*n)/Object(c.sum)(t,f)})),e.forEach((function(t){t.forEach((function(t,e){t.y=e,t.dy=t.value*a}))})),s.forEach((function(t){t.dy=t.value*a})),p();var a;for(var l=1;t>0;--t)h(l*=.99),p(),d(l),p();function d(t){function n(t){return i(t.source)*t.value}e.forEach((function(e){e.forEach((function(e){if(e.targetLinks.length){var r=Object(c.sum)(e.targetLinks,n)/Object(c.sum)(e.targetLinks,f);e.y+=(r-i(e))*t}}))}))}function h(t){function n(t){return i(t.target)*t.value}e.slice().reverse().forEach((function(e){e.forEach((function(e){if(e.sourceLinks.length){var r=Object(c.sum)(e.sourceLinks,n)/Object(c.sum)(e.sourceLinks,f);e.y+=(r-i(e))*t}}))}))}function p(){e.forEach((function(t){var e,o,s,a=0,i=t.length;for(t.sort(y),s=0;s<i;++s)(o=a-(e=t[s]).y)>0&&(e.y+=o),a=e.y+e.dy+n;if((o=a-n-r[1])>0)for(a=e.y-=o,s=i-2;s>=0;--s)(o=(e=t[s]).y+e.dy+n-a)>0&&(e.y-=o),a=e.y}))}function y(t,e){return t.y-e.y}}(l),a(),t},t.relayout=function(){return a(),t},t.link=function(){var t=.5;function e(e){var n=e.source.x+e.source.dx,r=e.target.x,o=Object(l.c)(n,r),s=o(t),a=o(1-t),i=e.source.y+e.sy+e.dy/2,c=e.target.y+e.ty+e.dy/2;return"M"+n+","+i+"C"+s+","+i+" "+a+","+c+" "+r+","+c}return e.curvature=function(n){return arguments.length?(t=+n,e):t},e},t},d=n(261),h=n(678),p=n(121);n(3326);function y(){return(y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}const g={data:i.a.arrayOf(i.a.shape({source:i.a.string,target:i.a.string,value:i.a.number})),width:i.a.number,height:i.a.number,colorScheme:i.a.string},v=Object(h.c)(p.a.FLOAT);function m(t,e){const{data:n,width:r,height:o,colorScheme:a}=e,i=s.a.select(t);i.classed("superset-legacy-chart-sankey",!0);const c=5,u=5,l=5,h=5,p=r-h-u,g=o-c-l;i.selectAll("*").remove();const m=i.append("svg").attr("width",p+h+u).attr("height",g+c+l).append("g").attr("transform","translate("+h+","+c+")"),b=i.append("div").attr("class","sankey-tooltip").style("opacity",0),k=d.b.getScale(a),O=f().nodeWidth(15).nodePadding(10).size([p,g]),j=O.link();let x={};const C=n.map(t=>{const e=y({},t);return e.source=x[e.source]||(x[e.source]={name:e.source}),e.target=x[e.target]||(x[e.target]={name:e.target}),e.value=Number(e.value),e});function E(t){b.html(()=>function(t){let e;if(t.sourceLinks)e=t.name+" Value: <span class='emph'>"+v(t.value)+"</span>";else{const n=v(t.value),r=s.a.round(t.value/t.source.value*100,1),o=s.a.round(t.value/t.target.value*100,1);e=["<div class=''>Path Value: <span class='emph'>",n,"</span></div>","<div class='percents'>","<span class='emph'>",Number.isFinite(r)?r:"100","%</span> of ",t.source.name,"<br/>","<span class='emph'>"+(Number.isFinite(o)?o:"--")+"%</span> of ",t.target.name,"</div>"].join("")}return e}(t)).transition().duration(200).style("left",s.a.event.offsetX+10+"px").style("top",s.a.event.offsetY+10+"px").style("opacity",.95)}function L(){b.transition().duration(100).style("opacity",0)}x=s.a.values(x),O.nodes(x).links(C).layout(32);const w=m.append("g").selectAll(".link").data(C).enter().append("path").attr("class","link").attr("d",j).style("stroke-width",t=>Math.max(1,t.dy)).sort((t,e)=>e.dy-t.dy).on("mouseover",E).on("mouseout",L);const N=m.append("g").selectAll(".node").data(x).enter().append("g").attr("class","node").attr("transform",t=>"translate("+t.x+","+t.y+")").call(s.a.behavior.drag().origin(t=>t).on("dragstart",(function(){this.parentNode.append(this)})).on("drag",(function(t){s.a.select(this).attr("transform","translate("+t.x+","+(t.y=Math.max(0,Math.min(o-t.dy,s.a.event.y)))+")"),O.relayout(),w.attr("d",j)})));N.append("rect").attr("height",t=>t.dy>5?t.dy:5).attr("width",O.nodeWidth()).style("fill",t=>{const e=t.name||"N/A";return t.color=k(e.replace(/ .*/,"")),t.color}).style("stroke",t=>s.a.rgb(t.color).darker(2)).on("mouseover",E).on("mouseout",L),N.append("text").attr("x",-6).attr("y",t=>t.dy/2).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(t=>t.name).filter(t=>t.x<p/2).attr("x",6+O.nodeWidth()).attr("text-anchor","start")}m.displayName="Sankey",m.propTypes=g;var b=m;e.default=Object(r.a)(b)},768:function(t,e,n){"use strict";function r(t){return String(t).trim()}n.d(e,"a",(function(){return r}))},952:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(352),o=n(768);function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class i extends r.a{constructor(t,e){super(t=>this.getColor(t)),a(this,"colors",void 0),a(this,"parentForcedColors",void 0),a(this,"forcedColors",void 0),a(this,"seen",void 0),this.colors=t,this.parentForcedColors=e,this.forcedColors={},this.seen={}}getColor(t){const e=Object(o.a)(t),n=this.parentForcedColors&&this.parentForcedColors[e];if(n)return n;const r=this.forcedColors[e];if(r)return r;const s=this.seen[e],{length:a}=this.colors;if(void 0!==s)return this.colors[s%a];const i=Object.keys(this.seen).length;return this.seen[e]=i,this.colors[i%a]}setColor(t,e){return this.forcedColors[Object(o.a)(t)]=e,this}getColorMap(){const t={},{length:e}=this.colors;return Object.keys(this.seen).forEach(n=>{t[n]=this.colors[this.seen[n]%e]}),s({},t,{},this.forcedColors,{},this.parentForcedColors)}}}}]);