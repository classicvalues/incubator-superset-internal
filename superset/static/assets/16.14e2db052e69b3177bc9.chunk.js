(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1014:function(e,t,n){"use strict";var a=n(1),o=n(2745);if(void 0===a)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var r=(new a.Component).updater;e.exports=o(a.Component,a.isValidElement,r)},1066:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));n(276);var a=n(9),o=n.n(a),r=n(16),i=n.n(r),s=n(144),l=n.n(s),c=n(10),u=n.n(c),d=n(49),h=n.n(d),p=n(1),f=n.n(p),b=n(25),m=n.n(b),g=n(0),v=n.n(g),y=n(305),O=n.n(y),C=n(94),x=n(3),j=n(34),w=n(134),S=n(124),E=n(681),_=n(169),T=(n(1669),n(2));const k={onClick:v.a.func,tooltipContent:v.a.string.isRequired};class M extends f.a.PureComponent{render(){return Object(T.e)(_.a,{tooltip:this.props.tooltipContent,label:"cache-desc"},Object(T.e)("i",{role:"button",tabIndex:0,className:"RefreshLabel fa fa-refresh pointer",onClick:this.props.onClick}))}}M.propTypes=k;var A=M;n(1670);function R(){const e=h()(["\n  color: ",";\n  font-size: ","px;\n  margin: 20px 0 10px 0;\n  text-transform: uppercase;\n"]);return R=function(){return e},e}const D=m.a.p(R(),({theme:e})=>e.colors.secondary.light2,({theme:e})=>e.typography.sizes.s),N={dbId:v.a.number.isRequired,schema:v.a.string,onSchemaChange:v.a.func,onDbChange:v.a.func,onSchemasLoad:v.a.func,onTablesLoad:v.a.func,getDbList:v.a.func,onTableChange:v.a.func,tableNameSticky:v.a.bool,tableName:v.a.string,database:v.a.object,sqlLabMode:v.a.bool,formMode:v.a.bool,onChange:v.a.func,clearable:v.a.bool,handleError:v.a.func.isRequired};class P extends f.a.PureComponent{constructor(e){var t,n,a,o,r,i;super(e),this.state={schemaLoading:!1,schemaOptions:[],tableLoading:!1,tableOptions:[],dbId:e.dbId,schema:e.schema,tableName:e.tableName},this.onDatabaseChange=u()(t=this.onDatabaseChange).call(t,this),this.onSchemaChange=u()(n=this.onSchemaChange).call(n,this),this.changeTable=u()(a=this.changeTable).call(a,this),this.dbMutator=u()(o=this.dbMutator).call(o,this),this.getTableNamesBySubStr=u()(r=this.getTableNamesBySubStr).call(r,this),this.onChange=u()(i=this.onChange).call(i,this)}componentDidMount(){this.state.dbId&&(this.fetchSchemas(this.state.dbId),this.fetchTables())}onChange(){this.props.onChange({dbId:this.state.dbId,schema:this.state.schema,tableName:this.state.tableName})}onDatabaseChange(e,t){return this.changeDataBase(e,t)}onSchemaChange(e){return this.changeSchema(e)}getTableNamesBySubStr(e="undefined"){if(!this.props.dbId||!e){const e=[];return l.a.resolve({options:e})}const t=encodeURIComponent(this.props.schema),n=encodeURIComponent(e);return j.SupersetClient.get({endpoint:encodeURI("/superset/tables/"+this.props.dbId+"/"+t+"/"+n)}).then(({json:e})=>{var t;return{options:i()(t=e.options).call(t,e=>({value:e.value,schema:e.schema,label:e.label,title:e.title,type:e.type}))}})}dbMutator(e){var t;return this.props.getDbList(e.result),0===e.result.length&&this.props.handleError(Object(x.t)("It seems you don't have access to any database")),i()(t=e.result).call(t,e=>o()({},e,{label:e.backend+" "+e.database_name}))}fetchTables(e=!1,t="undefined"){const{dbId:n,schema:a}=this.state,o=encodeURIComponent(a),r=encodeURIComponent(t);if(n&&a){this.setState(()=>({tableLoading:!0,tableOptions:[]}));const t=encodeURI("/superset/tables/"+n+"/"+o+"/"+r+"/"+!!e+"/");return j.SupersetClient.get({endpoint:t}).then(({json:e})=>{var t;const n=i()(t=e.options).call(t,e=>({value:e.value,schema:e.schema,label:e.label,title:e.title,type:e.type}));this.setState(()=>({tableLoading:!1,tableOptions:n})),this.props.onTablesLoad(e.options)}).catch(()=>{this.setState(()=>({tableLoading:!1,tableOptions:[]})),this.props.handleError(Object(x.t)("Error while fetching table list"))})}return this.setState(()=>({tableLoading:!1,tableOptions:[]})),l.a.resolve()}fetchSchemas(e,t=!1){const n=e||this.props.dbId;if(n){this.setState({schemaLoading:!0});const e="/api/v1/database/"+n+"/schemas/?q="+O.a.encode({force:Boolean(t)});return j.SupersetClient.get({endpoint:e}).then(({json:e})=>{var t;const n=i()(t=e.result).call(t,e=>({value:e,label:e,title:e}));this.setState({schemaOptions:n,schemaLoading:!1}),this.props.onSchemasLoad(n)}).catch(()=>{this.setState({schemaLoading:!1,schemaOptions:[]}),this.props.handleError(Object(x.t)("Error while fetching schema list"))})}return l.a.resolve()}changeDataBase(e,t=!1){const n=e?e.id:null;this.setState({schemaOptions:[]}),this.props.onSchemaChange(null),this.props.onDbChange(e),this.fetchSchemas(n,t),this.setState({dbId:n,schema:null,tableName:null,tableOptions:[]},this.onChange)}changeSchema(e,t=!1){const n=e?e.value:null;this.props.onSchemaChange(n),this.setState({schema:n},()=>{this.fetchTables(t),this.onChange()})}changeTable(e){if(!e)return void this.setState({tableName:""});const t=e.schema,n=e.value;this.props.tableNameSticky&&this.setState({tableName:n},this.onChange),this.props.onTableChange(n,t)}renderDatabaseOption(e){return Object(T.e)("span",{title:e.database_name},Object(T.e)(w.a,{bsStyle:"default",className:"m-r-5"},e.backend),e.database_name)}renderTableOption(e){return Object(T.e)("span",{className:"TableLabel",title:e.label},Object(T.e)("span",{className:"m-r-5"},Object(T.e)("small",{className:"text-muted"},Object(T.e)("i",{className:"fa fa-"+("view"===e.type?"eye":"table")}))),e.label)}renderSelectRow(e,t){return Object(T.e)("div",{className:"section"},Object(T.e)("span",{className:"select"},e),Object(T.e)("span",{className:"refresh-col"},t))}renderDatabaseSelect(){const e=O.a.encode(o()({order_columns:"database_name",order_direction:"asc",page:0,page_size:-1},this.props.formMode?{}:{filters:[{col:"expose_in_sqllab",opr:"eq",value:!0}]}));return this.renderSelectRow(Object(T.e)(E.a,{dataEndpoint:"/api/v1/database/?q="+e,onChange:this.onDatabaseChange,onAsyncError:()=>this.props.handleError(Object(x.t)("Error while fetching database list")),clearable:!1,value:this.state.dbId,valueKey:"id",valueRenderer:e=>Object(T.e)("div",null,Object(T.e)("span",{className:"text-muted m-r-5"},Object(x.t)("Database:")),this.renderDatabaseOption(e)),optionRenderer:this.renderDatabaseOption,mutator:this.dbMutator,placeholder:Object(x.t)("Select a database"),autoSelect:!0}))}renderSchema(){const e=!this.props.formMode&&Object(T.e)(A,{onClick:()=>this.onDatabaseChange({id:this.props.dbId},!0),tooltipContent:Object(x.t)("Force refresh schema list")});return this.renderSelectRow(Object(T.e)(C.f,{name:"select-schema",placeholder:Object(x.t)("Select a schema (%s)",this.state.schemaOptions.length),options:this.state.schemaOptions,value:this.props.schema,valueRenderer:e=>Object(T.e)("div",null,Object(T.e)("span",{className:"text-muted"},Object(x.t)("Schema:"))," ",e.label),isLoading:this.state.schemaLoading,autosize:!1,onChange:this.onSchemaChange}),e)}renderTable(){let e,t=!1;this.props.database&&this.props.database.allow_multi_schema_metadata_fetch?e=Object(x.t)("Type to search ..."):(e=Object(x.t)("Select table "),t=!0);const n=this.state.tableOptions;let a=null;a=this.props.schema&&!this.props.formMode?Object(T.e)(C.f,{name:"select-table",isLoading:this.state.tableLoading,ignoreAccents:!1,placeholder:Object(x.t)("Select table or type table name"),autosize:!1,onChange:this.changeTable,options:n,value:this.state.tableName,optionRenderer:this.renderTableOption}):this.props.formMode?Object(T.e)(C.c,{name:"select-table",isLoading:this.state.tableLoading,ignoreAccents:!1,placeholder:Object(x.t)("Select table or type table name"),autosize:!1,onChange:this.changeTable,options:n,value:this.state.tableName,optionRenderer:this.renderTableOption}):Object(T.e)(C.b,{name:"async-select-table",placeholder:e,isDisabled:t,autosize:!1,onChange:this.changeTable,value:this.state.tableName,loadOptions:this.getTableNamesBySubStr,optionRenderer:this.renderTableOption});const o=!this.props.formMode&&Object(T.e)(A,{onClick:()=>this.changeSchema({value:this.props.schema},!0),tooltipContent:Object(x.t)("Force refresh table list")});return this.renderSelectRow(a,o)}renderSeeTableLabel(){return Object(T.e)("div",{className:"section"},Object(T.e)(S.a,null,Object(x.t)("See table schema")," ",this.props.schema&&Object(T.e)("small",null,"(",this.state.tableOptions.length," in ",Object(T.e)("i",null,this.props.schema),")")))}render(){return Object(T.e)("div",{className:"TableSelector"},this.props.formMode&&Object(T.e)(D,null,Object(x.t)("datasource")),this.renderDatabaseSelect(),this.props.formMode&&Object(T.e)(D,null,Object(x.t)("schema")),this.renderSchema(),!this.props.formMode&&Object(T.e)("div",{className:"divider"}),this.props.sqlLabMode&&this.renderSeeTableLabel(),this.props.formMode&&Object(T.e)(D,null,Object(x.t)("Table")),this.renderTable())}}P.propTypes=N,P.defaultProps={onDbChange:()=>{},onSchemaChange:()=>{},onSchemasLoad:()=>{},onTablesLoad:()=>{},getDbList:()=>{},onTableChange:()=>{},onChange:()=>{},tableNameSticky:!0,sqlLabMode:!0,formMode:!1,clearable:!0}},1089:function(e,t,n){"use strict";var a=n(16),o=n.n(a),r=(n(1),n(0)),i=n.n(r),s=n(3),l=n(681),c=n(98),u=n(143),d=n(2);const h={dataEndpoint:i.a.string.isRequired,multi:i.a.bool,mutator:i.a.func,onAsyncErrorMessage:i.a.string,onChange:i.a.func,placeholder:i.a.string,value:i.a.oneOfType([i.a.string,i.a.number,i.a.arrayOf(i.a.string),i.a.arrayOf(i.a.number)]),addDangerToast:i.a.func.isRequired},p={multi:!0,onAsyncErrorMessage:Object(s.t)("Error while fetching data"),onChange:()=>{},placeholder:Object(s.t)("Select ...")},f=e=>{const{value:t,onChange:n,dataEndpoint:a,multi:r,mutator:i,placeholder:s,onAsyncErrorMessage:u}=e;return Object(d.e)("div",null,Object(d.e)(c.a,e),Object(d.e)(l.a,{dataEndpoint:a,onChange:e=>{let t;t=r?o()(e).call(e,e=>e.value):e?e.value:null,n(t)},onAsyncError:e=>(void 0).props.addDangerToast(u+": "+e),mutator:i,multi:r,value:t,placeholder:s,valueRenderer:e=>Object(d.e)("div",null,e.label)}))};f.propTypes=h,f.defaultProps=p,t.a=Object(u.a)(f)},1090:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n(10),o=n.n(a),r=n(1),i=n.n(r),s=n(0),l=n.n(s),c=n(458),u=n(389),d=n(275),h=n(165),p=n(46),f=n(3),b=n(134),m=n(98),g=n(221),v=n(329),y=n(747),O=n(2);const C="latlong",x="delimited",j="geohash",w={onChange:l.a.func,value:l.a.object,animation:l.a.bool,choices:l.a.array};class S extends i.a.Component{constructor(e){var t,n,a;super(e);const r=e.value||{};let i;e.choices.length>0&&(i=e.choices[0][0]),this.state={type:r.type||C,delimiter:r.delimiter||",",latCol:r.latCol||i,lonCol:r.lonCol||i,lonlatCol:r.lonlatCol||i,reverseCheckbox:r.reverseCheckbox||!1,geohashCol:r.geohashCol||i,value:null,errors:[]},this.toggleCheckbox=o()(t=this.toggleCheckbox).call(t,this),this.onChange=o()(n=this.onChange).call(n,this),this.renderReverseCheckbox=o()(a=this.renderReverseCheckbox).call(a,this)}componentDidMount(){this.onChange()}onChange(){const e=this.state.type,t={type:e},n=[],a=Object(f.t)("Invalid lat/long configuration.");e===C?(t.latCol=this.state.latCol,t.lonCol=this.state.lonCol,t.lonCol&&t.latCol||n.push(a)):e===x?(t.lonlatCol=this.state.lonlatCol,t.delimiter=this.state.delimiter,t.reverseCheckbox=this.state.reverseCheckbox,t.lonlatCol&&t.delimiter||n.push(a)):e===j&&(t.geohashCol=this.state.geohashCol,t.reverseCheckbox=this.state.reverseCheckbox,t.geohashCol||n.push(a)),this.setState({value:t,errors:n}),this.props.onChange(t,n)}setType(e){this.setState({type:e},this.onChange)}close(){this.refs.trigger.hide()}toggleCheckbox(){this.setState({reverseCheckbox:!this.state.reverseCheckbox},this.onChange)}renderLabelContent(){return this.state.errors.length>0?"N/A":this.state.type===C?this.state.lonCol+" | "+this.state.latCol:this.state.type===x?""+this.state.lonlatCol:this.state.type===j?""+this.state.geohashCol:null}renderSelect(e,t){return Object(O.e)(g.a,{name:e,choices:this.props.choices,value:this.state[e],clearable:!1,onFocus:()=>{this.setType(t)},onChange:t=>{this.setState({[e]:t},this.onChange)}})}renderReverseCheckbox(){return Object(O.e)("span",null,Object(f.t)("Reverse lat/long "),Object(O.e)(y.a,{checked:this.state.reverseCheckbox,onChange:this.toggleCheckbox}))}renderPopover(){var e,t,n,a;return Object(O.e)(c.a,{id:"filter-popover"},Object(O.e)("div",{style:{width:"300px"}},Object(O.e)(v.a,{title:Object(f.t)("Longitude & Latitude columns"),isSelected:this.state.type===C,onSelect:o()(e=this.setType).call(e,this,C)},Object(O.e)(u.a,null,Object(O.e)(d.a,{md:6},"Longitude",this.renderSelect("lonCol",C)),Object(O.e)(d.a,{md:6},"Latitude",this.renderSelect("latCol",C)))),Object(O.e)(v.a,{title:Object(f.t)("Delimited long & lat single column"),info:Object(f.t)("Multiple formats accepted, look the geopy.points Python library for more details"),isSelected:this.state.type===x,onSelect:o()(t=this.setType).call(t,this,x)},Object(O.e)(u.a,null,Object(O.e)(d.a,{md:6},Object(f.t)("Column"),this.renderSelect("lonlatCol",x)),Object(O.e)(d.a,{md:6},this.renderReverseCheckbox()))),Object(O.e)(v.a,{title:Object(f.t)("Geohash"),isSelected:this.state.type===j,onSelect:o()(n=this.setType).call(n,this,j)},Object(O.e)(u.a,null,Object(O.e)(d.a,{md:6},"Column",this.renderSelect("geohashCol",j)),Object(O.e)(d.a,{md:6},this.renderReverseCheckbox()))),Object(O.e)("div",{className:"clearfix"},Object(O.e)(p.a,{buttonSize:"small",className:"float-left ok",buttonStyle:"primary",onClick:o()(a=this.close).call(a,this)},"Ok"))))}render(){return Object(O.e)("div",null,Object(O.e)(m.a,this.props),Object(O.e)(h.a,{animation:this.props.animation,container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},Object(O.e)(b.a,{className:"pointer"},this.renderLabelContent())))}}S.propTypes=w,S.defaultProps={onChange:()=>{},animation:!0,choices:[]}},1096:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PasswordPrompt=t.TextPrompt=t.DialogPrompt=void 0;var a=s(n(264)),o=s(n(248)),r=s(n(261)),i=s(n(212));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.DialogPrompt=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,e);var n=t.initialValue,a=t.placeholder;this.initialValue=n,this.placeholder=a};t.TextPrompt=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,r.default)(t,e),t}(l),t.PasswordPrompt=function(e){function t(){return(0,i.default)(this,t),(0,o.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,r.default)(t,e),t}(l)},1097:function(e,t,n){(function(e,n){var a="[object Arguments]",o="[object Map]",r="[object Object]",i="[object Set]",s=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[a]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[o]=c["[object Number]"]=c[r]=c["[object RegExp]"]=c[i]=c["[object String]"]=c["[object WeakMap]"]=!1;var u="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,h=u||d||Function("return this")(),p=t&&!t.nodeType&&t,f=p&&"object"==typeof n&&n&&!n.nodeType&&n,b=f&&f.exports===p,m=b&&u.process,g=function(){try{return m&&m.binding&&m.binding("util")}catch(e){}}(),v=g&&g.isTypedArray;function y(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}function O(e){var t=-1,n=Array(e.size);return e.forEach((function(e,a){n[++t]=[a,e]})),n}function C(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var x,j,w,S=Array.prototype,E=Function.prototype,_=Object.prototype,T=h["__core-js_shared__"],k=E.toString,M=_.hasOwnProperty,A=(x=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",R=_.toString,D=RegExp("^"+k.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=b?h.Buffer:void 0,P=h.Symbol,F=h.Uint8Array,L=_.propertyIsEnumerable,I=S.splice,B=P?P.toStringTag:void 0,H=Object.getOwnPropertySymbols,q=N?N.isBuffer:void 0,V=(j=Object.keys,w=Object,function(e){return j(w(e))}),U=ge(h,"DataView"),z=ge(h,"Map"),G=ge(h,"Promise"),W=ge(h,"Set"),K=ge(h,"WeakMap"),Y=ge(Object,"create"),Q=Ce(U),X=Ce(z),$=Ce(G),Z=Ce(W),J=Ce(K),ee=P?P.prototype:void 0,te=ee?ee.valueOf:void 0;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new oe;++t<n;)this.add(e[t])}function ie(e){var t=this.__data__=new ae(e);this.size=t.size}function se(e,t){var n=we(e),a=!n&&je(e),o=!n&&!a&&Se(e),r=!n&&!a&&!o&&Me(e),i=n||a||o||r,s=i?function(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}(e.length,String):[],l=s.length;for(var c in e)!t&&!M.call(e,c)||i&&("length"==c||o&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Oe(c,l))||s.push(c);return s}function le(e,t){for(var n=e.length;n--;)if(xe(e[n][0],t))return n;return-1}function ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":B&&B in Object(e)?function(e){var t=M.call(e,B),n=e[B];try{e[B]=void 0;var a=!0}catch(e){}var o=R.call(e);a&&(t?e[B]=n:delete e[B]);return o}(e):function(e){return R.call(e)}(e)}function ue(e){return ke(e)&&ce(e)==a}function de(e,t,n,s,l){return e===t||(null==e||null==t||!ke(e)&&!ke(t)?e!=e&&t!=t:function(e,t,n,s,l,c){var u=we(e),d=we(t),h=u?"[object Array]":ye(e),p=d?"[object Array]":ye(t),f=(h=h==a?r:h)==r,b=(p=p==a?r:p)==r,m=h==p;if(m&&Se(e)){if(!Se(t))return!1;u=!0,f=!1}if(m&&!f)return c||(c=new ie),u||Me(e)?fe(e,t,n,s,l,c):function(e,t,n,a,r,s,l){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new F(e),new F(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return xe(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case o:var c=O;case i:var u=1&a;if(c||(c=C),e.size!=t.size&&!u)return!1;var d=l.get(e);if(d)return d==t;a|=2,l.set(e,t);var h=fe(c(e),c(t),a,r,s,l);return l.delete(e),h;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,h,n,s,l,c);if(!(1&n)){var g=f&&M.call(e,"__wrapped__"),v=b&&M.call(t,"__wrapped__");if(g||v){var y=g?e.value():e,x=v?t.value():t;return c||(c=new ie),l(y,x,n,s,c)}}if(!m)return!1;return c||(c=new ie),function(e,t,n,a,o,r){var i=1&n,s=be(e),l=s.length,c=be(t).length;if(l!=c&&!i)return!1;var u=l;for(;u--;){var d=s[u];if(!(i?d in t:M.call(t,d)))return!1}var h=r.get(e);if(h&&r.get(t))return h==t;var p=!0;r.set(e,t),r.set(t,e);var f=i;for(;++u<l;){d=s[u];var b=e[d],m=t[d];if(a)var g=i?a(m,b,d,t,e,r):a(b,m,d,e,t,r);if(!(void 0===g?b===m||o(b,m,n,a,r):g)){p=!1;break}f||(f="constructor"==d)}if(p&&!f){var v=e.constructor,y=t.constructor;v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(p=!1)}return r.delete(e),r.delete(t),p}(e,t,n,s,l,c)}(e,t,n,s,de,l))}function he(e){return!(!Te(e)||function(e){return!!A&&A in e}(e))&&(Ee(e)?D:s).test(Ce(e))}function pe(e){if(n=(t=e)&&t.constructor,a="function"==typeof n&&n.prototype||_,t!==a)return V(e);var t,n,a,o=[];for(var r in Object(e))M.call(e,r)&&"constructor"!=r&&o.push(r);return o}function fe(e,t,n,a,o,r){var i=1&n,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=r.get(e);if(c&&r.get(t))return c==t;var u=-1,d=!0,h=2&n?new re:void 0;for(r.set(e,t),r.set(t,e);++u<s;){var p=e[u],f=t[u];if(a)var b=i?a(f,p,u,t,e,r):a(p,f,u,e,t,r);if(void 0!==b){if(b)continue;d=!1;break}if(h){if(!y(t,(function(e,t){if(i=t,!h.has(i)&&(p===e||o(p,e,n,a,r)))return h.push(t);var i}))){d=!1;break}}else if(p!==f&&!o(p,f,n,a,r)){d=!1;break}}return r.delete(e),r.delete(t),d}function be(e){return function(e,t,n){var a=t(e);return we(e)?a:function(e,t){for(var n=-1,a=t.length,o=e.length;++n<a;)e[o+n]=t[n];return e}(a,n(e))}(e,Ae,ve)}function me(e,t){var n,a,o=e.__data__;return("string"==(a=typeof(n=t))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ge(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return he(n)?n:void 0}ne.prototype.clear=function(){this.__data__=Y?Y(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(Y){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return M.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return Y?void 0!==t[e]:M.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Y&&void 0===t?"__lodash_hash_undefined__":t,this},ae.prototype.clear=function(){this.__data__=[],this.size=0},ae.prototype.delete=function(e){var t=this.__data__,n=le(t,e);return!(n<0)&&(n==t.length-1?t.pop():I.call(t,n,1),--this.size,!0)},ae.prototype.get=function(e){var t=this.__data__,n=le(t,e);return n<0?void 0:t[n][1]},ae.prototype.has=function(e){return le(this.__data__,e)>-1},ae.prototype.set=function(e,t){var n=this.__data__,a=le(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this},oe.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(z||ae),string:new ne}},oe.prototype.delete=function(e){var t=me(this,e).delete(e);return this.size-=t?1:0,t},oe.prototype.get=function(e){return me(this,e).get(e)},oe.prototype.has=function(e){return me(this,e).has(e)},oe.prototype.set=function(e,t){var n=me(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this},re.prototype.add=re.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},re.prototype.has=function(e){return this.__data__.has(e)},ie.prototype.clear=function(){this.__data__=new ae,this.size=0},ie.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ie.prototype.get=function(e){return this.__data__.get(e)},ie.prototype.has=function(e){return this.__data__.has(e)},ie.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ae){var a=n.__data__;if(!z||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new oe(a)}return n.set(e,t),this.size=n.size,this};var ve=H?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,a=null==e?0:e.length,o=0,r=[];++n<a;){var i=e[n];t(i,n,e)&&(r[o++]=i)}return r}(H(e),(function(t){return L.call(e,t)})))}:function(){return[]},ye=ce;function Oe(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||l.test(e))&&e>-1&&e%1==0&&e<t}function Ce(e){if(null!=e){try{return k.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function xe(e,t){return e===t||e!=e&&t!=t}(U&&"[object DataView]"!=ye(new U(new ArrayBuffer(1)))||z&&ye(new z)!=o||G&&"[object Promise]"!=ye(G.resolve())||W&&ye(new W)!=i||K&&"[object WeakMap]"!=ye(new K))&&(ye=function(e){var t=ce(e),n=t==r?e.constructor:void 0,a=n?Ce(n):"";if(a)switch(a){case Q:return"[object DataView]";case X:return o;case $:return"[object Promise]";case Z:return i;case J:return"[object WeakMap]"}return t});var je=ue(function(){return arguments}())?ue:function(e){return ke(e)&&M.call(e,"callee")&&!L.call(e,"callee")},we=Array.isArray;var Se=q||function(){return!1};function Ee(e){if(!Te(e))return!1;var t=ce(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function _e(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Te(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ke(e){return null!=e&&"object"==typeof e}var Me=v?function(e){return function(t){return e(t)}}(v):function(e){return ke(e)&&_e(e.length)&&!!c[ce(e)]};function Ae(e){return null!=(t=e)&&_e(t.length)&&!Ee(t)?se(e):pe(e);var t}n.exports=function(e,t){return de(e,t)}}).call(this,n(100),n(243)(e))},1098:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"],t.editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"]},117:function(e,t,n){"use strict";var a;function o(e){window.featureFlags=e||{}}function r(e){return window&&window.featureFlags&&!!window.featureFlags[e]}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),function(e){e.OMNIBAR="OMNIBAR",e.CLIENT_CACHE="CLIENT_CACHE",e.SCHEDULED_QUERIES="SCHEDULED_QUERIES",e.SQL_VALIDATORS_BY_ENGINE="SQL_VALIDATORS_BY_ENGINE",e.ESTIMATE_QUERY_COST="ESTIMATE_QUERY_COST",e.SHARE_QUERIES_VIA_KV_STORE="SHARE_QUERIES_VIA_KV_STORE",e.SQLLAB_BACKEND_PERSISTENCE="SQLLAB_BACKEND_PERSISTENCE",e.THUMBNAILS="THUMBNAILS"}(a||(a={}))},121:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var a=c(n(2673)),o=c(n(2674)),r=c(n(2689)),i=c(n(2690)),s=c(n(2691)),l=c(n(2692));function c(e){return e&&e.__esModule?e:{default:e}}t.hover=i.default,t.handleHover=i.default,t.handleActive=s.default,t.loop=l.default;var u=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s=(0,a.default)(n),l=(0,o.default)(e,s);return(0,r.default)(l)};t.default=u},1357:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return m}));var a=n(57),o=n.n(a),r=n(397),i=n.n(r),s=n(30),l=n.n(s),c=n(135),u=n.n(c),d=n(102),h=n.n(d),p=n(390);let f={};function b(){return f}function m(e={}){var t;let n=1;f=h()(t=u()(e)).call(t,(e,t)=>{var a,r;const{chartId:s,columns:c}=t;return l()(a=i()(r=o()(c)).call(r)).call(a,t=>{const a=Object(p.b)({chartId:s,column:t}),o="badge-"+n%20;e[a]=o,n+=1}),e},{})}},1384:function(e,t,n){var a=n(72),o=n(180);e.exports=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),a(e,t,{leading:r,maxWait:t,trailing:i})}},1385:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(16),o=n.n(a),r=n(10),i=n.n(r),s=n(386),l=n.n(s),c=n(1),u=n.n(c),d=n(0),h=n.n(d),p=n(94),f=n(98),b=n(169),m=(n(2506),n(2));const g={description:h.a.string,label:h.a.string.isRequired,name:h.a.string.isRequired,onChange:h.a.func,value:h.a.string,clearable:h.a.bool,default:h.a.string,choices:h.a.oneOfType([h.a.arrayOf(h.a.array),h.a.func]).isRequired,schemes:h.a.oneOfType([h.a.object,h.a.func]).isRequired,isLinear:h.a.bool},v={choices:[],schemes:{},clearable:!1,onChange:()=>{}};class y extends u.a.PureComponent{constructor(e){var t,n;super(e),this.state={scheme:this.props.value},this.onChange=i()(t=this.onChange).call(t,this),this.renderOption=i()(n=this.renderOption).call(n,this)}onChange(e){const t=e?e.value:null;this.props.onChange(t),this.setState({scheme:t})}renderOption(e){const{isLinear:t,schemes:n}=this.props,a=(l()(n)?n():n)[e.value||v.value];let r=[];return a&&(r=t?a.getColors(10):a.colors),Object(m.e)(b.a,{label:a.id+"-tooltip",tooltip:a.label},Object(m.e)("ul",{className:"color-scheme-container"},o()(r).call(r,(e,t)=>Object(m.e)("li",{key:a.id+"-"+t,style:{backgroundColor:e,border:"1px solid "+("white"===e?"black":e)}}," "))))}render(){var e;const{choices:t}=this.props,n=o()(e=l()(t)?t():t).call(e,e=>({value:e[0],label:e[1]})),a={multi:!1,name:"select-"+this.props.name,placeholder:"Select ("+n.length+")",default:this.props.default,options:n,value:this.props.value,autosize:!1,clearable:this.props.clearable,onChange:this.onChange,optionRenderer:this.renderOption,valueRenderer:this.renderOption};return Object(m.e)("div",null,Object(m.e)(f.a,this.props),Object(m.e)(p.c,a))}}y.propTypes=g,y.defaultProps=v},1402:function(e,t,n){n(1403),e.exports=n(231).Object.getPrototypeOf},1403:function(e,t,n){var a=n(914),o=n(2461);n(910)("getPrototypeOf",(function(){return function(e){return o(a(e))}}))},1639:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var a=n(2672);Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return v(a).default}});var o=n(2707);Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return v(o).default}});var r=n(2709);Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return v(r).default}});var i=n(2711);Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return v(i).default}});var s=n(2715);Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return v(s).default}});var l=n(2718);Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return v(l).default}});var c=n(2720);Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return v(c).default}});var u=n(2722);Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return v(u).default}});var d=n(2723);Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return v(d).default}});var h=n(2729);Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return v(h).default}});var p=n(2732);Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return v(p).default}});var f=n(2736);Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return v(f).default}});var b=n(2739);Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return v(b).default}});var m=n(2493);Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return v(m).default}});var g=v(i);function v(e){return e&&e.__esModule?e:{default:e}}t.default=g.default},1642:function(e,t,n){},1649:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var a=n(76),o=n.n(a),r=n(59),i=n.n(r),s=n(1386),l=n.n(s),c=n(16),u=n.n(c),d=n(79),h=n.n(d),p=n(39),f=n.n(p),b=n(10),m=n.n(b),g=n(129),v=n.n(g),y=n(1),O=n.n(y),C=n(0),x=n.n(C),j=n(389),w=n(275),S=n(165),E=n(251),_=n(442),T=n(131),k=n(376),M=n(3),A=n(19),R=n(98),D=(n(2498),n(2));const N={description:x.a.string,label:x.a.string,name:x.a.string.isRequired,onChange:x.a.func,value:x.a.string.isRequired},P=Object(A.getChartMetadataRegistry)(),F={cursor:"pointer"},L=["line","big_number","table","filter_box","dist_bar","area","bar","deck_polygon","pie","time_table","pivot_table","histogram","big_number_total","deck_scatter","deck_hex","time_pivot","deck_arc","heatmap","deck_grid","dual_line","deck_screengrid","line_multi","treemap","box_plot","sunburst","sankey","word_cloud","mapbox","kepler","cal_heatmap","rose","bubble","deck_geojson","horizon","deck_multi","compare","partition","event_flow","deck_path","directed_force","world_map","paired_ttest","para","country_map"],I=new v.a(L);class B extends O.a.PureComponent{constructor(e){var t,n,a,o;super(e),this.state={showModal:!1,filter:""},this.toggleModal=m()(t=this.toggleModal).call(t,this),this.changeSearch=m()(n=this.changeSearch).call(n,this),this.setSearchRef=m()(a=this.setSearchRef).call(a,this),this.focusSearch=m()(o=this.focusSearch).call(o,this)}onChange(e){this.props.onChange(e),this.setState({showModal:!1})}setSearchRef(e){this.searchRef=e}toggleModal(){this.setState({showModal:!this.state.showModal})}changeSearch(e){this.setState({filter:e.target.value})}focusSearch(){this.searchRef&&this.searchRef.focus()}renderItem(e){var t;const{value:n}=this.props,{key:a,value:o}=e,r=a===n;return Object(D.e)("div",{role:"button",tabIndex:0,className:"viztype-selector-container "+(r?"selected":""),onClick:m()(t=this.onChange).call(t,this,a)},Object(D.e)("img",{alt:o.name,width:"100%",className:"viztype-selector "+(r?"selected":""),src:o.thumbnail}),Object(D.e)("div",{className:"viztype-label"},o.name))}render(){var e,t,n,a;const{filter:r,showModal:s}=this.state,{value:c}=this.props,d=r.toLowerCase(),p=f()(e=h()(t=u()(n=f()(L).call(L,e=>P.has(e))).call(n,e=>({key:e,value:P.get(e)}))).call(t,f()(a=l()(P).call(P)).call(a,({key:e})=>!I.has(e)))).call(e,e=>{var t;return i()(t=e.value.name.toLowerCase()).call(t,d)}),b=[];for(let e=0;e<=p.length;e+=6){var m;b.push(Object(D.e)(j.a,{key:"row-"+e},u()(m=o()(p).call(p,e,e+6)).call(m,e=>Object(D.e)(w.a,{md:2,key:"grid-col-"+e.key},this.renderItem(e)))))}return Object(D.e)("div",null,Object(D.e)(R.a,this.props),Object(D.e)(S.a,{placement:"right",overlay:Object(D.e)(E.a,{id:"error-tooltip"},Object(M.t)("Click to change visualization type"))},Object(D.e)(O.a.Fragment,null,Object(D.e)(_.a,{onClick:this.toggleModal,style:F},P.has(c)?P.get(c).name:""+c),!P.has(c)&&Object(D.e)("div",{className:"text-danger"},Object(D.e)("i",{className:"fa fa-exclamation-circle text-danger"})," ",Object(D.e)("small",null,Object(M.t)("This visualization type is not supported."))))),Object(D.e)(T.a,{show:s,onHide:this.toggleModal,onEnter:this.focusSearch,onExit:this.setSearchRef,bsSize:"large"},Object(D.e)(T.a.Header,{closeButton:!0},Object(D.e)(T.a.Title,null,Object(M.t)("Select a visualization type"))),Object(D.e)(T.a.Body,null,Object(D.e)("div",{className:"viztype-control-search-box"},Object(D.e)(k.a,{inputRef:this.setSearchRef,type:"text",value:r,placeholder:Object(M.t)("Search"),onChange:this.changeSearch})),b)))}}B.propTypes=N,B.defaultProps={onChange:()=>{}}},1650:function(e,t,n){"use strict";n(93);var a=n(16),o=n.n(a),r=n(9),i=n.n(r),s=n(213),l=n.n(s),c=n(1),u=n.n(c),d=n(967),h=n(131),p=n(46),f=n(302),b=n.n(f),m=n(3),g=n(34),v=n(114),y=n(79),O=n.n(y),C=n(30),x=n.n(C),j=n(59),w=n.n(j),S=n(102),E=n.n(S),_=n(10),T=n.n(_),k=n(39),M=n.n(k),A=n(49),R=n.n(A),D=n(0),N=n.n(D),P=n(833),F=n(974),L=n(835),I=n(836),B=n(275),H=n(123),q=n.n(H),V=n(25),U=n.n(V),z=n(134),G=n(304),W=n(1066),K=n(106),Y=n(169),Q=n(2);var X=function({certifiedBy:e,details:t}){return Object(Q.e)(Y.a,{label:"certified-details",tooltip:Object(Q.e)(u.a.Fragment,null,e&&Object(Q.e)("div",null,Object(m.t)("Certified by %s",e)),Object(Q.e)("div",null,t))},Object(Q.e)(K.a,{color:V.supersetTheme.colors.primary.base,name:"certified"}))},$=n(269),Z=n(120),J=n(221),ee=n(541),te=n(1089),ne=n(1090),ae=n(57),oe=n.n(ae),re=n(894),ie=n.n(re),se=n(969);function le(e,t,n){var a;return o()(a=u.a.Children).call(a,e,e=>{let a=e;return e&&e.type.name===t.name&&(a=u.a.cloneElement(e,n(e))),a&&a.props.children&&(a=u.a.cloneElement(a,{children:le(a.props.children,t,n)})),a})}n(292);var ce=n(391),ue=n(165),de=n(251),he=n(376),pe=n(970),fe=n(124);n(1642);const be={value:N.a.any.isRequired,label:N.a.string.isRequired,description:N.a.node,fieldKey:N.a.string.isRequired,control:N.a.node.isRequired,onChange:N.a.func,compact:N.a.bool};class me extends u.a.PureComponent{constructor(e){var t;super(e),this.onChange=T()(t=this.onChange).call(t,this)}onChange(e){this.props.onChange(this.props.fieldKey,e)}render(){const{compact:e,value:t,label:n,control:a,description:o,fieldKey:r}=this.props,i=u.a.cloneElement(a,{value:t,onChange:this.onChange});return Object(Q.e)(ce.a,{controlId:r},Object(Q.e)(fe.a,{className:"m-r-5"},n||r,e&&o&&Object(Q.e)(ue.a,{placement:"right",overlay:Object(Q.e)(de.a,{id:"field-descr",bsSize:"lg"},o)},Object(Q.e)("i",{className:"fa fa-info-circle m-l-5"}))),i,Object(Q.e)(he.a.Feedback,null),!e&&o&&Object(Q.e)(pe.a,null,o))}}me.propTypes=be,me.defaultProps={controlProps:{},onChange:()=>{},compact:!1,desc:null};const ge={children:N.a.node.isRequired,onChange:N.a.func.isRequired,item:N.a.object.isRequired,title:N.a.node,compact:N.a.bool};class ve extends u.a.PureComponent{constructor(e){var t;super(e),this.onChange=T()(t=this.onChange).call(t,this)}onChange(e,t){return this.props.onChange(i()({},this.props.item,{[e]:t}))}render(){const{title:e}=this.props;return Object(Q.e)(se.a,{componentClass:"fieldset",className:"CRUD"},e&&Object(Q.e)("legend",null,e),le(this.props.children,me,e=>({onChange:this.onChange,value:this.props.item[e.props.fieldKey],compact:this.props.compact})))}}function ye(e){const t=o()(e).call(e,e=>i()({},e,{id:e.id||q.a.generate()})),n={};return x()(t).call(t,e=>{n[e.id]=e}),n}ve.propTypes=ge,ve.defaultProps={compact:!1,title:null};class Oe extends u.a.PureComponent{constructor(e){var t,n,a,o,r,i,s;super(e),this.state={expandedColumns:{},collection:ye(e.collection)},this.renderItem=T()(t=this.renderItem).call(t,this),this.onAddItem=T()(n=this.onAddItem).call(n,this),this.renderExpandableSection=T()(a=this.renderExpandableSection).call(a,this),this.getLabel=T()(o=this.getLabel).call(o,this),this.onFieldsetChange=T()(r=this.onFieldsetChange).call(r,this),this.renderTableBody=T()(i=this.renderTableBody).call(i,this),this.changeCollection=T()(s=this.changeCollection).call(s,this)}UNSAFE_componentWillReceiveProps(e){e.collection!==this.props.collection&&this.setState({collection:ye(e.collection)})}onCellChange(e,t,n){this.changeCollection(i()({},this.state.collection,{[e]:i()({},this.state.collection[e],{[t]:n})}))}onAddItem(){if(this.props.itemGenerator){let e=this.props.itemGenerator();e.id||(e=i()({},e,{id:q.a.generate()})),this.changeCollection(i()({},this.state.collection,{[e.id]:e}))}}onFieldsetChange(e){this.changeCollection(i()({},this.state.collection,{[e.id]:e}))}getLabel(e){const{columnLabels:t}=this.props;let n=t&&t[e]?t[e]:e;return ie()(n).call(n,"__")&&(n=""),n}changeCollection(e){var t;(this.setState({collection:e}),this.props.onChange)&&this.props.onChange(o()(t=oe()(e)).call(t,t=>e[t]))}deleteItem(e){const t=i()({},this.state.collection);delete t[e],this.changeCollection(t)}effectiveTableColumns(){var e;const{tableColumns:t,allowDeletes:n,expandFieldset:a}=this.props,o=n?O()(t).call(t,["__actions"]):t;return a?O()(e=["__expand"]).call(e,o):o}toggleExpand(e){this.onCellChange(e,"__expanded",!1),this.setState({expandedColumns:i()({},this.state.expandedColumns,{[e]:!this.state.expandedColumns[e]})})}renderHeaderRow(){const e=this.effectiveTableColumns(),{allowAddItem:t,allowDeletes:n,expandFieldset:a,extraButtons:r}=this.props;return Object(Q.e)("thead",null,Object(Q.e)("tr",null,a&&Object(Q.e)("th",{className:"tiny-cell"}),o()(e).call(e,e=>Object(Q.e)("th",{key:e},this.getLabel(e))),r,n&&!t&&Object(Q.e)("th",{className:"tiny-cell"}),t&&Object(Q.e)("th",null,Object(Q.e)(p.a,{buttonStyle:"primary",onClick:this.onAddItem},Object(Q.e)("i",{className:"fa fa-plus"})," ",Object(m.t)("Add Item")))))}renderExpandableSection(e){return le(this.props.expandFieldset,ve,()=>({item:e,onChange:this.onFieldsetChange}))}renderCell(e,t){var n;const a=this.props.itemRenderers&&this.props.itemRenderers[t],o=e[t],r=T()(n=this.onCellChange).call(n,this,e.id,t);return a?a(o,r,this.getLabel(t),e):o}renderItem(e){const{allowAddItem:t,allowDeletes:n,expandFieldset:a,tableColumns:r}=this.props,i=!!this.state.expandedColumns[e.id]||e.__expanded;let s=[];var l,c;a&&s.push(Object(Q.e)("td",{key:"__expand",className:"expand"},Object(Q.e)("i",{role:"button",tabIndex:0,className:"fa fa-caret-"+(i?"down":"right")+" text-primary pointer",onClick:T()(l=this.toggleExpand).call(l,this,e.id)})));(s=O()(s).call(s,o()(r).call(r,t=>Object(Q.e)("td",{key:t},this.renderCell(e,t)))),t&&s.push(Object(Q.e)("td",null)),n)&&s.push(Object(Q.e)("td",{key:"__actions"},Object(Q.e)("i",{role:"button",tabIndex:0,className:"fa fa-trash text-primary pointer",onClick:T()(c=this.deleteItem).call(c,this,e.id)})));const u=[Object(Q.e)("tr",{className:"row",key:e.id},s)];return i&&u.push(Object(Q.e)("tr",{className:"exp",key:"exp__"+e.id},Object(Q.e)("td",{colSpan:this.effectiveTableColumns().length,className:"expanded"},Object(Q.e)("div",null,this.renderExpandableSection(e))))),u}renderEmptyCell(){return Object(Q.e)("tr",null,Object(Q.e)("td",{className:"empty-collection"},this.props.emptyMessage))}renderTableBody(){var e;const t=o()(e=oe()(this.state.collection)).call(e,e=>this.state.collection[e]),n=t.length?o()(t).call(t,e=>this.renderItem(e)):this.renderEmptyCell();return Object(Q.e)("tbody",null,n)}render(){return Object(Q.e)("div",{className:"CRUD"},Object(Q.e)("table",{className:"table"},this.renderHeaderRow(),this.renderTableBody()))}}var Ce=n(377),xe=n(143);function je(){const e=R()(["\n  align-items: center;\n  display: flex;\n\n  > svg {\n    margin-right: ","px;\n  }\n"]);return je=function(){return e},e}function we(){const e=R()(["\n  .tab-content {\n    height: 600px;\n    overflow: auto;\n  }\n\n  .change-warning {\n    margin: 16px 10px 0;\n    color: ",";\n  }\n\n  .change-warning .bold {\n    font-weight: ",";\n  }\n"]);return we=function(){return e},e}const Se=U.a.div(we(),({theme:e})=>e.colors.warning.base,({theme:e})=>e.typography.weights.bold),Ee=U.a.div(je(),({theme:e})=>e.gridUnit),_e=(e,t)=>Object(Q.e)($.a,{value:e,onChange:t}),Te=["STRING","NUMERIC","DATETIME"];function ke({title:e,collection:t}){return Object(Q.e)("div",null,e," ",Object(Q.e)(P.a,null,t?t.length:0))}function Me({columns:e,onChange:t,editableColumnName:n,showExpression:a,allowAddItem:o,allowEditDataType:r,itemGenerator:i}){return Object(Q.e)(Oe,{collection:e,tableColumns:["column_name","type","is_dttm","filterable","groupby"],allowDeletes:!0,allowAddItem:o,itemGenerator:i,expandFieldset:Object(Q.e)(Re,null,Object(Q.e)(ve,{compact:!0},a&&Object(Q.e)(me,{fieldKey:"expression",label:Object(m.t)("SQL Expression"),control:Object(Q.e)(ee.a,{language:"markdown",offerEditInModal:!1})}),Object(Q.e)(me,{fieldKey:"verbose_name",label:Object(m.t)("Label"),control:Object(Q.e)(Z.a,{placeholder:Object(m.t)("Label")})}),Object(Q.e)(me,{fieldKey:"description",label:Object(m.t)("Description"),control:Object(Q.e)(Z.a,{placeholder:Object(m.t)("Description")})}),r&&Object(Q.e)(me,{fieldKey:"type",label:Object(m.t)("Data Type"),control:Object(Q.e)(J.a,{choices:Te,name:"type",freeForm:!0})}),Object(Q.e)(me,{fieldKey:"python_date_format",label:Object(m.t)("Datetime Format"),description:Object(Q.e)("div",null,Object(m.t)("The pattern of timestamp format. For strings use "),Object(Q.e)("a",{href:"https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior"},Object(m.t)("python datetime string pattern")),Object(m.t)(" expression which needs to adhere to the "),Object(Q.e)("a",{href:"https://en.wikipedia.org/wiki/ISO_8601"},Object(m.t)("ISO 8601")),Object(m.t)(" standard to ensure that the lexicographical ordering\n                      coincides with the chronological ordering. If the\n                      timestamp format does not adhere to the ISO 8601 standard\n                      you will need to define an expression and type for\n                      transforming the string into a date or timestamp. Note\n                      currently time zones are not supported. If time is stored\n                      in epoch format, put `epoch_s` or `epoch_ms`. If no pattern\n                      is specified we fall back to using the optional defaults on a per\n                      database/column name level via the extra parameter.")),control:Object(Q.e)(Z.a,{placeholder:"%y/%m/%d"})}))),columnLabels:{column_name:Object(m.t)("Column"),type:Object(m.t)("Data Type"),groupby:Object(m.t)("Is Dimension"),is_dttm:Object(m.t)("Is Temporal"),filterable:Object(m.t)("Is Filterable")},onChange:t,itemRenderers:{column_name:(e,t)=>n?Object(Q.e)(Ce.a,{canEdit:!0,title:e,onSaveTitle:t}):e,type:e=>Object(Q.e)(z.a,null,e),is_dttm:_e,filterable:_e,groupby:_e}})}function Ae({label:e,formElement:t}){return Object(Q.e)("div",null,Object(Q.e)("div",null,Object(Q.e)("strong",null,e)),Object(Q.e)("div",null,t))}function Re({children:e}){return Object(Q.e)(F.a,{style:{marginTop:20}},e)}ke.propTypes={title:N.a.string,collection:N.a.array},Me.propTypes={columns:N.a.array.isRequired,onChange:N.a.func.isRequired,editableColumnName:N.a.bool,showExpression:N.a.bool,allowAddItem:N.a.bool,allowEditDataType:N.a.bool,itemGenerator:N.a.func},Me.defaultProps={editableColumnName:!1,showExpression:!1,allowAddItem:!1,allowEditDataType:!1,itemGenerator:()=>({column_name:"<new column>",filterable:!0,groupby:!0})},Ae.propTypes={label:N.a.string,formElement:N.a.node},Re.propTypes={children:N.a.node};const De={datasource:N.a.object.isRequired,onChange:N.a.func,addSuccessToast:N.a.func.isRequired,addDangerToast:N.a.func.isRequired};class Ne extends u.a.PureComponent{constructor(e){var t,n,a,o,r,i,s,l,c;super(e),this.state={datasource:e.datasource,errors:[],isDruid:"druid"===e.datasource.type||"druid"===e.datasource.datasource_type,isSqla:"table"===e.datasource.datasource_type||"table"===e.datasource.type,databaseColumns:M()(t=e.datasource.columns).call(t,e=>!e.expression),calculatedColumns:M()(n=e.datasource.columns).call(n,e=>!!e.expression),metadataLoading:!1,activeTabKey:1},this.onChange=T()(a=this.onChange).call(a,this),this.onDatasourcePropChange=T()(o=this.onDatasourcePropChange).call(o,this),this.onDatasourceChange=T()(r=this.onDatasourceChange).call(r,this),this.syncMetadata=T()(i=this.syncMetadata).call(i,this),this.setColumns=T()(s=this.setColumns).call(s,this),this.validateAndChange=T()(l=this.validateAndChange).call(l,this),this.handleTabSelect=T()(c=this.handleTabSelect).call(c,this)}onChange(){const e=i()({},this.state.datasource,{columns:[...this.state.databaseColumns,...this.state.calculatedColumns]});this.props.onChange(e,this.state.errors)}onDatasourceChange(e){this.setState({datasource:e},this.validateAndChange)}onDatasourcePropChange(e,t){const n=i()({},this.state.datasource,{[e]:t});this.setState({datasource:n},this.onDatasourceChange(n))}setColumns(e){this.setState(e,this.validateAndChange)}validateAndChange(){this.validate(this.onChange)}updateColumns(e){var t;const{databaseColumns:n}=this.state,a=o()(e).call(e,e=>e.name),r=E()(n).call(n,(e,t)=>i()({},e,{[t.column_name]:t}),{}),s=[],l={added:[],modified:[],removed:M()(t=o()(n).call(n,e=>e.column_name)).call(t,e=>!w()(a).call(a,e))};return x()(e).call(e,e=>{const t=r[e.name];t?t.type!==e.type?(s.push(i()({},t,{type:e.type})),l.modified.push(e.name)):s.push(t):(s.push({id:q.a.generate(),column_name:e.name,type:e.type,groupby:!0,filterable:!0}),l.added.push(e.name))}),(l.added.length||l.modified.length||l.removed.length)&&this.setColumns({databaseColumns:s}),l}syncMetadata(){const{datasource:e}=this.state,t="/datasource/external_metadata/"+(e.type||e.datasource_type)+"/"+e.id+"/?db_id="+e.database.id+"&schema="+(e.schema||"")+"&table_name="+(e.datasource_name||e.table_name);this.setState({metadataLoading:!0}),g.SupersetClient.get({endpoint:t}).then(({json:e})=>{const t=this.updateColumns(e);t.modified.length&&this.props.addSuccessToast(Object(m.t)("Modified columns: %s",t.modified.join(", "))),t.removed.length&&this.props.addSuccessToast(Object(m.t)("Removed columns: %s",t.removed.join(", "))),t.added.length&&this.props.addSuccessToast(Object(m.t)("New columns added: %s",t.added.join(", "))),this.props.addSuccessToast(Object(m.t)("Metadata has been synced")),this.setState({metadataLoading:!1})}).catch(e=>Object(v.a)(e).then(({error:e,statusText:t})=>{this.props.addDangerToast(e||t||Object(m.t)("An error has occurred")),this.setState({metadataLoading:!1})}))}findDuplicates(e,t){const n={},a=[];return x()(e).call(e,e=>{const o=t(e);o in n?a.push(o):n[o]=null}),a}validate(e){var t;let n,a=[];const r=this.state.datasource;n=this.findDuplicates(r.columns,e=>e.column_name),a=O()(a).call(a,o()(n).call(n,e=>Object(m.t)("Column name [%s] is duplicated",e))),n=this.findDuplicates(r.metrics,e=>e.metric_name),a=O()(a).call(a,o()(n).call(n,e=>Object(m.t)("Metric name [%s] is duplicated",e)));const i=M()(t=this.state.calculatedColumns).call(t,e=>!e.expression&&!e.json);a=O()(a).call(a,o()(i).call(i,e=>Object(m.t)("Calculated column [%s] requires an expression",e.column_name))),this.setState({errors:a},e)}handleTabSelect(e){this.setState({activeTabKey:e})}renderSettingsFieldset(){const e=this.state.datasource;return Object(Q.e)(ve,{title:Object(m.t)("Basic"),item:e,onChange:this.onDatasourceChange},this.state.isSqla&&Object(Q.e)(me,{fieldKey:"tableSelector",label:Object(m.t)("Physical Table"),control:Object(Q.e)(W.a,{dbId:e.database.id,schema:e.schema,tableName:e.datasource_name,onSchemaChange:e=>this.onDatasourcePropChange("schema",e),onDbChange:e=>this.onDatasourcePropChange("database",e),onTableChange:e=>this.onDatasourcePropChange("datasource_name",e),sqlLabMode:!1,clearable:!1,handleError:this.props.addDangerToast}),description:Object(m.t)("The pointer to a physical table. Keep in mind that the chart is associated to this Superset logical table, and this logical table points the physical table referenced here.")}),Object(Q.e)(me,{fieldKey:"description",label:Object(m.t)("Description"),control:Object(Q.e)(ee.a,{language:"markdown",offerEditInModal:!1})}),Object(Q.e)(me,{fieldKey:"default_endpoint",label:Object(m.t)("Default URL"),description:Object(m.t)("Default URL to redirect to when accessing from the dataset list page"),control:Object(Q.e)(Z.a,null)}),Object(Q.e)(me,{fieldKey:"filter_select_enabled",label:Object(m.t)("Autocomplete filters"),description:Object(m.t)("Whether to populate autocomplete filters options"),control:Object(Q.e)($.a,null)}),this.state.isSqla&&Object(Q.e)(me,{fieldKey:"fetch_values_predicate",label:Object(m.t)("Autocomplete Query Predicate"),description:Object(m.t)('When using "Autocomplete filters", this can be used to improve performance of the query fetching the values. Use this option to apply a predicate (WHERE clause) to the query selecting the distinct values from the table. Typically the intent would be to limit the scan by applying a relative time filter on a partitioned or indexed time-related field.'),control:Object(Q.e)(Z.a,null)}),Object(Q.e)(me,{fieldKey:"owners",label:Object(m.t)("Owners"),description:Object(m.t)("Owners of the datasource"),control:Object(Q.e)(te.a,{dataEndpoint:"/users/api/read",multi:!0,mutator:e=>{var t;return o()(t=e.pks).call(t,(t,n)=>({value:t,label:e.result[n].first_name+" "+e.result[n].last_name}))}}),controlProps:{}}))}renderAdvancedFieldset(){const e=this.state.datasource;return Object(Q.e)(ve,{title:Object(m.t)("Advanced"),item:e,onChange:this.onDatasourceChange},this.state.isSqla&&Object(Q.e)(me,{fieldKey:"sql",label:Object(m.t)("SQL"),description:Object(m.t)("When specifying SQL, the dataset acts as a view. Superset will use this statement as a subquery while grouping and filtering on the generated parent queries."),control:Object(Q.e)(ee.a,{language:"sql",offerEditInModal:!1})}),this.state.isDruid&&Object(Q.e)(me,{fieldKey:"json",label:Object(m.t)("JSON"),description:Object(Q.e)("div",null,Object(m.t)("The JSON metric or post aggregation definition.")),control:Object(Q.e)(ee.a,{language:"json",offerEditInModal:!1})}),Object(Q.e)(me,{fieldKey:"cache_timeout",label:Object(m.t)("Cache Timeout"),description:Object(m.t)("The duration of time in seconds before the cache is invalidated"),control:Object(Q.e)(Z.a,null)}),Object(Q.e)(me,{fieldKey:"offset",label:Object(m.t)("Hours offset"),control:Object(Q.e)(Z.a,null)}),this.state.isSqla&&Object(Q.e)(me,{fieldKey:"template_params",label:Object(m.t)("Template parameters"),description:Object(m.t)("A set of parameters that become available in the query using Jinja templating syntax"),control:Object(Q.e)(Z.a,null)}))}renderSpatialTab(){var e;const{datasource:t}=this.state,{spatials:n,all_cols:a}=t;return Object(Q.e)(L.a,{title:Object(Q.e)(ke,{collection:n,title:Object(m.t)("Spatial")}),eventKey:4},Object(Q.e)(Oe,{tableColumns:["name","config"],onChange:T()(e=this.onDatasourcePropChange).call(e,this,"spatials"),itemGenerator:()=>({name:"<new spatial>",type:"<no type>",config:null}),collection:n,allowDeletes:!0,itemRenderers:{name:(e,t)=>Object(Q.e)(Ce.a,{canEdit:!0,title:e,onSaveTitle:t}),config:(e,t)=>Object(Q.e)(ne.a,{value:e,onChange:t,choices:a})}}))}renderErrors(){var e;return this.state.errors.length>0?Object(Q.e)(d.a,{bsStyle:"danger"},o()(e=this.state.errors).call(e,e=>Object(Q.e)("div",{key:e},e))):null}renderMetricCollection(){var e;return Object(Q.e)(Oe,{tableColumns:["metric_name","verbose_name","expression"],columnLabels:{metric_name:Object(m.t)("Metric"),verbose_name:Object(m.t)("Label"),expression:Object(m.t)("SQL Expression")},expandFieldset:Object(Q.e)(Re,null,Object(Q.e)(ve,{compact:!0},Object(Q.e)(me,{fieldKey:"verbose_name",label:Object(m.t)("Label"),control:Object(Q.e)(Z.a,null)}),Object(Q.e)(me,{fieldKey:"description",label:Object(m.t)("Description"),control:Object(Q.e)(Z.a,{placeholder:Object(m.t)("Description")})}),Object(Q.e)(me,{fieldKey:"d3format",label:Object(m.t)("D3 Format"),control:Object(Q.e)(Z.a,{placeholder:"%y/%m/%d"})}),Object(Q.e)(me,{label:Object(m.t)("Warning Message"),fieldKey:"warning_text",description:Object(m.t)("Warning message to display in the metric selector"),control:Object(Q.e)(Z.a,{placeholder:Object(m.t)("Warning Message")})}),Object(Q.e)(me,{label:Object(m.t)("Certified By"),fieldKey:"certified_by",description:Object(m.t)("Person or group that has certified this metric"),control:Object(Q.e)(Z.a,{placeholder:Object(m.t)("Certified By")})}),Object(Q.e)(me,{label:Object(m.t)("Certification Details"),fieldKey:"certification_details",description:Object(m.t)("Details of the certification"),control:Object(Q.e)(Z.a,{placeholder:Object(m.t)("Certification Details")})}))),collection:this.state.datasource.metrics,allowAddItem:!0,onChange:T()(e=this.onDatasourcePropChange).call(e,this,"metrics"),itemGenerator:()=>({metric_name:"<new metric>",verbose_name:"",expression:""}),itemRenderers:{metric_name:(e,t,n,a)=>Object(Q.e)(Ee,null,a.is_certified&&Object(Q.e)(X,{certifiedBy:a.certified_by,details:a.certification_details}),Object(Q.e)(Ce.a,{canEdit:!0,title:e,onSaveTitle:t})),verbose_name:(e,t)=>Object(Q.e)(Ce.a,{canEdit:!0,title:e,onSaveTitle:t}),expression:(e,t)=>Object(Q.e)(Ce.a,{canEdit:!0,title:e,onSaveTitle:t,extraClasses:["datasource-sql-expression"],multiLine:!0}),description:(e,t,n)=>Object(Q.e)(Ae,{label:n,formElement:Object(Q.e)(Z.a,{value:e,onChange:t})}),d3format:(e,t,n)=>Object(Q.e)(Ae,{label:n,formElement:Object(Q.e)(Z.a,{value:e,onChange:t})})},allowDeletes:!0})}render(){const{datasource:e,activeTabKey:t}=this.state;return Object(Q.e)(Se,null,this.renderErrors(),Object(Q.e)(I.a,{id:"table-tabs",onSelect:this.handleTabSelect,defaultActiveKey:t},Object(Q.e)(L.a,{title:Object(Q.e)(ke,{collection:e.metrics,title:Object(m.t)("Metrics")}),eventKey:1},1===t&&this.renderMetricCollection()),Object(Q.e)(L.a,{title:Object(Q.e)(ke,{collection:this.state.databaseColumns,title:Object(m.t)("Columns")}),eventKey:2},2===t&&Object(Q.e)("div",null,Object(Q.e)(Me,{columns:this.state.databaseColumns,onChange:e=>this.setColumns({databaseColumns:e})}),Object(Q.e)(p.a,{buttonStyle:"primary",onClick:this.syncMetadata,className:"sync-from-source",disabled:!!e.sql,tooltip:e.sql?Object(m.t)("This option is not yet available for views"):null},Object(m.t)("Sync columns from source")),this.state.metadataLoading&&Object(Q.e)(G.a,null))),Object(Q.e)(L.a,{title:Object(Q.e)(ke,{collection:this.state.calculatedColumns,title:Object(m.t)("Calculated Columns")}),eventKey:3},3===t&&Object(Q.e)(Me,{columns:this.state.calculatedColumns,onChange:e=>this.setColumns({calculatedColumns:e}),editableColumnName:!0,showExpression:!0,allowAddItem:!0,allowEditDataType:!0,itemGenerator:()=>({column_name:"<new column>",filterable:!0,groupby:!0,expression:"<enter SQL expression here>",__expanded:!0})})),Object(Q.e)(L.a,{eventKey:4,title:Object(m.t)("Settings")},4===t&&Object(Q.e)("div",null,Object(Q.e)("div",{className:"m-t-10"},Object(Q.e)(d.a,{bsStyle:"warning"},Object(Q.e)("strong",null,Object(m.t)("Be careful.")," "),Object(m.t)("Changing these settings will affect all charts using this dataset, including charts owned by other people."))),Object(Q.e)(B.a,{md:6},Object(Q.e)(Re,null,this.renderSettingsFieldset())),Object(Q.e)(B.a,{md:6},Object(Q.e)(Re,null,this.renderAdvancedFieldset()))))))}}Ne.defaultProps={onChange:()=>{}},Ne.propTypes=De;var Pe=Object(xe.a)(Ne);function Fe(e){var t,n;return(null==e?void 0:e.certified_by)||(null==e?void 0:e.certification_details)?l()({certification:{certified_by:null!=(t=null==e?void 0:e.certified_by)?t:null,details:null!=(n=null==e?void 0:e.certification_details)?n:null}}):null}t.a=Object(xe.a)(({addSuccessToast:e,datasource:t,onDatasourceSave:n,onHide:a,show:r})=>{const[s,l]=Object(c.useState)(t),[u,f]=Object(c.useState)([]),y=Object(c.useRef)(null),O=()=>{var t;g.SupersetClient.post({endpoint:"/datasource/save/",postPayload:{data:i()({},s,{metrics:null==s?void 0:null===(t=s.metrics)||void 0===t?void 0:o()(t).call(t,e=>i()({},e,{extra:Fe(e)})),type:s.type||s.datasource_type})}}).then(({json:t})=>{e(Object(m.t)("The datasource has been saved")),n(t),a()}).catch(e=>Object(v.a)(e).then(({error:e})=>{y.current.show({title:"Error",bsSize:"medium",bsStyle:"danger",actions:[b.a.DefaultAction("Ok",()=>{},"btn-danger")],body:e||Object(m.t)("An error has occurred")})}))};return Object(Q.e)(h.a,{show:r,onHide:a,bsSize:"large"},Object(Q.e)(h.a.Header,{closeButton:!0},Object(Q.e)(h.a.Title,null,Object(Q.e)("div",null,Object(Q.e)("span",{className:"float-left"},Object(m.t)("Edit Dataset "),Object(Q.e)("strong",null,s.table_name))))),Object(Q.e)(h.a.Body,null,r&&Object(Q.e)(Pe,{datasource:s,onChange:(e,t)=>{var n;l(i()({},e,{metrics:null==e?void 0:o()(n=e.metrics).call(n,e=>i()({},e,{is_certified:(null==e?void 0:e.certified_by)||(null==e?void 0:e.certification_details)}))})),f(t)}})),Object(Q.e)(h.a.Footer,null,Object(Q.e)("span",{className:"float-left"},Object(Q.e)(p.a,{buttonSize:"sm",buttonStyle:"default",target:"_blank",href:s.edit_url||s.url},Object(m.t)("Use Legacy Datasource Editor"))),Object(Q.e)("span",{className:"float-right"},Object(Q.e)(p.a,{buttonSize:"sm",buttonStyle:"primary",className:"m-r-5","data-test":"datasource-modal-save",onClick:()=>{y.current.show({title:Object(m.t)("Confirm save"),bsSize:"medium",actions:[b.a.CancelAction(),b.a.OKAction(O)],body:Object(Q.e)("div",null,Object(Q.e)(d.a,{bsStyle:"warning",className:"pointer",onClick:y.current.hideAlert},Object(Q.e)("div",null,Object(Q.e)("i",{className:"fa fa-exclamation-triangle"})," ",Object(m.t)("The dataset configuration exposed here\n                affects all the charts using this dataset.\n                Be mindful that changing settings\n                here may affect other charts\n                in undesirable ways."))),Object(m.t)("Are you sure you want to save and apply changes?"))})},disabled:u.length>0},Object(m.t)("Save")),Object(Q.e)(p.a,{buttonSize:"sm",onClick:a},Object(m.t)("Cancel")),Object(Q.e)(b.a,{ref:y}))))})},1651:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(1);var a=n(0),o=n.n(a),r=(n(3340),n(2));const i={colorCode:o.a.string};function s({colorCode:e=""}){return Object(r.e)("svg",{className:"filter-badge "+e,width:"20",height:"20",viewBox:"0 0 20 20"},Object(r.e)("path",{d:"M4 5H16V7H4V5ZM6 9H14V11H6V9ZM12 13H8V15H12V13Z"}))}s.propTypes=i},1666:function(e,t,n){var a=n(766),o=n(2490);e.exports=function(e,t){return e&&a(e,o(t))}},1667:function(e,t){e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length;++n<a&&!1!==t(e[n],n,e););return e}},1668:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(264)),o=u(n(212)),r=u(n(265)),i=u(n(248)),s=u(n(261)),l=u(n(1)),c=n(1096);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e)),r=e.prompt,s=r.initialValue,l=r.placeholder;return n.state={value:s||"",initialValue:s,placeholder:l},n.inputElement=null,n.onSubmit=n.onSubmit.bind(n),n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({value:this.state.initialValue||""},(function(){e.inputElement.select()}))}},{key:"onSubmit",value:function(e){return e.preventDefault(),this.props.onSubmit&&this.props.onSubmit(),!1}},{key:"render",value:function(){var e=this,t=this.props.prompt,n=this.state,a=n.value,o=n.placeholder,r=t instanceof c.PasswordPrompt?"password":"text";return l.default.createElement("form",{onSubmit:this.onSubmit},l.default.createElement("input",{ref:function(t){e.inputElement=t},type:r,className:"form-control",value:a,placeholder:o,onChange:function(t){return e.setState({value:t.target.value})},autoFocus:!0}))}},{key:"value",get:function(){return this.state.value}}]),t}(l.default.Component);t.default=d},1669:function(e,t,n){},1670:function(e,t,n){},1671:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=d(n(759)),i=n(1),s=d(i),l=d(n(0)),c=d(n(1097)),u=n(1098);function d(e){return e&&e.__esModule?e:{default:e}}var h=r.default.acequire("ace/range").Range,p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return u.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.className,a=t.onBeforeLoad,o=t.onValidate,i=t.mode,s=t.focus,l=t.theme,c=t.fontSize,d=t.value,h=t.defaultValue,p=t.cursorStart,f=t.showGutter,b=t.wrapEnabled,m=t.showPrintMargin,g=t.scrollMargin,v=void 0===g?[0,0,0,0]:g,y=t.keyboardHandler,O=t.onLoad,C=t.commands,x=t.annotations,j=t.markers;this.editor=r.default.edit(this.refEditor),a&&a(r.default);for(var w=Object.keys(this.props.editorProps),S=0;S<w.length;S++)this.editor[w[S]]=this.props.editorProps[w[S]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(v[0],v[1],v[2],v[3]),this.editor.getSession().setMode("ace/mode/"+i),this.editor.setTheme("ace/theme/"+l),this.editor.setFontSize(c),this.editor.getSession().setValue(h||d,p),this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(f),this.editor.getSession().setUseWrapMode(b),this.editor.setShowPrintMargin(m),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),o&&this.editor.getSession().on("changeAnnotation",(function(){var t=e.editor.getSession().getAnnotations();e.props.onValidate(t)})),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(x||[]),j&&j.length>0&&this.handleMarkers(j);for(var E=this.editor.$options,_=0;_<u.editorOptions.length;_++){var T=u.editorOptions[_];E.hasOwnProperty(T)?this.editor.setOption(T,this.props[T]):this.props[T]&&console.warn("ReaceAce: editor option "+T+" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?")}this.handleOptions(this.props),Array.isArray(C)&&C.forEach((function(t){"string"==typeof t.exec?e.editor.commands.bindKey(t.bindKey,t.exec):e.editor.commands.addCommand(t)})),y&&this.editor.setKeyboardHandler("ace/keyboard/"+y),n&&(this.refEditor.className+=" "+n),s&&this.editor.focus(),O&&O(this.editor),this.editor.resize()}},{key:"debounce",value:function(e,t){var n=null;return function(){var a=this,o=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(a,o)}),t)}}},{key:"componentWillReceiveProps",value:function(e){for(var t=this.props,n=0;n<u.editorOptions.length;n++){var a=u.editorOptions[n];e[a]!==t[a]&&this.editor.setOption(a,e[a])}if(e.className!==t.className){var o=this.refEditor.className.trim().split(" ");t.className.trim().split(" ").forEach((function(e){var t=o.indexOf(e);o.splice(t,1)})),this.refEditor.className=" "+e.className+" "+o.join(" ")}if(e.mode!==t.mode&&this.editor.getSession().setMode("ace/mode/"+e.mode),e.theme!==t.theme&&this.editor.setTheme("ace/theme/"+e.theme),e.keyboardHandler!==t.keyboardHandler&&(e.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+e.keyboardHandler):this.editor.setKeyboardHandler(null)),e.fontSize!==t.fontSize&&this.editor.setFontSize(e.fontSize),e.wrapEnabled!==t.wrapEnabled&&this.editor.getSession().setUseWrapMode(e.wrapEnabled),e.showPrintMargin!==t.showPrintMargin&&this.editor.setShowPrintMargin(e.showPrintMargin),e.showGutter!==t.showGutter&&this.editor.renderer.setShowGutter(e.showGutter),(0,c.default)(e.setOptions,t.setOptions)||this.handleOptions(e),(0,c.default)(e.annotations,t.annotations)||this.editor.getSession().setAnnotations(e.annotations||[]),!(0,c.default)(e.markers,t.markers)&&Array.isArray(e.markers)&&this.handleMarkers(e.markers),(0,c.default)(e.scrollMargin,t.scrollMargin)||this.handleScrollMargins(e.scrollMargin),this.editor&&this.editor.getValue()!==e.value){this.silent=!0;var r=this.editor.session.selection.toJSON();this.editor.setValue(e.value,e.cursorStart),this.editor.session.selection.fromJSON(r),this.silent=!1}e.focus&&!t.focus&&this.editor.focus()}},{key:"componentDidUpdate",value:function(e){e.height===this.props.height&&e.width===this.props.width||this.editor.resize()}},{key:"handleScrollMargins",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0];this.editor.renderer.setScrollMargins(e[0],e[1],e[2],e[3])}},{key:"componentWillUnmount",value:function(){this.editor.destroy(),this.editor=null}},{key:"onChange",value:function(e){if(this.props.onChange&&!this.silent){var t=this.editor.getValue();this.props.onChange(t,e)}}},{key:"onSelectionChange",value:function(e){if(this.props.onSelectionChange){var t=this.editor.getSelection();this.props.onSelectionChange(t,e)}}},{key:"onCursorChange",value:function(e){if(this.props.onCursorChange){var t=this.editor.getSelection();this.props.onCursorChange(t,e)}}},{key:"onInput",value:function(e){this.props.onInput&&this.props.onInput(e)}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e,this.editor)}},{key:"onCopy",value:function(e){this.props.onCopy&&this.props.onCopy(e)}},{key:"onPaste",value:function(e){this.props.onPaste&&this.props.onPaste(e)}},{key:"onScroll",value:function(){this.props.onScroll&&this.props.onScroll(this.editor)}},{key:"handleOptions",value:function(e){for(var t=Object.keys(e.setOptions),n=0;n<t.length;n++)this.editor.setOption(t[n],e.setOptions[t[n]])}},{key:"handleMarkers",value:function(e){var t=this,n=this.editor.getSession().getMarkers(!0);for(var a in n)n.hasOwnProperty(a)&&this.editor.getSession().removeMarker(n[a].id);for(var o in n=this.editor.getSession().getMarkers(!1))n.hasOwnProperty(o)&&this.editor.getSession().removeMarker(n[o].id);e.forEach((function(e){var n=e.startRow,a=e.startCol,o=e.endRow,r=e.endCol,i=e.className,s=e.type,l=e.inFront,c=void 0!==l&&l,u=new h(n,a,o,r);t.editor.getSession().addMarker(u,i,s,c)}))}},{key:"updateRef",value:function(e){this.refEditor=e}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.width,o=e.height,r=e.style,i=a({width:n,height:o},r);return s.default.createElement("div",{ref:this.updateRef,id:t,style:i})}}]),t}(i.Component);t.default=p,p.propTypes={mode:l.default.string,focus:l.default.bool,theme:l.default.string,name:l.default.string,className:l.default.string,height:l.default.string,width:l.default.string,fontSize:l.default.oneOfType([l.default.number,l.default.string]),showGutter:l.default.bool,onChange:l.default.func,onCopy:l.default.func,onPaste:l.default.func,onFocus:l.default.func,onInput:l.default.func,onBlur:l.default.func,onScroll:l.default.func,value:l.default.string,defaultValue:l.default.string,onLoad:l.default.func,onSelectionChange:l.default.func,onCursorChange:l.default.func,onBeforeLoad:l.default.func,onValidate:l.default.func,minLines:l.default.number,maxLines:l.default.number,readOnly:l.default.bool,highlightActiveLine:l.default.bool,tabSize:l.default.number,showPrintMargin:l.default.bool,cursorStart:l.default.number,debounceChangePeriod:l.default.number,editorProps:l.default.object,setOptions:l.default.object,style:l.default.object,scrollMargin:l.default.array,annotations:l.default.array,markers:l.default.array,keyboardHandler:l.default.string,wrapEnabled:l.default.bool,enableBasicAutocompletion:l.default.oneOfType([l.default.bool,l.default.array]),enableLiveAutocompletion:l.default.oneOfType([l.default.bool,l.default.array]),commands:l.default.array},p.defaultProps={name:"brace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",value:"",fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1}},1672:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(759),i=p(r),s=n(1),l=p(s),c=p(n(0)),u=p(n(1097)),d=p(n(1673)),h=n(1098);function p(e){return e&&e.__esModule?e:{default:e}}n(2610);var f=i.default.acequire("ace/range").Range,b=i.default.acequire("ace/split").Split,m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return h.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.className,a=t.onBeforeLoad,o=t.mode,s=t.focus,l=t.theme,c=t.fontSize,u=t.value,p=t.defaultValue,f=t.cursorStart,m=t.showGutter,g=t.wrapEnabled,v=t.showPrintMargin,y=t.scrollMargin,O=void 0===y?[0,0,0,0]:y,C=t.keyboardHandler,x=t.onLoad,j=t.commands,w=t.annotations,S=t.markers,E=t.splits;this.editor=i.default.edit(this.refEditor),a&&a(i.default);var _=Object.keys(this.props.editorProps),T=new b(this.editor.container,"ace/theme/"+l,E);this.editor.env.split=T,this.splitEditor=T.getEditor(0),this.split=T,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var k=this.splitEditor.$options;T.forEach((function(t,n){for(var a=0;a<_.length;a++)t[_[a]]=e.props.editorProps[_[a]];var i=(0,d.default)(p,n),s=(0,d.default)(u,n,"");t.session.setUndoManager(new r.UndoManager),t.setTheme("ace/theme/"+l),t.renderer.setScrollMargin(O[0],O[1],O[2],O[3]),t.getSession().setMode("ace/mode/"+o),t.setFontSize(c),t.renderer.setShowGutter(m),t.getSession().setUseWrapMode(g),t.setShowPrintMargin(v),t.on("focus",e.onFocus),t.on("blur",e.onBlur),t.on("input",e.onInput),t.on("copy",e.onCopy),t.on("paste",e.onPaste),t.on("change",e.onChange),t.getSession().selection.on("changeSelection",e.onSelectionChange),t.getSession().selection.on("changeCursor",e.onCursorChange),t.session.on("changeScrollTop",e.onScroll),t.setValue(void 0===i?s:i,f);var b=(0,d.default)(w,n,[]),y=(0,d.default)(S,n,[]);t.getSession().setAnnotations(b),y&&y.length>0&&e.handleMarkers(y,t);for(var x=0;x<h.editorOptions.length;x++){var E=h.editorOptions[x];k.hasOwnProperty(E)?t.setOption(E,e.props[E]):e.props[E]&&console.warn("ReaceAce: editor option "+E+" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?")}e.handleOptions(e.props,t),Array.isArray(j)&&j.forEach((function(e){"string"==typeof e.exec?t.commands.bindKey(e.bindKey,e.exec):t.commands.addCommand(e)})),C&&t.setKeyboardHandler("ace/keyboard/"+C)})),n&&(this.refEditor.className+=" "+n),s&&this.splitEditor.focus();var M=this.editor.env.split;M.setOrientation("below"===this.props.orientation?M.BELOW:M.BESIDE),M.resize(!0),x&&x(M)}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props,a=this.editor.env.split;if(e.splits!==n.splits&&a.setSplits(e.splits),e.orientation!==n.orientation&&a.setOrientation("below"===e.orientation?a.BELOW:a.BESIDE),a.forEach((function(a,o){e.mode!==n.mode&&a.getSession().setMode("ace/mode/"+e.mode),e.keyboardHandler!==n.keyboardHandler&&(e.keyboardHandler?a.setKeyboardHandler("ace/keyboard/"+e.keyboardHandler):a.setKeyboardHandler(null)),e.fontSize!==n.fontSize&&a.setFontSize(e.fontSize),e.wrapEnabled!==n.wrapEnabled&&a.getSession().setUseWrapMode(e.wrapEnabled),e.showPrintMargin!==n.showPrintMargin&&a.setShowPrintMargin(e.showPrintMargin),e.showGutter!==n.showGutter&&a.renderer.setShowGutter(e.showGutter);for(var r=0;r<h.editorOptions.length;r++){var i=h.editorOptions[r];e[i]!==n[i]&&a.setOption(i,e[i])}(0,u.default)(e.setOptions,n.setOptions)||t.handleOptions(e,a);var s=(0,d.default)(e.value,o,"");if(a.getValue()!==s){t.silent=!0;var l=a.session.selection.toJSON();a.setValue(s,e.cursorStart),a.session.selection.fromJSON(l),t.silent=!1}var c=(0,d.default)(e.annotations,o,[]),p=(0,d.default)(n.annotations,o,[]);(0,u.default)(c,p)||a.getSession().setAnnotations(c);var f=(0,d.default)(e.markers,o,[]),b=(0,d.default)(n.markers,o,[]);!(0,u.default)(f,b)&&Array.isArray(f)&&t.handleMarkers(f,a)})),e.className!==n.className){var o=this.refEditor.className.trim().split(" ");n.className.trim().split(" ").forEach((function(e){var t=o.indexOf(e);o.splice(t,1)})),this.refEditor.className=" "+e.className+" "+o.join(" ")}e.theme!==n.theme&&a.setTheme("ace/theme/"+e.theme),e.focus&&!n.focus&&this.splitEditor.focus(),e.height===this.props.height&&e.width===this.props.width||this.editor.resize()}},{key:"componentWillUnmount",value:function(){this.editor.destroy(),this.editor=null}},{key:"onChange",value:function(e){if(this.props.onChange&&!this.silent){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getValue())})),this.props.onChange(t,e)}}},{key:"onSelectionChange",value:function(e){if(this.props.onSelectionChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onSelectionChange(t,e)}}},{key:"onCursorChange",value:function(e){if(this.props.onCursorChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onCursorChange(t,e)}}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onInput",value:function(e){this.props.onInput&&this.props.onInput(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e)}},{key:"onCopy",value:function(e){this.props.onCopy&&this.props.onCopy(e)}},{key:"onPaste",value:function(e){this.props.onPaste&&this.props.onPaste(e)}},{key:"onScroll",value:function(){this.props.onScroll&&this.props.onScroll(this.editor)}},{key:"handleOptions",value:function(e,t){for(var n=Object.keys(e.setOptions),a=0;a<n.length;a++)t.setOption(n[a],e.setOptions[n[a]])}},{key:"handleMarkers",value:function(e,t){var n=t.getSession().getMarkers(!0);for(var a in n)n.hasOwnProperty(a)&&t.getSession().removeMarker(n[a].id);for(var o in n=t.getSession().getMarkers(!1))n.hasOwnProperty(o)&&t.getSession().removeMarker(n[o].id);e.forEach((function(e){var n=e.startRow,a=e.startCol,o=e.endRow,r=e.endCol,i=e.className,s=e.type,l=e.inFront,c=void 0!==l&&l,u=new f(n,a,o,r);t.getSession().addMarker(u,i,s,c)}))}},{key:"updateRef",value:function(e){this.refEditor=e}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.width,o=e.height,r=e.style,i=a({width:n,height:o},r);return l.default.createElement("div",{ref:this.updateRef,id:t,style:i})}}]),t}(s.Component);t.default=m,m.propTypes={mode:c.default.string,splits:c.default.number,orientation:c.default.string,focus:c.default.bool,theme:c.default.string,name:c.default.string,className:c.default.string,height:c.default.string,width:c.default.string,fontSize:c.default.oneOfType([c.default.number,c.default.string]),showGutter:c.default.bool,onChange:c.default.func,onCopy:c.default.func,onPaste:c.default.func,onFocus:c.default.func,onInput:c.default.func,onBlur:c.default.func,onScroll:c.default.func,value:c.default.arrayOf(c.default.string),defaultValue:c.default.arrayOf(c.default.string),onLoad:c.default.func,onSelectionChange:c.default.func,onCursorChange:c.default.func,onBeforeLoad:c.default.func,minLines:c.default.number,maxLines:c.default.number,readOnly:c.default.bool,highlightActiveLine:c.default.bool,tabSize:c.default.number,showPrintMargin:c.default.bool,cursorStart:c.default.number,editorProps:c.default.object,setOptions:c.default.object,style:c.default.object,scrollMargin:c.default.array,annotations:c.default.array,markers:c.default.array,keyboardHandler:c.default.string,wrapEnabled:c.default.bool,enableBasicAutocompletion:c.default.oneOfType([c.default.bool,c.default.array]),enableLiveAutocompletion:c.default.oneOfType([c.default.bool,c.default.array]),commands:c.default.array},m.defaultProps={name:"brace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1}},1673:function(e,t,n){(function(t){var n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,o=/^\./,r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=/^\[object .+?Constructor\]$/,l="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")();var d,h=Array.prototype,p=Function.prototype,f=Object.prototype,b=u["__core-js_shared__"],m=(d=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",g=p.toString,v=f.hasOwnProperty,y=f.toString,O=RegExp("^"+g.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=u.Symbol,x=h.splice,j=N(u,"Map"),w=N(Object,"create"),S=C?C.prototype:void 0,E=S?S.toString:void 0;function _(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function T(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function k(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function M(e,t){for(var n,a,o=e.length;o--;)if((n=e[o][0])===(a=t)||n!=n&&a!=a)return o;return-1}function A(e,t){for(var o,r=0,i=(t=function(e,t){if(I(e))return!1;var o=typeof e;if("number"==o||"symbol"==o||"boolean"==o||null==e||H(e))return!0;return a.test(e)||!n.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:I(o=t)?o:P(o)).length;null!=e&&r<i;)e=e[F(t[r++])];return r&&r==i?e:void 0}function R(e){return!(!B(e)||(t=e,m&&m in t))&&(function(e){var t=B(e)?y.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?O:s).test(function(e){if(null!=e){try{return g.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function D(e,t){var n,a,o=e.__data__;return("string"==(a=typeof(n=t))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function N(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return R(n)?n:void 0}_.prototype.clear=function(){this.__data__=w?w(null):{}},_.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},_.prototype.get=function(e){var t=this.__data__;if(w){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return v.call(t,e)?t[e]:void 0},_.prototype.has=function(e){var t=this.__data__;return w?void 0!==t[e]:v.call(t,e)},_.prototype.set=function(e,t){return this.__data__[e]=w&&void 0===t?"__lodash_hash_undefined__":t,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(e){var t=this.__data__,n=M(t,e);return!(n<0)&&(n==t.length-1?t.pop():x.call(t,n,1),!0)},T.prototype.get=function(e){var t=this.__data__,n=M(t,e);return n<0?void 0:t[n][1]},T.prototype.has=function(e){return M(this.__data__,e)>-1},T.prototype.set=function(e,t){var n=this.__data__,a=M(n,e);return a<0?n.push([e,t]):n[a][1]=t,this},k.prototype.clear=function(){this.__data__={hash:new _,map:new(j||T),string:new _}},k.prototype.delete=function(e){return D(this,e).delete(e)},k.prototype.get=function(e){return D(this,e).get(e)},k.prototype.has=function(e){return D(this,e).has(e)},k.prototype.set=function(e,t){return D(this,e).set(e,t),this};var P=L((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(H(e))return E?E.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return o.test(e)&&n.push(""),e.replace(r,(function(e,t,a,o){n.push(a?o.replace(i,"$1"):t||e)})),n}));function F(e){if("string"==typeof e||H(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function L(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var a=arguments,o=t?t.apply(this,a):a[0],r=n.cache;if(r.has(o))return r.get(o);var i=e.apply(this,a);return n.cache=r.set(o,i),i};return n.cache=new(L.Cache||k),n}L.Cache=k;var I=Array.isArray;function B(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function H(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==y.call(e)}e.exports=function(e,t,n){var a=null==e?void 0:A(e,t);return void 0===a?n:a}}).call(this,n(100))},1674:function(e,t,n){var a=n(1675),o=String.prototype;e.exports=function(e){var t=e.startsWith;return"string"==typeof e||e===o||e instanceof String&&t===o.startsWith?a:t}},1675:function(e,t,n){n(1676);var a=n(82);e.exports=a("String").startsWith},1676:function(e,t,n){"use strict";var a,o=n(43),r=n(490).f,i=n(156),s=n(691),l=n(267),c=n(692),u=n(244),d="".startsWith,h=Math.min,p=c("startsWith");o({target:"String",proto:!0,forced:!!(u||p||(a=r(String.prototype,"startsWith"),!a||a.writable))&&!p},{startsWith:function(e){var t=String(l(this));s(e);var n=i(h(arguments.length>1?arguments[1]:void 0,t.length)),a=String(e);return d?d.call(t,a,n):t.slice(n,n+a.length)===a}})},169:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(346),o=n.n(a),r=(n(1),n(0)),i=n.n(r),s=n(165),l=n(251),c=n(2);const u={label:i.a.string.isRequired,tooltip:i.a.node.isRequired,children:i.a.node.isRequired,placement:i.a.string,trigger:i.a.oneOfType([i.a.string,i.a.arrayOf(i.a.string)])};function d({label:e,tooltip:t,children:n,placement:a,trigger:r}){return Object(c.e)(s.a,{placement:a,overlay:Object(c.e)(l.a,{id:o()(e)+"-tooltip"},t),trigger:r},n)}d.propTypes=u,d.defaultProps={placement:"top"}},172:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"m",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"n",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"o",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"l",(function(){return b})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"k",(function(){return y})),n.d(t,"p",(function(){return O})),n.d(t,"q",(function(){return C}));var a=n(129),o=n.n(a);const r="load_chart",i="render_chart",s="hide_browser_tab",l="mount_dashboard",c="mount_explorer",u="select_dashboard_tab",d="force_refresh_chart",h="change_explore_controls",p="toggle_edit_dashboard",f="force_refresh_dashboard",b="periodic_render_dashboard",m="explore_dashboard_chart",g="export_csv_dashboard_chart",v="change_dashboard_filter",y="omnibar_triggered",O=new o.a([r,i,s]),C=(new o.a([l,u,m,d,g,v,h,p,f,b,y,c]),{getTimestamp:()=>Math.round(window.performance.now())})},201:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return p}));n(9);var a=n(57),o=n.n(a),r=n(102),i=n.n(r);function s(e){var t;return i()(t=o()(e)).call(t,(e,t)=>{const n=e;return n[t]=t,n},{})}const l={FORMULA:{value:"FORMULA",label:"Formula"},EVENT:{value:"EVENT",label:"Event",supportNativeSource:!0},INTERVAL:{value:"INTERVAL",label:"Interval",supportNativeSource:!0},TIME_SERIES:{value:"TIME_SERIES",label:"Time Series"}},c=s(l),u=c.FORMULA,d={NATIVE:{value:"NATIVE",label:"Superset annotation"}},h=s(d);function p(e){return!!e}t.e=c},203:function(e,t,n){"use strict";n.r(t),n.d(t,"CHART_UPDATE_STARTED",(function(){return k})),n.d(t,"chartUpdateStarted",(function(){return M})),n.d(t,"CHART_UPDATE_SUCCEEDED",(function(){return A})),n.d(t,"chartUpdateSucceeded",(function(){return R})),n.d(t,"CHART_UPDATE_STOPPED",(function(){return D})),n.d(t,"chartUpdateStopped",(function(){return N})),n.d(t,"CHART_UPDATE_FAILED",(function(){return P})),n.d(t,"chartUpdateFailed",(function(){return F})),n.d(t,"CHART_RENDERING_FAILED",(function(){return L})),n.d(t,"chartRenderingFailed",(function(){return I})),n.d(t,"CHART_RENDERING_SUCCEEDED",(function(){return B})),n.d(t,"chartRenderingSucceeded",(function(){return H})),n.d(t,"REMOVE_CHART",(function(){return q})),n.d(t,"removeChart",(function(){return V})),n.d(t,"ANNOTATION_QUERY_SUCCESS",(function(){return U})),n.d(t,"annotationQuerySuccess",(function(){return z})),n.d(t,"ANNOTATION_QUERY_STARTED",(function(){return G})),n.d(t,"annotationQueryStarted",(function(){return W})),n.d(t,"ANNOTATION_QUERY_FAILED",(function(){return K})),n.d(t,"annotationQueryFailed",(function(){return Y})),n.d(t,"getChartDataRequest",(function(){return Q})),n.d(t,"runAnnotationQuery",(function(){return X})),n.d(t,"TRIGGER_QUERY",(function(){return $})),n.d(t,"triggerQuery",(function(){return Z})),n.d(t,"RENDER_TRIGGERED",(function(){return J})),n.d(t,"renderTriggered",(function(){return ee})),n.d(t,"UPDATE_QUERY_FORM_DATA",(function(){return te})),n.d(t,"updateQueryFormData",(function(){return ne})),n.d(t,"UPDATE_CHART_ID",(function(){return ae})),n.d(t,"updateChartId",(function(){return oe})),n.d(t,"ADD_CHART",(function(){return re})),n.d(t,"addChart",(function(){return ie})),n.d(t,"exploreJSON",(function(){return se})),n.d(t,"GET_SAVED_CHART",(function(){return le})),n.d(t,"getSavedChart",(function(){return ce})),n.d(t,"POST_CHART_FORM_DATA",(function(){return ue})),n.d(t,"postChartFormData",(function(){return de})),n.d(t,"redirectSQLLab",(function(){return he})),n.d(t,"refreshChart",(function(){return pe}));n(276),n(242),n(93);var a=n(16),o=n.n(a),r=n(102),i=n.n(r),s=n(59),l=n.n(s),c=n(144),u=n.n(c),d=n(57),h=n.n(d),p=n(213),f=n.n(p),b=n(9),m=n.n(b),g=n(13),v=n.n(g),y=n(3),O=n(34),C=n(117),x=n(240),j=n(201),w=n(103),S=n(460),E=n(172),_=n(114),T=n(750);const k="CHART_UPDATE_STARTED";function M(e,t,n){return{type:k,queryController:e,latestQueryFormData:t,key:n}}const A="CHART_UPDATE_SUCCEEDED";function R(e,t){return{type:A,queryResponse:e,key:t}}const D="CHART_UPDATE_STOPPED";function N(e){return{type:D,key:e}}const P="CHART_UPDATE_FAILED";function F(e,t){return{type:P,queryResponse:e,key:t}}const L="CHART_RENDERING_FAILED";function I(e,t,n){return{type:L,error:e,key:t,stackTrace:n}}const B="CHART_RENDERING_SUCCEEDED";function H(e){return{type:B,key:e}}const q="REMOVE_CHART";function V(e){return{type:q,key:e}}const U="ANNOTATION_QUERY_SUCCESS";function z(e,t,n){return{type:U,annotation:e,queryResponse:t,key:n}}const G="ANNOTATION_QUERY_STARTED";function W(e,t,n){return{type:G,annotation:e,queryController:t,key:n}}const K="ANNOTATION_QUERY_FAILED";function Y(e,t,n){return{type:K,annotation:e,queryResponse:t,key:n}}async function Q({formData:e,resultFormat:t="json",resultType:n="full",force:a=!1,method:o="POST",requestParams:r={}}){let i=m()({},r);return T.a&&(i=m()({},i,{mode:"cors",credentials:"include"})),Object(x.l)(e)?(async(e,t,n,a,o="POST",r={})=>{const i=Object(x.i)({resultFormat:t,resultType:n}),s=Object(x.h)({formData:e,endpointType:i,force:a,allowDomainSharding:T.a,method:o,requestParams:r.dashboard_id?{dashboard_id:r.dashboard_id}:{}}),l=m()({},r,{url:s,postPayload:{form_data:e}});return(Object(C.c)(C.a.CLIENT_CACHE)?O.SupersetClient.get:O.SupersetClient.post)(l).then(({json:e})=>({result:[e]}))})(e,t,n,a,o,i):(async(e,t,n,a,o)=>{const r=Object(x.a)({formData:e,resultType:n,resultFormat:t,force:a}),i=o.dashboard_id?{dashboard_id:o.dashboard_id}:{},s=Object(x.e)({path:"/api/v1/chart/data",qs:i,allowDomainSharding:T.a}).toString(),l=m()({},o,{url:s,headers:{"Content-Type":"application/json"},body:f()(r)});return O.SupersetClient.post(l).then(({json:e})=>e)})(e,t,n,a,i)}function X(e,t=60,n=null,a,o=!1){return function(r,s){var c;const d=a||h()(s().charts)[0],p=m()({},n||s().charts[d].latestQueryFormData);if(!Object(j.f)(e.sourceType))return u.a.resolve();const f=p.time_grain_sqla||p.granularity;p.time_grain_sqla=f,p.granularity=f;const b=h()(e.overrides);(l()(b).call(b,"since")||l()(b).call(b,"until"))&&(e.overrides=m()({},e.overrides,{time_range:null}));const g=i()(c=h()(e.overrides)).call(c,(t,n)=>m()({},t,{[n]:e.overrides[n]||p[n]}),{});if(!o&&p){const e=p.extra_filters&&p.extra_filters.length>0;g.extra_filters=e?p.extra_filters:void 0}const v=e.sourceType===j.a.NATIVE,y=Object(x.d)(e.value,g,v),C=new AbortController,{signal:w}=C;return r(W(e,C,d)),O.SupersetClient.get({url:y,signal:w,timeout:1e3*t}).then(({json:t})=>r(z(e,t,d))).catch(t=>Object(_.a)(t).then(t=>{var n;"timeout"===t.statusText?r(Y(e,{error:"Query Timeout"},d)):l()(n=(t.error||"").toLowerCase()).call(n,"no data")?r(z(e,t,d)):"abort"!==t.statusText&&r(Y(e,t,d))}))}}const $="TRIGGER_QUERY";function Z(e=!0,t){return{type:$,value:e,key:t}}const J="RENDER_TRIGGERED";function ee(e,t){return{type:J,value:e,key:t}}const te="UPDATE_QUERY_FORM_DATA";function ne(e,t){return{type:te,value:e,key:t}}const ae="UPDATE_CHART_ID";function oe(e,t=0){return{type:ae,newId:e,key:t}}const re="ADD_CHART";function ie(e,t){return{type:re,chart:e,key:t}}function se(e,t=!1,n=60,a,r,i){return async s=>{const l=E.q.getTimestamp(),c=new AbortController,d={signal:c.signal,timeout:1e3*n};i&&(d.dashboard_id=i);const h=Q({formData:e,resultFormat:"json",resultType:"full",force:t,method:r,requestParams:d});s(M(c,e,a));const p=h.then(n=>{const o=n.result[0];return s(Object(S.logEvent)(E.h,{slice_id:a,is_cached:o.is_cached,force_refresh:t,row_count:o.rowcount,datasource:e.datasource,start_offset:l,ts:(new Date).getTime(),duration:E.q.getTimestamp()-l,has_extra_filters:e.extra_filters&&e.extra_filters.length>0,viz_type:e.viz_type,data_age:o.is_cached?v()(new Date).diff(v.a.utc(o.cached_dttm)):null})),s(R(o,a))}).catch(t=>{const n=(t,n)=>{s(Object(S.logEvent)(E.h,{slice_id:a,has_err:!0,is_cached:n,error_details:t,datasource:e.datasource,start_offset:l,ts:(new Date).getTime(),duration:E.q.getTimestamp()-l}))};return"AbortError"===t.name?(n("abort"),s(N(a))):Object(_.a)(t).then(e=>("timeout"===t.statusText?n("timeout"):n(e.error,e.is_cached),s(F(e,a))))}),f=e.annotation_layers||[],b=i>0;return u.a.all([p,s(Z(!1,a)),s(ne(e,a)),...o()(f).call(f,t=>s(X(t,n,e,a,b)))])}}const le="GET_SAVED_CHART";function ce(e,t=!1,n=60,a,o){return se(e,t,n,a,"GET",o)}const ue="POST_CHART_FORM_DATA";function de(e,t=!1,n=60,a,o){return se(e,t,n,a,"POST",o)}function he(e){return t=>{Q({formData:e,resultFormat:"json",resultType:"query"}).then(({result:t})=>{const n={datasourceKey:e.datasource,sql:t[0].query};Object(x.k)("/superset/sqllab",n)}).catch(()=>t(Object(w.c)(Object(y.t)("An error occurred while loading the SQL"))))}}function pe(e,t,n){return(a,o)=>{const r=(o().charts||{})[e],i=o().dashboardInfo.common.conf.SUPERSET_WEBSERVER_TIMEOUT;r.latestQueryFormData&&0!==h()(r.latestQueryFormData).length&&a(de(r.latestQueryFormData,t,i,r.id,n))}}},221:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));n(93);var a=n(53),o=n.n(a),r=n(9),i=n.n(r),s=n(459),l=n.n(s),c=n(30),u=n.n(c),d=n(129),h=n.n(d),p=n(2479),f=n.n(p),b=n(113),m=n.n(b),g=n(39),v=n.n(g),y=n(16),O=n.n(y),C=n(10),x=n.n(C),j=n(1),w=n.n(j),S=n(0),E=n.n(S),_=n(3),T=n(94),k=n(98),M=n(2);const A={autoFocus:E.a.bool,choices:E.a.array,clearable:E.a.bool,description:E.a.string,disabled:E.a.bool,freeForm:E.a.bool,isLoading:E.a.bool,label:E.a.string,multi:E.a.bool,isMulti:E.a.bool,allowAll:E.a.bool,name:E.a.string.isRequired,onChange:E.a.func,onFocus:E.a.func,value:E.a.oneOfType([E.a.string,E.a.number,E.a.array]),showHeader:E.a.bool,optionRenderer:E.a.func,valueRenderer:E.a.func,valueKey:E.a.string,options:E.a.array,placeholder:E.a.string,noResultsText:E.a.string,selectRef:E.a.func,filterOption:E.a.func,promptTextCreator:E.a.func,commaChoosesOption:E.a.bool},R={autoFocus:!1,choices:[],clearable:!0,description:null,disabled:!1,freeForm:!1,isLoading:!1,label:null,multi:!1,onChange:()=>{},onFocus:()=>{},showHeader:!0,valueKey:"value",noResultsText:Object(_.t)("No results found"),promptTextCreator:e=>"Create Option "+e,commaChoosesOption:!0,allowAll:!1};class D extends w.a.PureComponent{constructor(e){var t,n,a,o;super(e),this.state={options:this.getOptions(e)},this.onChange=x()(t=this.onChange).call(t,this),this.createMetaSelectAllOption=x()(n=this.createMetaSelectAllOption).call(n,this),this.select=null,this.getSelectRef=x()(a=this.getSelectRef).call(a,this),this.handleKeyDownForCreate=x()(o=this.handleKeyDownForCreate).call(o,this)}UNSAFE_componentWillReceiveProps(e){if(e.choices!==this.props.choices||e.options!==this.props.options){const t=this.getOptions(e);this.setState({options:t})}}onChange(e){let t=null;if(e)if(this.props.multi){t=[];for(const o of e){var n,a;if(!0===o.meta)return void this.props.onChange(O()(n=v()(a=this.getOptions(this.props)).call(a,e=>!e.meta)).call(n,e=>e[this.props.valueKey]));t.push(o[this.props.valueKey]||o)}}else{if(!0===e.meta)return;t=e[this.props.valueKey]}this.props.onChange(t)}getSelectRef(e){this.select=e,this.props.selectRef&&this.props.selectRef(e)}getOptions(e){let t=[];var n;if(e.options)t=O()(n=e.options).call(n,e=>e);else if(e.choices){var a;t=O()(a=e.choices).call(a,t=>{if(m()(t)){const[n,a]=t.length>1?t:[t[0],t[0]];return{label:a,[e.valueKey]:n}}return f()(t)?t:{label:t,[e.valueKey]:t}})}if(e.freeForm&&e.value){const n=new h.a(O()(t).call(t,t=>t[e.valueKey])),a=m()(e.value)?e.value:[e.value];u()(a).call(a,a=>{n.has(a)||t.unshift({label:a,[e.valueKey]:a})})}return!0===e.allowAll&&!0===e.multi?l()(t).call(t,e=>this.isMetaSelectAllOption(e))<0&&t.unshift(this.createMetaSelectAllOption()):t=v()(t).call(t,e=>!this.isMetaSelectAllOption(e)),t}handleKeyDownForCreate(e){const t=e.key;("Tab"===t||this.props.commaChoosesOption&&","===t)&&this.select&&this.select.onKeyDown(i()({},e,{key:"Enter"}))}isMetaSelectAllOption(e){return e.meta&&!0===e.meta&&"Select All"===e.label}createMetaSelectAllOption(){const e={label:"Select All",meta:!0};return e[this.props.valueKey]="Select All",e}render(){const e=this.props.placeholder||Object(_.t)("%s option(s)",this.state.options.length),t=this.props.isMulti||this.props.multi,n={autoFocus:this.props.autoFocus,isMulti:t,selectRef:this.getSelectRef,name:"select-"+this.props.name,placeholder:e,options:this.state.options,value:this.props.value,labelKey:"label",valueKey:this.props.valueKey,clearable:this.props.clearable,isLoading:this.props.isLoading,onChange:this.onChange,onFocus:this.props.onFocus,optionRenderer:this.props.optionRenderer,valueRenderer:this.props.valueRenderer,noResultsText:this.props.noResultsText,disabled:this.props.disabled,filterOption:this.props.filterOption,promptTextCreator:this.props.promptTextCreator,ignoreAccents:!1};let a;return this.props.freeForm?(a=T.c,n.onKeyDown=this.handleKeyDownForCreate):a=T.f,Object(M.e)("div",null,this.props.showHeader&&Object(M.e)(k.a,this.props),t?Object(M.e)(T.d,o()({},n,{selectWrap:a})):Object(M.e)(a,n))}}D.propTypes=A,D.defaultProps=R},222:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2693);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return d(a).default}});var o=n(2492);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return d(o).default}});var r=n(2696);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return d(r).default}});var i=n(2697);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return d(i).default}});var s=n(2699);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return d(s).default}});var l=n(2700);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return d(l).default}});var c=n(2493);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return d(c).default}});var u=n(2704);function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return d(u).default}})},240:function(e,t,n){"use strict";n.d(t,"f",(function(){return y})),n.d(t,"d",(function(){return x})),n.d(t,"j",(function(){return j})),n.d(t,"g",(function(){return w})),n.d(t,"e",(function(){return S})),n.d(t,"h",(function(){return E})),n.d(t,"l",(function(){return _})),n.d(t,"a",(function(){return T})),n.d(t,"i",(function(){return k})),n.d(t,"k",(function(){return M})),n.d(t,"c",(function(){return A})),n.d(t,"b",(function(){return R}));n(242),n(493);var a=n(9),o=n.n(a),r=n(57),i=n.n(r),s=n(30),l=n.n(s),c=n(59),u=n.n(c),d=n(76),h=n.n(d),p=n(399),f=n.n(p),b=n(760),m=n(750),g=n(368),v=n(19);function y(e){const t=h()(e);return t?t.slice_id:0}let O=0;function C(e=!1){let t=0;return e&&(t=O%m.b.length,O+=1,0===t&&(t+=1,O+=1)),m.b[t]}function x(e,t,n){if(null==e)return null;const a=n?"annotation_json":"slice_json";return f()(window.location.search).pathname("/superset/"+a+"/"+e).search({form_data:Object(g.a)(t,(e,t)=>null===t?void 0:t)}).toString()}function j(e="base"){var t;return u()(t=["full","json","csv","query","results","samples"]).call(t,e)?"/superset/explore_json/":"/superset/explore/"}function w(e,t,n=!0,a={}){var o;if(!e.datasource)return null;const r=new f.a("/"),s=j(t),c=r.search(!0);l()(o=i()(a)).call(o,e=>{c[e]=a[e]}),c.form_data=Object(g.a)(e),"standalone"===t&&(c.standalone="true");const u=r.directory(s).search(c).toString();if(!n&&u.length>8e3){return w({datasource:e.datasource,viz_type:e.viz_type},t,!1,{URL_IS_TOO_LONG_TO_SHARE:null})}return u}function S({path:e,qs:t,allowDomainSharding:n=!1}){var a;let o=new f.a({protocol:h()(a=location.protocol).call(a,0,-1),hostname:C(n),port:location.port?location.port:"",path:e});return t&&(o=o.search(t)),o}function E({formData:e,endpointType:t="base",force:n=!1,curUrl:a=null,requestParams:o={},allowDomainSharding:r=!1,method:s="POST"}){if(!e.datasource)return null;let c=S({path:"/",allowDomainSharding:r});a&&(c=f()(f()(a).search()));const u=j(t),d=c.search(!0),{slice_id:h,extra_filters:p,adhoc_filters:b,viz_type:m}=e;if(h){const e={slice_id:h};"GET"===s&&(e.viz_type=m,p&&p.length&&(e.extra_filters=p),b&&b.length&&(e.adhoc_filters=b)),d.form_data=Object(g.a)(e)}n&&(d.force="true"),"csv"===t&&(d.csv="true"),"standalone"===t&&(d.standalone="true"),"query"===t&&(d.query="true"),"results"===t&&(d.results="true"),"samples"===t&&(d.samples="true");const v=i()(o);return v.length&&l()(v).call(v,e=>{o.hasOwnProperty(e)&&(d[e]=o[e])}),c.search(d).directory(u).toString()}const _=e=>{const t=Object(v.getChartMetadataRegistry)().get(e.viz_type);return!!t&&t.useLegacyApi},T=({formData:e,force:t,resultFormat:n,resultType:a})=>{var r;return(null!=(r=Object(v.getChartBuildQueryRegistry)().get(e.viz_type))?r:e=>Object(b.buildQueryContext)(e,e=>[o()({},e)]))(o()({},e,{force:t,result_format:n,result_type:a}))},k=({resultType:e,resultFormat:t})=>"csv"===t?t:e;function M(e,t,n="_blank"){if(!e)return;const a=document.createElement("form");a.action=e,a.method="POST",a.target=n;const o=document.createElement("input");o.type="hidden",o.name="csrf_token",o.value=(document.getElementById("csrf_token")||{}).value,a.appendChild(o);const r=document.createElement("input");r.type="hidden",r.name="form_data",r.value=Object(g.a)(t),a.appendChild(r),document.body.appendChild(a),a.submit(),document.body.removeChild(a)}const A=({formData:e,resultFormat:t="json",resultType:n="full",force:a=!1})=>{let o,r;if(_(e)){o=E({formData:e,endpointType:k({resultFormat:t,resultType:n}),allowDomainSharding:!1}),r=e}else o="/api/v1/chart/data",r=T({formData:e,force:a,resultFormat:t,resultType:n});M(o,r)},R=e=>{M(E({formData:e,endpointType:"base",allowDomainSharding:!1}),e)}},241:function(e,t,n){"use strict";n.d(t,"n",(function(){return a})),n.d(t,"o",(function(){return o})),n.d(t,"q",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"m",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"p",(function(){return v})),n.d(t,"b",(function(){return y}));const a={offline:"danger",failed:"danger",pending:"info",fetching:"info",running:"warning",stopped:"danger",success:"success"},o={success:"success",failed:"failed",running:"running",offline:"offline",pending:"pending"},r=["now","1 hour ago","1 day ago","7 days ago","28 days ago","90 days ago","1 year ago"],i=5,s=3,l=51,c=1024,u=2,d=864e5,h=5120,p=.9,f=8e3,b=100,m=90,g=60,v=55,y=50},2451:function(e,t,n){"use strict";n(444),n(272),n(93);var a=n(16),o=n.n(a),r=n(53),i=n.n(r),s=n(10),l=n.n(s),c=n(9),u=n.n(c),d=n(87),h=n.n(d),p=n(49),f=n.n(p),b=n(1659),m=n.n(b),g=n(1),v=n.n(g),y=n(0),O=n.n(y),C=n(391),x=n(993),j=n(376),w=n(441),S=n(165),E=n(251),_=n(973),T=n(458),k=n(836),M=n(835),A=n(968),R=n(46),D=n(2454),N=n.n(D),P=(n(2754),n(13)),F=n.n(P),L=n(3),I=n(25);const B=(e,t)=>e.replace("T00:00:00","")||(t?"-∞":"∞"),H=(e,t)=>{var n;const a=e.split(" : ");if(1===a.length)return e;const r=o()(n=t||["unknown","unknown"]).call(n,e=>"inclusive"===e?"≤":"<");return B(a[0],!0)+" "+r[0]+" col "+r[1]+" "+B(a[1])};var q=n(134),V=(n(2755),n(98)),U=n(329),z=n(2);function G(){const e=f()(["\n  .radio {\n    margin: ","px 0;\n  }\n"]);return G=function(){return e},e}const W=m()({DEFAULTS:"defaults",CUSTOM_START_END:"custom_start_end",CUSTOM_RANGE:"custom_range"}),K=m()({DEFAULTS:"defaults",CUSTOM:"custom"}),Y=m()({LAST:"Last",NEXT:"Next"}),Q=["Last day","Last week","Last month","Last quarter","Last year","No filter"],X=["seconds","minutes","hours","days","weeks","months","years"],$="YYYY-MM-DD[T]HH:mm:ss",Z=F()().utc().startOf("day").subtract(7,"days").format($),J=F()().utc().startOf("day").format($),ee=Object(L.t)("Superset supports smart date parsing. Strings like `3 weeks ago`, `last sunday`, or `2 weeks from now` can be used."),te={width:"250px"},ne={animation:O.a.bool,name:O.a.string.isRequired,label:O.a.string,description:O.a.string,onChange:O.a.func,value:O.a.string,height:O.a.number,onOpenDateFilterControl:O.a.func,onCloseDateFilterControl:O.a.func,endpoints:O.a.arrayOf(O.a.string)},ae={animation:!0,onChange:()=>{},value:"Last week",onOpenDateFilterControl:()=>{},onCloseDateFilterControl:()=>{}};function oe(e){return e===F()(e,$).format($)}function re(e){const t=e.split(" ")[1]+"s";return{tab:K.DEFAULTS,type:W.DEFAULTS,common:e,since:"No filter"===e?"":F()().utc().startOf("day").subtract(1,t).format($),until:"No filter"===e?"":F()().utc().startOf("day").format($)}}function ie(e){const[t,n,a]=e.split(" ",3);let o,r;return t===Y.LAST?(r=F()().utc().startOf("day").format($),o=F()().utc().startOf("day").subtract(n,a).format($)):(r=F()().utc().startOf("day").add(n,a).format($),o=F()().startOf("day").format($)),{tab:K.CUSTOM,type:W.CUSTOM_RANGE,common:null,rel:t,num:n,grain:a,since:o,until:r}}const se=I.styled.div(G(),({theme:e})=>e.gridUnit);class le extends v.a.Component{constructor(e){var t,n,a,o,r,i,s,c,d,p,f,b,m;super(e),this.state={type:W.DEFAULTS,tab:K.DEFAULTS,common:Q[0],rel:Y.LAST,num:"7",grain:X[3],since:Z,until:J,showSinceCalendar:!1,showUntilCalendar:!1,sinceViewMode:"days",untilViewMode:"days"};const g=e.value;h()(g).call(g," : ")>=0?this.state=u()({},this.state,function(e){const[t,n]=e.split(" : ",2);return{since:t,until:n,type:W.CUSTOM_START_END,tab:K.CUSTOM}}(g)):h()(Q).call(Q,g)>=0?this.state=u()({},this.state,re(g)):this.state=u()({},this.state,ie(g)),this.close=l()(t=this.close).call(t,this),this.handleClick=l()(n=this.handleClick).call(n,this),this.handleClickTrigger=l()(a=this.handleClickTrigger).call(a,this),this.isValidSince=l()(o=this.isValidSince).call(o,this),this.isValidUntil=l()(r=this.isValidUntil).call(r,this),this.onEnter=l()(i=this.onEnter).call(i,this),this.renderInput=l()(s=this.renderInput).call(s,this),this.setCustomRange=l()(c=this.setCustomRange).call(c,this),this.setCustomStartEnd=l()(d=this.setCustomStartEnd).call(d,this),this.setTypeCustomRange=l()(p=this.setTypeCustomRange).call(p,this),this.setTypeCustomStartEnd=l()(f=this.setTypeCustomStartEnd).call(f,this),this.toggleCalendar=l()(b=this.toggleCalendar).call(b,this),this.changeTab=l()(m=this.changeTab).call(m,this)}componentDidMount(){document.addEventListener("click",this.handleClick)}componentWillUnmount(){document.removeEventListener("click",this.handleClick)}onEnter(e){"Enter"===e.key&&this.close()}setCustomRange(e,t){const n=u()({},this.state,{[e]:t}),a=[n.rel,n.num,n.grain].join(" ");this.setState(ie(a))}setCustomStartEnd(e,t){const n="since"===e&&"days"===this.state.sinceViewMode||"until"===e&&"days"===this.state.untilViewMode;this.setState({type:W.CUSTOM_START_END,[e]:"string"==typeof t?t:t.format($),showSinceCalendar:this.state.showSinceCalendar&&!n,showUntilCalendar:this.state.showUntilCalendar&&!n,sinceViewMode:n?"days":this.state.sinceViewMode,untilViewMode:n?"days":this.state.untilViewMode})}setTypeCustomRange(){this.setState({type:W.CUSTOM_RANGE})}setTypeCustomStartEnd(){this.setState({type:W.CUSTOM_START_END})}changeTab(){const{tab:e}=this.state;e===K.CUSTOM?this.setState({tab:K.DEFAULTS}):e===K.DEFAULTS&&this.setState({tab:K.CUSTOM})}handleClick(e){const t=e.target;this.startEndSectionRef&&this.startEndSectionRef.contains(t)&&this.setTypeCustomStartEnd(),"popover-trigger"!==t.getAttribute("name")&&this.popoverContainer&&!this.popoverContainer.contains(t)&&this.props.onCloseDateFilterControl()}handleClickTrigger(){this.popoverContainer?this.props.onCloseDateFilterControl():this.props.onOpenDateFilterControl()}close(){let e;e=this.state.type===W.DEFAULTS||this.state.tab===K.DEFAULTS?this.state.common:this.state.type===W.CUSTOM_RANGE?this.state.rel+" "+this.state.num+" "+this.state.grain:[this.state.since,this.state.until].join(" : "),this.props.onCloseDateFilterControl(),this.props.onChange(e),this.refs.trigger.hide(),this.setState({showSinceCalendar:!1,showUntilCalendar:!1})}isValidSince(e){return!oe(this.state.until)||e<=F()(this.state.until,$)}isValidUntil(e){return!oe(this.state.since)||e>=F()(this.state.since,$)}toggleCalendar(e){const t={};"showSinceCalendar"===e?(t.showSinceCalendar=!this.state.showSinceCalendar,this.state.showSinceCalendar||(t.showUntilCalendar=!1)):"showUntilCalendar"===e&&(t.showUntilCalendar=!this.state.showUntilCalendar,this.state.showUntilCalendar||(t.showSinceCalendar=!1)),this.setState(t)}renderInput(e,t){return Object(z.e)(C.a,null,Object(z.e)(x.a,{bsSize:"small"},Object(z.e)(j.a,i()({},e,{type:"text",onKeyPress:this.onEnter,onFocus:this.setTypeCustomStartEnd,onClick:()=>{}})),Object(z.e)(x.a.Button,{onClick:()=>this.toggleCalendar(t)},Object(z.e)(R.a,{theme:this.props.theme},Object(z.e)("i",{className:"fa fa-calendar"})))))}renderPopover(){const e=o()(X).call(X,e=>Object(z.e)(w.a,{onSelect:e=>this.setCustomRange("grain",e),key:e,eventKey:e,active:e===this.state.grain,fullWidth:!1},e)),t=o()(Q).call(Q,e=>{const t=re(e),n=(a=t.since,o=t.until,a+" : "+o);var a,o;return Object(z.e)(se,{theme:this.props.theme,key:e},Object(z.e)(S.a,{key:e,placement:"right",overlay:Object(z.e)(E.a,{id:"tooltip-"+e},H(n,this.props.endpoints))},Object(z.e)("div",{style:{display:"inline-block"}},Object(z.e)(_.a,{key:e.replace(" ","").toLowerCase(),checked:this.state.common===e,onChange:()=>this.setState(t)},e))))});return Object(z.e)(T.a,{id:"filter-popover",placement:"top",positionTop:0},Object(z.e)("div",{style:te,ref:e=>{this.popoverContainer=e}},Object(z.e)(k.a,{defaultActiveKey:this.state.tab===K.DEFAULTS?1:2,id:"type",className:"time-filter-tabs",onSelect:this.changeTab},Object(z.e)(M.a,{eventKey:1,title:"Defaults"},Object(z.e)(C.a,null,t)),Object(z.e)(M.a,{eventKey:2,title:"Custom"},Object(z.e)(C.a,null,Object(z.e)(U.a,{title:"Relative to today",isSelected:this.state.type===W.CUSTOM_RANGE,onSelect:this.setTypeCustomRange},Object(z.e)("div",{className:"clearfix centered",style:{marginTop:"12px"}},Object(z.e)("div",{style:{width:"60px",marginTop:"-4px"},className:"input-inline"},Object(z.e)(A.a,{bsSize:"small",componentClass:x.a.Button,id:"input-dropdown-rel",title:this.state.rel,onFocus:this.setTypeCustomRange},Object(z.e)(w.a,{onSelect:e=>this.setCustomRange("rel",e),key:Y.LAST,eventKey:Y.LAST,active:this.state.rel===Y.LAST},"Last"),Object(z.e)(w.a,{onSelect:e=>this.setCustomRange("rel",e),key:Y.NEXT,eventKey:Y.NEXT,active:this.state.rel===Y.NEXT},"Next"))),Object(z.e)("div",{style:{width:"60px",marginTop:"-4px"},className:"input-inline m-l-5 m-r-3"},Object(z.e)(j.a,{bsSize:"small",type:"text",onChange:e=>this.setCustomRange("num",e.target.value),onFocus:this.setTypeCustomRange,onKeyPress:this.onEnter,value:this.state.num,style:{height:"30px"}})),Object(z.e)("div",{style:{width:"90px",marginTop:"-4px"},className:"input-inline"},Object(z.e)(A.a,{bsSize:"small",componentClass:x.a.Button,id:"input-dropdown-grain",title:this.state.grain,onFocus:this.setTypeCustomRange},e)))),Object(z.e)(U.a,{title:"Start / end",isSelected:this.state.type===W.CUSTOM_START_END,onSelect:this.setTypeCustomStartEnd,info:ee},Object(z.e)("div",{ref:e=>{this.startEndSectionRef=e}},Object(z.e)(x.a,null,Object(z.e)("div",{style:{margin:"5px 0"}},Object(z.e)(N.a,{value:this.state.since,defaultValue:this.state.since,viewDate:this.state.since,onChange:e=>this.setCustomStartEnd("since",e),isValidDate:this.isValidSince,onClick:this.setTypeCustomStartEnd,renderInput:e=>this.renderInput(e,"showSinceCalendar"),open:this.state.showSinceCalendar,viewMode:this.state.sinceViewMode,onViewModeChange:e=>this.setState({sinceViewMode:e})})),Object(z.e)("div",{style:{margin:"5px 0"}},Object(z.e)(N.a,{value:this.state.until,defaultValue:this.state.until,viewDate:this.state.until,onChange:e=>this.setCustomStartEnd("until",e),isValidDate:this.isValidUntil,onClick:this.setTypeCustomStartEnd,renderInput:e=>this.renderInput(e,"showUntilCalendar"),open:this.state.showUntilCalendar,viewMode:this.state.untilViewMode,onViewModeChange:e=>this.setState({untilViewMode:e})})))))))),Object(z.e)("div",{className:"clearfix"},Object(z.e)(R.a,{buttonSize:"small",className:"float-right ok",buttonStyle:"primary",onClick:this.close,theme:this.props.theme},"Ok"))))}render(){const e=this.props.value||ae.value;return Object(z.e)("div",null,Object(z.e)(V.a,this.props),Object(z.e)(S.a,{animation:this.props.animation,container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover(),onClick:this.handleClickTrigger},Object(z.e)(q.a,{name:"popover-trigger",className:"pointer"},H(e,this.props.endpoints))))}}t.a=Object(I.withTheme)(le);le.propTypes=ne,le.defaultProps=ae},2454:function(e,t,n){"use strict";var a=n(2495),o=n(0),r=n(1014),i=n(13),s=n(1),l=n(2748),c=n(2753).default,u=Object.freeze({YEARS:"years",MONTHS:"months",DAYS:"days",TIME:"time"}),d=o,h=r({displayName:"DateTime",propTypes:{onFocus:d.func,onBlur:d.func,onChange:d.func,onViewModeChange:d.func,onNavigateBack:d.func,onNavigateForward:d.func,locale:d.string,utc:d.bool,displayTimeZone:d.string,input:d.bool,inputProps:d.object,timeConstraints:d.object,viewMode:d.oneOf([u.YEARS,u.MONTHS,u.DAYS,u.TIME]),isValidDate:d.func,open:d.bool,strictParsing:d.bool,closeOnSelect:d.bool,closeOnTab:d.bool},getInitialState:function(){this.checkTZ(this.props);var e=this.getStateFromProps(this.props);return void 0===e.open&&(e.open=!this.props.input),e.currentView=this.props.dateFormat?this.props.viewMode||e.updateOn||u.DAYS:u.TIME,e},parseDate:function(e,t){var n;return e&&"string"==typeof e?n=this.localMoment(e,t.datetime):e&&(n=this.localMoment(e)),n&&!n.isValid()&&(n=null),n},getStateFromProps:function(e){var t,n,a,o,r=this.getFormats(e),i=e.value||e.defaultValue;return t=this.parseDate(i,r),n=this.parseDate(e.viewDate,r),n=t?t.clone().startOf("month"):n?n.clone().startOf("month"):this.localMoment().startOf("month"),a=this.getUpdateOn(r),o=t?t.format(r.datetime):i.isValid&&!i.isValid()?"":i||"",{updateOn:a,inputFormat:r.datetime,viewDate:n,selectedDate:t,inputValue:o,open:e.open}},getUpdateOn:function(e){return e.date.match(/[lLD]/)?u.DAYS:-1!==e.date.indexOf("M")?u.MONTHS:-1!==e.date.indexOf("Y")?u.YEARS:u.DAYS},getFormats:function(e){var t={date:e.dateFormat||"",time:e.timeFormat||""},n=this.localMoment(e.date,null,e).localeData();return!0===t.date?t.date=n.longDateFormat("L"):this.getUpdateOn(t)!==u.DAYS&&(t.time=""),!0===t.time&&(t.time=n.longDateFormat("LT")),t.datetime=t.date&&t.time?t.date+" "+t.time:t.date||t.time,t},componentWillReceiveProps:function(e){var t=this.getFormats(e),n={};if(e.value===this.props.value&&t.datetime===this.getFormats(this.props).datetime||(n=this.getStateFromProps(e)),void 0===n.open&&(void 0!==e.open?n.open=e.open:this.props.closeOnSelect&&this.state.currentView!==u.TIME?n.open=!1:n.open=this.state.open),e.viewMode!==this.props.viewMode&&(n.currentView=e.viewMode),e.locale!==this.props.locale){if(this.state.viewDate){var a=this.state.viewDate.clone().locale(e.locale);n.viewDate=a}if(this.state.selectedDate){var o=this.state.selectedDate.clone().locale(e.locale);n.selectedDate=o,n.inputValue=o.format(t.datetime)}}e.utc===this.props.utc&&e.displayTimeZone===this.props.displayTimeZone||(e.utc?(this.state.viewDate&&(n.viewDate=this.state.viewDate.clone().utc()),this.state.selectedDate&&(n.selectedDate=this.state.selectedDate.clone().utc(),n.inputValue=n.selectedDate.format(t.datetime))):e.displayTimeZone?(this.state.viewDate&&(n.viewDate=this.state.viewDate.clone().tz(e.displayTimeZone)),this.state.selectedDate&&(n.selectedDate=this.state.selectedDate.clone().tz(e.displayTimeZone),n.inputValue=n.selectedDate.tz(e.displayTimeZone).format(t.datetime))):(this.state.viewDate&&(n.viewDate=this.state.viewDate.clone().local()),this.state.selectedDate&&(n.selectedDate=this.state.selectedDate.clone().local(),n.inputValue=n.selectedDate.format(t.datetime)))),e.viewDate!==this.props.viewDate&&(n.viewDate=i(e.viewDate)),this.checkTZ(e),this.setState(n)},onInputChange:function(e){var t=null===e.target?e:e.target.value,n=this.localMoment(t,this.state.inputFormat),a={inputValue:t};return n.isValid()&&!this.props.value?(a.selectedDate=n,a.viewDate=n.clone().startOf("month")):a.selectedDate=null,this.setState(a,(function(){return this.props.onChange(n.isValid()?n:this.state.inputValue)}))},onInputKey:function(e){9===e.which&&this.props.closeOnTab&&this.closeCalendar()},showView:function(e){var t=this;return function(){t.state.currentView!==e&&t.props.onViewModeChange(e),t.setState({currentView:e})}},setDate:function(e){var t=this,n={month:u.DAYS,year:u.MONTHS};return function(a){t.setState({viewDate:t.state.viewDate.clone()[e](parseInt(a.target.getAttribute("data-value"),10)).startOf(e),currentView:n[e]}),t.props.onViewModeChange(n[e])}},subtractTime:function(e,t,n){var a=this;return function(){a.props.onNavigateBack(e,t),a.updateTime("subtract",e,t,n)}},addTime:function(e,t,n){var a=this;return function(){a.props.onNavigateForward(e,t),a.updateTime("add",e,t,n)}},updateTime:function(e,t,n,a){var o={},r=a?"selectedDate":"viewDate";o[r]=this.state[r].clone()[e](t,n),this.setState(o)},allowedSetTime:["hours","minutes","seconds","milliseconds"],setTime:function(e,t){var n,a=this.allowedSetTime.indexOf(e)+1,o=this.state,r=(o.selectedDate||o.viewDate).clone();for(r[e](t);a<this.allowedSetTime.length;a++)r[n=this.allowedSetTime[a]](r[n]());this.props.value||this.setState({selectedDate:r,inputValue:r.format(o.inputFormat)}),this.props.onChange(r)},updateSelectedDate:function(e,t){var n,a=e.currentTarget,o=0,r=this.state.viewDate,i=this.state.selectedDate||r;if(-1!==a.className.indexOf("rdtDay")?(-1!==a.className.indexOf("rdtNew")?o=1:-1!==a.className.indexOf("rdtOld")&&(o=-1),n=r.clone().month(r.month()+o).date(parseInt(a.getAttribute("data-value"),10))):-1!==a.className.indexOf("rdtMonth")?n=r.clone().month(parseInt(a.getAttribute("data-value"),10)).date(i.date()):-1!==a.className.indexOf("rdtYear")&&(n=r.clone().month(i.month()).date(i.date()).year(parseInt(a.getAttribute("data-value"),10))),n.hours(i.hours()).minutes(i.minutes()).seconds(i.seconds()).milliseconds(i.milliseconds()),this.props.value)this.props.closeOnSelect&&t&&this.closeCalendar();else{var s=!(this.props.closeOnSelect&&t);s||this.props.onBlur(n),this.setState({selectedDate:n,viewDate:n.clone().startOf("month"),inputValue:n.format(this.state.inputFormat),open:s})}this.props.onChange(n)},openCalendar:function(e){this.state.open||this.setState({open:!0},(function(){this.props.onFocus(e)}))},closeCalendar:function(){this.setState({open:!1},(function(){this.props.onBlur(this.state.selectedDate||this.state.inputValue)}))},handleClickOutside:function(){this.props.input&&this.state.open&&void 0===this.props.open&&!this.props.disableCloseOnClickOutside&&this.setState({open:!1},(function(){this.props.onBlur(this.state.selectedDate||this.state.inputValue)}))},localMoment:function(e,t,n){var a=null;return a=(n=n||this.props).utc?i.utc(e,t,n.strictParsing):n.displayTimeZone?i.tz(e,t,n.displayTimeZone):i(e,t,n.strictParsing),n.locale&&a.locale(n.locale),a},checkTZ:function(e){var t=console;!e.displayTimeZone||this.tzWarning||i.tz||(this.tzWarning=!0,t&&t.error('react-datetime: displayTimeZone prop with value "'+e.displayTimeZone+'" is used but moment.js timezone is not loaded.'))},componentProps:{fromProps:["value","isValidDate","renderDay","renderMonth","renderYear","timeConstraints"],fromState:["viewDate","selectedDate","updateOn"],fromThis:["setDate","setTime","showView","addTime","subtractTime","updateSelectedDate","localMoment","handleClickOutside"]},getComponentProps:function(){var e=this,t=this.getFormats(this.props),n={dateFormat:t.date,timeFormat:t.time};return this.componentProps.fromProps.forEach((function(t){n[t]=e.props[t]})),this.componentProps.fromState.forEach((function(t){n[t]=e.state[t]})),this.componentProps.fromThis.forEach((function(t){n[t]=e[t]})),n},overrideEvent:function(e,t){if(this.overridenEvents||(this.overridenEvents={}),!this.overridenEvents[e]){var n=this;this.overridenEvents[e]=function(a){var o;n.props.inputProps&&n.props.inputProps[e]&&(o=n.props.inputProps[e](a)),!1!==o&&t(a)}}return this.overridenEvents[e]},render:function(){var e="rdt"+(this.props.className?Array.isArray(this.props.className)?" "+this.props.className.join(" "):" "+this.props.className:""),t=[];if(this.props.input){var n=a({type:"text",className:"form-control",value:this.state.inputValue},this.props.inputProps,{onClick:this.overrideEvent("onClick",this.openCalendar),onFocus:this.overrideEvent("onFocus",this.openCalendar),onChange:this.overrideEvent("onChange",this.onInputChange),onKeyDown:this.overrideEvent("onKeyDown",this.onInputKey)});t=this.props.renderInput?[s.createElement("div",{key:"i"},this.props.renderInput(n,this.openCalendar,this.closeCalendar))]:[s.createElement("input",a({key:"i"},n))]}else e+=" rdtStatic";return(this.props.open||void 0===this.props.open&&this.state.open)&&(e+=" rdtOpen"),s.createElement(p,{className:e,onClickOut:this.handleClickOutside},t.concat(s.createElement("div",{key:"dt",className:"rdtPicker"},s.createElement(l,{view:this.state.currentView,viewProps:this.getComponentProps()}))))}}),p=c(r({render:function(){return s.createElement("div",{className:this.props.className},this.props.children)},handleClickOutside:function(e){this.props.onClickOut(e)}}));h.defaultProps={className:"",defaultValue:"",inputProps:{},input:!0,onFocus:function(){},onBlur:function(){},onChange:function(){},onViewModeChange:function(){},onNavigateBack:function(){},onNavigateForward:function(){},timeFormat:!0,timeConstraints:{},dateFormat:!0,strictParsing:!0,closeOnSelect:!1,closeOnTab:!0,utc:!1},h.moment=i,e.exports=h},247:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(10),o=n.n(a),r=n(1),i=n.n(r),s=n(0),l=n.n(s),c=n(131),u=n(441),d=n(46),h=n(2);const p={dialogClassName:l.a.string,animation:l.a.bool,triggerNode:l.a.node.isRequired,modalTitle:l.a.node,modalBody:l.a.node,modalFooter:l.a.node,beforeOpen:l.a.func,onExit:l.a.func,isButton:l.a.bool,isMenuItem:l.a.bool,bsSize:l.a.oneOf(["large","small"]),className:l.a.string,tooltip:l.a.string,backdrop:l.a.oneOf(["static",!0,!1])};class f extends i.a.Component{constructor(e){var t,n;super(e),this.state={showModal:!1},this.open=o()(t=this.open).call(t,this),this.close=o()(n=this.close).call(n,this)}close(){this.setState(()=>({showModal:!1}))}open(e){e.preventDefault(),this.props.beforeOpen(),this.setState(()=>({showModal:!0}))}renderModal(){return Object(h.e)(c.a,{dialogClassName:this.props.dialogClassName,animation:this.props.animation,show:this.state.showModal,onHide:this.close,onExit:this.props.onExit,bsSize:this.props.bsSize,className:this.props.className,backdrop:this.props.backdrop},this.props.modalTitle&&Object(h.e)(c.a.Header,{closeButton:!0},Object(h.e)(c.a.Title,null,this.props.modalTitle)),Object(h.e)(c.a.Body,null,this.props.modalBody),this.props.modalFooter&&Object(h.e)(c.a.Footer,null,this.props.modalFooter))}render(){return this.props.isButton?Object(h.e)(i.a.Fragment,null,Object(h.e)(d.a,{className:"modal-trigger",tooltip:this.props.tooltip,onClick:this.open},this.props.triggerNode),this.renderModal()):this.props.isMenuItem?Object(h.e)(i.a.Fragment,null,Object(h.e)(u.a,{onClick:this.open},this.props.triggerNode),this.renderModal()):Object(h.e)(i.a.Fragment,null,Object(h.e)("span",{onClick:this.open,role:"button"},this.props.triggerNode),this.renderModal())}}f.propTypes=p,f.defaultProps={animation:!0,beforeOpen:()=>{},onExit:()=>{},isButton:!1,isMenuItem:!1,bsSize:null,className:"",modalTitle:""}},2477:function(e,t,n){"use strict";var a=n(16),o=n.n(a),r=(n(1),n(0)),i=n.n(r),s=n(2);const l={controls:i.a.arrayOf(i.a.object).isRequired};function c(e){var t;const n=12/e.controls.length;return Object(s.e)("div",{className:"row space-1"},o()(t=e.controls).call(t,(e,t)=>Object(s.e)("div",{className:"col-lg-"+n+" col-xs-12",key:t},e)))}c.propTypes=l,t.a=c},2478:function(e,t,n){"use strict";n.d(t,"a",(function(){return _a}));var a=n(53),o=n.n(a),r=n(10),i=n.n(r),s=n(57),l=n.n(s),c=n(1),u=n.n(c),d=n(0),h=n.n(d),p=(n(2671),n(16)),f=n.n(p),b=n(39),m=n.n(b),g=n(79),v=n.n(g),y=n(459),O=n.n(y),C=n(76),x=n.n(C),j=n(458),w=n(165),S=n(388),E=n(971),_=n(122),T=n(3),k=n(25),M=n(36),A=n(240),R=n(203),D=n(9),N=n.n(D),P=n(140),F=n.n(P),L=n(30),I=n.n(L),B=n(1386),H=n.n(B),q=n(59),V=n.n(q),U=n(1639),z=n(46),G=n(1316),W=n.n(G),K=n(34),Y=n(73),Q=n(19),X=n(48),$=n(221),Z=n(120),J=n(269),ee=n(201),te=n(329),ne=n(98),ae=(n(2740),n(2));const oe={name:h.a.string,annotationType:h.a.string,sourceType:h.a.string,color:h.a.string,opacity:h.a.string,style:h.a.string,width:h.a.number,showMarkers:h.a.bool,hideLine:h.a.bool,value:h.a.oneOfType([h.a.string,h.a.number]),overrides:h.a.object,show:h.a.bool,titleColumn:h.a.string,descriptionColumns:h.a.arrayOf(h.a.string),timeColumn:h.a.string,intervalEndColumn:h.a.string,vizType:h.a.string,theme:h.a.object,error:h.a.string,colorScheme:h.a.string,addAnnotationLayer:h.a.func,removeAnnotationLayer:h.a.func,close:h.a.func},re={name:"",annotationType:ee.d,sourceType:"",color:"",opacity:"",style:"solid",width:1,showMarkers:!1,hideLine:!1,overrides:{},colorScheme:"d3Category10",show:!0,titleColumn:"",descriptionColumns:[],timeColumn:"",intervalEndColumn:"",addAnnotationLayer:()=>{},removeAnnotationLayer:()=>{},close:()=>{}};class ie extends u.a.PureComponent{constructor(e){var t,n,a,o,r,s,c,u;super(e);const{name:d,annotationType:h,sourceType:p,color:f,opacity:b,style:m,width:g,showMarkers:v,hideLine:y,value:O,overrides:C,show:x,titleColumn:j,descriptionColumns:w,timeColumn:S,intervalEndColumn:E}=e,_=l()(C);(V()(_).call(_,"since")||V()(_).call(_,"until"))&&(C.time_range=null,delete C.since,delete C.until),this.state={name:d,oldName:this.props.name?d:null,annotationType:h,sourceType:p,value:O,overrides:C,show:x,titleColumn:j,descriptionColumns:w,timeColumn:S,intervalEndColumn:E,color:f||"",opacity:b,style:m,width:g,showMarkers:v,hideLine:y,isNew:!this.props.name,isLoadingOptions:!0,valueOptions:[],validationErrors:{}},this.submitAnnotation=i()(t=this.submitAnnotation).call(t,this),this.deleteAnnotation=i()(n=this.deleteAnnotation).call(n,this),this.applyAnnotation=i()(a=this.applyAnnotation).call(a,this),this.fetchOptions=i()(o=this.fetchOptions).call(o,this),this.handleAnnotationType=i()(r=this.handleAnnotationType).call(r,this),this.handleAnnotationSourceType=i()(s=this.handleAnnotationSourceType).call(s,this),this.handleValue=i()(c=this.handleValue).call(c,this),this.isValidForm=i()(u=this.isValidForm).call(u,this)}componentDidMount(){const{annotationType:e,sourceType:t,isLoadingOptions:n}=this.state;this.fetchOptions(e,t,n)}componentDidUpdate(e,t){t.sourceType!==this.state.sourceType&&this.fetchOptions(this.state.annotationType,this.state.sourceType,!0)}getSupportedSourceTypes(e){var t,n,a;const o=f()(t=m()(n=H()(a=Object(Q.getChartMetadataRegistry)()).call(a)).call(n,({value:t})=>t.canBeAnnotationType(e))).call(t,({key:e,value:t})=>({value:e,label:t.name}));return ee.c[e].supportNativeSource&&o.unshift(ee.b.NATIVE),o}isValidFormula(e,t){if(t===ee.e.FORMULA)try{W.a.parse(e).compile().eval({x:0})}catch(e){return!0}return!1}isValidForm(){const{name:e,annotationType:t,sourceType:n,value:a,timeColumn:o,intervalEndColumn:r}=this.state,i=[Object(X.validateNonEmpty)(e),Object(X.validateNonEmpty)(t),Object(X.validateNonEmpty)(a)];return n!==ee.a.NATIVE&&(t===ee.e.EVENT&&i.push(Object(X.validateNonEmpty)(o)),t===ee.e.INTERVAL&&(i.push(Object(X.validateNonEmpty)(o)),i.push(Object(X.validateNonEmpty)(r)))),i.push(this.isValidFormula(a,t)),!m()(i).call(i,e=>e).length}handleAnnotationType(e){this.setState({annotationType:e,sourceType:null,validationErrors:{},value:null})}handleAnnotationSourceType(e){const{sourceType:t}=this.state;t!==e&&this.setState({sourceType:e,isLoadingOptions:!0,validationErrors:{},value:null})}handleValue(e){this.setState({value:e,descriptionColumns:null,intervalEndColumn:null,timeColumn:null,titleColumn:null,overrides:{time_range:null}})}fetchOptions(e,t,n){!0===n&&(t===ee.a.NATIVE?K.SupersetClient.get({endpoint:"/annotationlayermodelview/api/read?"}).then(({json:e})=>{var t;const n=e?f()(t=e.result).call(t,e=>({value:e.id,label:e.name})):[];this.setState({isLoadingOptions:!1,valueOptions:n})}):Object(ee.f)(t)?K.SupersetClient.get({endpoint:"/superset/user_slices"}).then(({json:t})=>{var n;const a=Object(Q.getChartMetadataRegistry)();this.setState({isLoadingOptions:!1,valueOptions:f()(n=m()(t).call(t,t=>{const n=a.get(t.viz_type);return n&&n.canBeAnnotationType(e)})).call(n,e=>({value:e.id,label:e.title,slice:e}))})}):this.setState({isLoadingOptions:!1,valueOptions:[]}))}deleteAnnotation(){this.props.close(),this.state.isNew||this.props.removeAnnotationLayer(this.state)}applyAnnotation(){if(this.state.name.length){var e;const t={};I()(e=l()(this.state)).call(e,e=>{null!==this.state[e]&&(t[e]=this.state[e])}),delete t.isNew,delete t.valueOptions,delete t.isLoadingOptions,delete t.validationErrors,t.color=""===t.color?null:t.color,this.props.addAnnotationLayer(t),this.setState({isNew:!1,oldName:this.state.name})}}submitAnnotation(){this.applyAnnotation(),this.props.close()}renderOption(e){return Object(ae.e)("span",{className:"optionWrapper",title:e.label},e.label)}renderValueConfiguration(){const{annotationType:e,sourceType:t,value:n,valueOptions:a,isLoadingOptions:o}=this.state;let r="",i="";var s;Object(ee.f)(t)?t===ee.a.NATIVE?(r="Annotation Layer",i="Select the Annotation Layer you would like to use."):(r=r=Object(T.t)("Chart"),i="Use a pre defined Superset Chart as a source for annotations and overlays.\n        your chart must be one of these visualization types:\n        ["+f()(s=this.getSupportedSourceTypes(e)).call(s,e=>e.label).join(", ")+"]"):e===ee.e.FORMULA&&(r="Formula",i="Expects a formula with depending time parameter 'x'\n        in milliseconds since epoch. mathjs is used to evaluate the formulas.\n        Example: '2x+5'");return Object(ee.f)(t)?Object(ae.e)($.a,{name:"annotation-layer-value",showHeader:!0,hovered:!0,description:i,label:r,placeholder:"",options:a,isLoading:o,value:n,onChange:this.handleValue,validationErrors:n?[]:["Mandatory"],optionRenderer:this.renderOption}):e===ee.e.FORMULA?Object(ae.e)(Z.a,{name:"annotation-layer-value",hovered:!0,showHeader:!0,description:i,label:r,placeholder:"",value:n,onChange:this.handleValue,validationErrors:this.isValidFormula(n,e)?["Bad formula."]:[]}):""}renderSliceConfiguration(){const{annotationType:e,sourceType:t,value:n,valueOptions:a,overrides:o,titleColumn:r,timeColumn:i,intervalEndColumn:s,descriptionColumns:c}=this.state,u=x()(F()(a).call(a,e=>e.value===n)||{});if(t!==ee.a.NATIVE&&u){var d,h,p,b,m,g;const t=f()(d=v()(h=u.data.groupby||[]).call(h,u.data.all_columns||[])).call(d,e=>({value:e,label:e})),n=u.data.include_time?v()(p=[{value:"__timestamp",label:"__timestamp"}]).call(p,t):t;return Object(ae.e)("div",{style:{marginRight:"2rem"}},Object(ae.e)(te.a,{isSelected:!0,onSelect:()=>{},title:"Annotation Slice Configuration",info:"This section allows you to configure how to use the slice\n               to generate annotations."},(e===ee.e.EVENT||e===ee.e.INTERVAL)&&Object(ae.e)($.a,{hovered:!0,name:"annotation-layer-time-column",label:e===ee.e.INTERVAL?"Interval Start column":"Event Time Column",description:"This column must contain date/time information.",validationErrors:i?[]:["Mandatory"],clearable:!1,options:n,value:i,onChange:e=>this.setState({timeColumn:e})}),e===ee.e.INTERVAL&&Object(ae.e)($.a,{hovered:!0,name:"annotation-layer-intervalEnd",label:"Interval End column",description:"This column must contain date/time information.",validationErrors:s?[]:["Mandatory"],options:t,value:s,onChange:e=>this.setState({intervalEndColumn:e})}),Object(ae.e)($.a,{hovered:!0,name:"annotation-layer-title",label:"Title Column",description:"Pick a title for you annotation.",options:v()(b=[{value:"",label:"None"}]).call(b,t),value:r,onChange:e=>this.setState({titleColumn:e})}),e!==ee.e.TIME_SERIES&&Object(ae.e)($.a,{hovered:!0,name:"annotation-layer-title",label:"Description Columns",description:"Pick one or more columns that should be shown in the\n                  annotation. If you don't select a column all of them will be shown.",multi:!0,options:t,value:c,onChange:e=>this.setState({descriptionColumns:e})}),Object(ae.e)("div",{style:{marginTop:"1rem"}},Object(ae.e)(J.a,{hovered:!0,name:"annotation-override-time_range",label:"Override time range",description:'This controls whether the "time_range" field from the current\n                  view should be passed down to the chart containing the annotation data.',value:!!F()(m=l()(o)).call(m,e=>"time_range"===e),onChange:e=>{delete o.time_range,e?this.setState({overrides:N()({},o,{time_range:null})}):this.setState({overrides:N()({},o)})}}),Object(ae.e)(J.a,{hovered:!0,name:"annotation-override-timegrain",label:"Override time grain",description:"This controls whether the time grain field from the current\n                  view should be passed down to the chart containing the annotation data.",value:!!F()(g=l()(o)).call(g,e=>"time_grain_sqla"===e),onChange:e=>{delete o.time_grain_sqla,delete o.granularity,e?this.setState({overrides:N()({},o,{time_grain_sqla:null,granularity:null})}):this.setState({overrides:N()({},o)})}}),Object(ae.e)(Z.a,{hovered:!0,name:"annotation-layer-timeshift",label:"Time Shift",description:"Time delta in natural language\n                  (example:  24 hours, 7 days, 56 weeks, 365 days)",placeholder:"",value:o.time_shift,onChange:e=>this.setState({overrides:N()({},o,{time_shift:e})})}))))}return""}renderDisplayConfiguration(){var e;const{color:t,opacity:n,style:a,width:o,showMarkers:r,hideLine:i,annotationType:s}=this.state,l=v()(e=Object(Y.getCategoricalSchemeRegistry)().get(this.props.colorScheme).colors).call(e);return t&&""!==t&&!F()(l).call(l,e=>e.toLowerCase()===t.toLowerCase())&&l.push(t),Object(ae.e)(te.a,{isSelected:!0,onSelect:()=>{},title:Object(T.t)("Display configuration"),info:Object(T.t)("Configure your how you overlay is displayed here.")},Object(ae.e)($.a,{name:"annotation-layer-stroke",label:Object(T.t)("Style"),options:[{value:"solid",label:"Solid"},{value:"dashed",label:"Dashed"},{value:"longDashed",label:"Long Dashed"},{value:"dotted",label:"Dotted"}],value:a,onChange:e=>this.setState({style:e})}),Object(ae.e)($.a,{name:"annotation-layer-opacity",label:Object(T.t)("Opacity"),options:[{value:"",label:"Solid"},{value:"opacityLow",label:"0.2"},{value:"opacityMedium",label:"0.5"},{value:"opacityHigh",label:"0.8"}],value:n,onChange:e=>this.setState({opacity:e})}),Object(ae.e)("div",null,Object(ae.e)(ne.a,{label:Object(T.t)("Color")}),Object(ae.e)("div",{style:{display:"flex",flexDirection:"column"}},Object(ae.e)(U.CompactPicker,{color:t,colors:l,onChangeComplete:e=>this.setState({color:e.hex})}),Object(ae.e)(z.a,{style:{marginTop:"0.5rem",marginBottom:"0.5rem"},buttonStyle:""===t?"success":"default",buttonSize:"xsmall",onClick:()=>this.setState({color:""})},"Automatic Color"))),Object(ae.e)(Z.a,{name:"annotation-layer-stroke-width",label:Object(T.t)("Line Width"),isInt:!0,value:o,onChange:e=>this.setState({width:e})}),s===ee.e.TIME_SERIES&&Object(ae.e)(J.a,{hovered:!0,name:"annotation-layer-show-markers",label:"Show Markers",description:"Shows or hides markers for the time series",value:r,onChange:e=>this.setState({showMarkers:e})}),s===ee.e.TIME_SERIES&&Object(ae.e)(J.a,{hovered:!0,name:"annotation-layer-hide-line",label:"Hide Line",description:"Hides the Line for the time series",value:i,onChange:e=>this.setState({hideLine:e})}))}render(){var e;const{isNew:t,name:n,annotationType:a,sourceType:o,show:r}=this.state,i=this.isValidForm(),{theme:s}=this.props,l=Object(Q.getChartMetadataRegistry)().get(this.props.vizType),c=l?f()(e=l.supportedAnnotationTypes).call(e,e=>ee.c[e]):[],u=this.getSupportedSourceTypes(a);return Object(ae.e)(k.ThemeProvider,{theme:s},this.props.error&&Object(ae.e)("span",{style:{color:"red"}},"ERROR: ",this.props.error),Object(ae.e)("div",{style:{display:"flex",flexDirection:"row"}},Object(ae.e)("div",{style:{marginRight:"2rem"}},Object(ae.e)(te.a,{isSelected:!0,onSelect:()=>{},title:Object(T.t)("Layer Configuration"),info:Object(T.t)("Configure the basics of your Annotation Layer.")},Object(ae.e)(Z.a,{name:"annotation-layer-name",label:Object(T.t)("Name"),placeholder:"",value:n,onChange:e=>this.setState({name:e}),validationErrors:n?[]:[Object(T.t)("Mandatory")]}),Object(ae.e)(J.a,{name:"annotation-layer-hide",label:Object(T.t)("Hide Layer"),value:!r,onChange:e=>this.setState({show:!e})}),Object(ae.e)($.a,{hovered:!0,description:Object(T.t)("Choose the Annotation Layer Type"),label:Object(T.t)("Annotation Layer Type"),name:"annotation-layer-type",options:c,value:a,onChange:this.handleAnnotationType}),!!u.length&&Object(ae.e)($.a,{hovered:!0,description:"Choose the source of your annotations",label:"Annotation Source",name:"annotation-source-type",options:u,value:o,onChange:this.handleAnnotationSourceType}),this.renderValueConfiguration())),this.renderSliceConfiguration(),this.renderDisplayConfiguration()),Object(ae.e)("div",{style:{display:"flex",justifyContent:"space-between"}},Object(ae.e)(z.a,{buttonSize:"sm",onClick:this.deleteAnnotation},t?Object(T.t)("Cancel"):Object(T.t)("Remove")),Object(ae.e)("div",null,Object(ae.e)(z.a,{buttonSize:"sm",disabled:!i,onClick:this.applyAnnotation},Object(T.t)("Apply")),Object(ae.e)(z.a,{buttonSize:"sm",disabled:!i,onClick:this.submitAnnotation},Object(T.t)("OK")))))}}ie.propTypes=oe,ie.defaultProps=re;const se={colorScheme:h.a.string.isRequired,annotationError:h.a.object,annotationQuery:h.a.object,vizType:h.a.string,validationErrors:h.a.array,name:h.a.string.isRequired,actions:h.a.object,value:h.a.arrayOf(h.a.object),onChange:h.a.func,refreshAnnotationData:h.a.func};class le extends u.a.PureComponent{constructor(e){var t,n;super(e),this.addAnnotationLayer=i()(t=this.addAnnotationLayer).call(t,this),this.removeAnnotationLayer=i()(n=this.removeAnnotationLayer).call(n,this)}UNSAFE_componentWillReceiveProps(e){const{name:t,annotationError:n,validationErrors:a,value:o}=e;l()(n).length&&!a.length&&this.props.actions.setControlValue(t,o,l()(n)),!l()(n).length&&a.length&&this.props.actions.setControlValue(t,o,[])}addAnnotationLayer(e){var t;const n=e;let a=x()(t=this.props.value).call(t);const o=O()(a).call(a,e=>e.name===(n.oldName||n.name));delete n.oldName,o>-1?a[o]=n:a=v()(a).call(a,n),this.props.refreshAnnotationData(n),this.props.onChange(a)}removeAnnotationLayer(e){var t,n;const a=m()(t=x()(n=this.props.value).call(n)).call(t,t=>t.name!==e.oldName);this.props.onChange(a)}renderPopover(e,t,n){const a=t?t.name:"_new",{theme:r}=this.props;return Object(ae.e)(j.a,{style:{maxWidth:"none"},title:t?Object(T.t)("Edit Annotation Layer"):Object(T.t)("Add Annotation Layer"),id:"annotation-pop-"+a},Object(ae.e)(ie,o()({},t,{error:n,colorScheme:this.props.colorScheme,vizType:this.props.vizType,addAnnotationLayer:this.addAnnotationLayer,removeAnnotationLayer:this.removeAnnotationLayer,close:()=>this.refs[e].hide(),theme:r})))}renderInfo(e){const{annotationError:t,annotationQuery:n}=this.props;return n[e.name]?Object(ae.e)("i",{className:"fa fa-refresh",style:{color:"orange"},"aria-hidden":!0}):t[e.name]?Object(ae.e)(M.InfoTooltipWithTrigger,{label:"validation-errors",bsStyle:"danger",tooltip:t[e.name]}):e.show?"":Object(ae.e)("span",{style:{color:"red"}}," Hidden ")}render(){var e;const t=f()(e=this.props.value).call(e,(e,t)=>Object(ae.e)(w.a,{key:t,trigger:"click",rootClose:!0,ref:"overlay-"+t,placement:"right",overlay:this.renderPopover("overlay-"+t,e,this.props.annotationError[e.name])},Object(ae.e)(S.a,null,Object(ae.e)("span",null,e.name),Object(ae.e)("span",{style:{float:"right"}},this.renderInfo(e)))));return Object(ae.e)("div",null,Object(ae.e)(E.a,null,t,Object(ae.e)(w.a,{trigger:"click",rootClose:!0,ref:"overlay-new",placement:"right",overlay:this.renderPopover("overlay-new")},Object(ae.e)(S.a,null,Object(ae.e)("i",{className:"fa fa-plus"}),"   ",Object(T.t)("Add Annotation Layer")))))}}le.propTypes=se,le.defaultProps={vizType:"",value:[],annotationError:{},annotationQuery:{},onChange:()=>{}};const ce=Object(k.withTheme)(le);var ue=Object(_.b)((function({charts:e,explore:t}){const n=e[Object(A.f)(t)]||e[0]||{};return{colorScheme:(t.controls||{}).color_scheme.value,annotationError:n.annotationError,annotationQuery:n.annotationQuery,vizType:t.controls.viz_type.value}}),(function(e){return{refreshAnnotationData:t=>e(Object(R.runAnnotationQuery)(t))}}))(ce),de=n(532),he=n.n(de),pe=n(391),fe=n(389),be=n(275),me=n(376);const ge={onChange:h.a.func,value:h.a.array};class ve extends u.a.Component{constructor(e){var t,n,a;super(e),this.state={minMax:[null===e.value[0]?"":e.value[0],null===e.value[1]?"":e.value[1]]},this.onChange=i()(t=this.onChange).call(t,this),this.onMinChange=i()(n=this.onMinChange).call(n,this),this.onMaxChange=i()(a=this.onMaxChange).call(a,this)}onMinChange(e){this.setState({minMax:[e.target.value,this.state.minMax[1]]},this.onChange)}onMaxChange(e){this.setState({minMax:[this.state.minMax[0],e.target.value]},this.onChange)}onChange(){const e=this.state.minMax,t=[];e[0]&&isNaN(e[0])&&t.push(Object(T.t)("`Min` value should be numeric or empty")),e[1]&&isNaN(e[1])&&t.push(Object(T.t)("`Max` value should be numeric or empty")),0===t.length?this.props.onChange([he()(e[0]),he()(e[1])],t):this.props.onChange([null,null],t)}render(){return Object(ae.e)("div",null,Object(ae.e)(ne.a,this.props),Object(ae.e)(pe.a,{bsSize:"small"},Object(ae.e)(fe.a,null,Object(ae.e)(be.a,{xs:6},Object(ae.e)(me.a,{type:"text",placeholder:Object(T.t)("Min"),onChange:this.onMinChange,value:this.state.minMax[0]})),Object(ae.e)(be.a,{xs:6},Object(ae.e)(me.a,{type:"text",placeholder:Object(T.t)("Max"),onChange:this.onMaxChange,value:this.state.minMax[1]})))))}}ve.propTypes=ge,ve.defaultProps={onChange:()=>{},value:[null,null]};var ye=n(115),Oe=n.n(ye),Ce=n(123),xe=n.n(Ce),je=n(393);n(2741);const we={name:h.a.string.isRequired,label:h.a.string,description:h.a.string,placeholder:h.a.string,addTooltip:h.a.string,itemGenerator:h.a.func,keyAccessor:h.a.func,onChange:h.a.func,value:h.a.oneOfType([h.a.array]),isFloat:h.a.bool,isInt:h.a.bool,controlName:h.a.string.isRequired},Se={label:null,description:null,onChange:()=>{},placeholder:"Empty collection",itemGenerator:()=>({key:xe.a.generate()}),keyAccessor:e=>e.key,value:[],addTooltip:"Add an item"},Ee=Object(je.b)(S.a),_e=Object(je.a)(E.a),Te=Object(je.c)(()=>Object(ae.e)("i",{className:"fa fa-bars text-primary",style:{cursor:"ns-resize"}}));class ke extends u.a.Component{constructor(e){var t;super(e),this.onAdd=i()(t=this.onAdd).call(t,this)}onChange(e,t){N()(this.props.value[e],t),this.props.onChange(this.props.value)}onAdd(){var e;this.props.onChange(v()(e=this.props.value).call(e,[this.props.itemGenerator()]))}onSortEnd({oldIndex:e,newIndex:t}){this.props.onChange(Object(je.d)(this.props.value,e,t))}removeItem(e){var t;this.props.onChange(m()(t=this.props.value).call(t,(t,n)=>e!==n))}renderList(){var e,t;if(0===this.props.value.length)return Object(ae.e)("div",{className:"text-muted"},this.props.placeholder);const n=wa[this.props.controlName];return Object(ae.e)(_e,{useDragHandle:!0,lockAxis:"y",onSortEnd:i()(e=this.onSortEnd).call(e,this)},f()(t=this.props.value).call(t,(e,t)=>{var a,r;const s=this.props,l=Oe()(s,["label"]);return Object(ae.e)(Ee,{className:"clearfix",key:this.props.keyAccessor(e),index:t},Object(ae.e)("div",{className:"pull-left m-r-5"},Object(ae.e)(Te,null)),Object(ae.e)("div",{className:"pull-left"},Object(ae.e)(n,o()({},l,e,{onChange:i()(a=this.onChange).call(a,this,t)}))),Object(ae.e)("div",{className:"pull-right"},Object(ae.e)(M.InfoTooltipWithTrigger,{icon:"times",label:"remove-item",tooltip:"remove item",bsStyle:"primary",onClick:i()(r=this.removeItem).call(r,this,t)})))}))}render(){return Object(ae.e)("div",{className:"CollectionControl"},Object(ae.e)(ne.a,this.props),this.renderList(),Object(ae.e)(M.InfoTooltipWithTrigger,{icon:"plus-circle",label:"add-item",tooltip:this.props.addTooltip,bsStyle:"primary",className:"fa-lg",onClick:this.onAdd}))}}ke.propTypes=we,ke.defaultProps=Se;const Me={onChange:h.a.func,value:h.a.object,colorScheme:h.a.string,colorNamespace:h.a.string},Ae={onChange:()=>{},value:{},colorScheme:void 0,colorNamespace:void 0};class Re extends u.a.PureComponent{constructor(e){var t;super(e),I()(t=l()(this.props.value)).call(t,e=>{Y.CategoricalColorNamespace.getScale(this.props.colorScheme,this.props.colorNamespace).setColor(e,this.props.value[e])})}render(){return null}}Re.propTypes=Me,Re.defaultProps=Ae;const De={onChange:h.a.func,value:h.a.object},Ne={position:"absolute",width:"50px",height:"20px",top:"0px",left:"0px",right:"0px",bottom:"0px"},Pe={swatch:{width:"50px",height:"20px",position:"relative",padding:"5px",borderRadius:"1px",display:"inline-block",cursor:"pointer",boxShadow:"rgba(0, 0, 0, 0.15) 0px 0px 0px 1px inset, rgba(0, 0, 0, 0.25) 0px 0px 4px inset"},color:N()({},Ne,{borderRadius:"2px"}),checkboard:N()({},Ne,{background:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==") left center'})};class Fe extends u.a.Component{constructor(e){var t;super(e),this.onChange=i()(t=this.onChange).call(t,this)}onChange(e){this.props.onChange(e.rgb)}renderPopover(){var e;const t=m()(e=Object(Y.getCategoricalSchemeRegistry)().get().colors).call(e,(e,t)=>t<7);return Object(ae.e)(j.a,{id:"filter-popover",className:"color-popover"},Object(ae.e)(U.SketchPicker,{color:this.props.value,onChange:this.onChange,presetColors:t}))}render(){const e=this.props.value||{r:0,g:0,b:0,a:0},t=N()({},Pe.color,{background:"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"});return Object(ae.e)("div",null,Object(ae.e)(ne.a,this.props),Object(ae.e)(w.a,{container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},Object(ae.e)("div",{style:Pe.swatch},Object(ae.e)("div",{style:Pe.checkboard}),Object(ae.e)("div",{style:t}))))}}Fe.propTypes=De,Fe.defaultProps={onChange:()=>{}};var Le=n(1385),Ie=n(974),Be=n(968),He=n(441),qe=n(251),Ve=n(273),Ue=n(134),ze=n(1650),Ge=(n(93),n(330)),We=n(131),Ke=n(967),Ye=n(114),Qe=n(304),Xe=n(143);const $e=["name","type","schema","connection","creator"],Ze=["rawName","type","schema","connection","creator"],Je=Object(T.t)("Changing the datasource may break the chart if the chart relies on columns or metadata that does not exist in the target datasource");var et=Object(Xe.a)(({addDangerToast:e,onChange:t,onDatasourceSave:n,onHide:a,show:o})=>{const[r,i]=Object(c.useState)(null),[s,l]=Object(c.useState)(void 0),[u,d]=Object(c.useState)(!0);let h=Object(c.useRef)(null);return Object(ae.e)(We.a,{show:o,onHide:a,onEnter:()=>{h&&h.current&&h.current.focus(),r||K.SupersetClient.get({endpoint:"/superset/datasources/"}).then(({json:o})=>{const r=f()(o).call(o,o=>({rawName:o.name,connection:o.connection,schema:o.schema,name:Object(ae.e)("a",{href:"#",onClick:()=>{return r=o,K.SupersetClient.get({endpoint:"/datasource/get/"+r.type+"/"+r.id}).then(({json:e})=>{n(e),t(r.uid)}).catch(t=>{Object(Ye.a)(t).then(({error:t,message:n})=>{const a=t?t.error||t.statusText||t:n;e(a)})}),void a();var r},className:"datasource-link"},o.name),type:o.type}));d(!1),i(r)}).catch(t=>{d(!1),Object(Ye.a)(t).then(({error:t})=>{e(t.error||t.statusText||t)})})},bsSize:"large"},Object(ae.e)(We.a.Header,{closeButton:!0},Object(ae.e)(We.a.Title,null,Object(T.t)("Select a datasource"))),Object(ae.e)(We.a.Body,null,Object(ae.e)(Ke.a,{bsStyle:"warning"},Object(ae.e)("strong",null,Object(T.t)("Warning!"))," ",Je),Object(ae.e)("div",null,Object(ae.e)(me.a,{inputRef:e=>{(e=>{h=e})(e)},type:"text",bsSize:"sm",value:s,placeholder:Object(T.t)("Search / Filter"),onChange:e=>{l(e.target.value)}})),u&&Object(ae.e)(Qe.a,null),r&&Object(ae.e)(Ge.Table,{columns:$e,className:"table table-condensed",data:r,itemsPerPage:20,filterable:Ze,filterBy:s,hideFilterInput:!0})))}),tt=n(169);n(2742);const nt={actions:h.a.object.isRequired,onChange:h.a.func,value:h.a.string,datasource:h.a.object.isRequired,isEditable:h.a.bool,onDatasourceSave:h.a.func};class at extends u.a.PureComponent{constructor(e){var t,n,a,o,r;super(e),this.state={showEditDatasourceModal:!1,showChangeDatasourceModal:!1,menuExpanded:!1},this.onDatasourceSave=i()(t=this.onDatasourceSave).call(t,this),this.toggleChangeDatasourceModal=i()(n=this.toggleChangeDatasourceModal).call(n,this),this.toggleEditDatasourceModal=i()(a=this.toggleEditDatasourceModal).call(a,this),this.toggleShowDatasource=i()(o=this.toggleShowDatasource).call(o,this),this.renderDatasource=i()(r=this.renderDatasource).call(r,this)}onDatasourceSave(e){this.props.actions.setDatasource(e),this.props.onDatasourceSave&&this.props.onDatasourceSave(e)}toggleShowDatasource(){this.setState(({showDatasource:e})=>({showDatasource:!e}))}toggleChangeDatasourceModal(){this.setState(({showChangeDatasourceModal:e})=>({showChangeDatasourceModal:!e}))}toggleEditDatasourceModal(){this.setState(({showEditDatasourceModal:e})=>({showEditDatasourceModal:!e}))}renderDatasource(){var e,t;const n=this.props.datasource;return Object(ae.e)("div",{className:"m-t-10"},Object(ae.e)(Ie.a,{className:"m-t-0"},Object(ae.e)("div",{className:"m-b-10"},Object(ae.e)(Ue.a,null,Object(ae.e)("i",{className:"fa fa-database"})," ",n.database.backend)," "+n.database.name+" "),Object(ae.e)(fe.a,{className:"datasource-container"},Object(ae.e)(be.a,{md:6},Object(ae.e)("strong",null,"Columns"),f()(e=n.columns).call(e,e=>Object(ae.e)("div",{key:e.column_name},Object(ae.e)(M.ColumnOption,{showType:!0,column:e})))),Object(ae.e)(be.a,{md:6},Object(ae.e)("strong",null,"Metrics"),f()(t=n.metrics).call(t,e=>Object(ae.e)("div",{key:e.metric_name},Object(ae.e)(M.MetricOption,{metric:e,showType:!0})))))))}render(){const{showChangeDatasourceModal:e,showEditDatasourceModal:t}=this.state,{datasource:n,onChange:a,value:o}=this.props;return Object(ae.e)("div",null,Object(ae.e)(ne.a,this.props),Object(ae.e)("div",{className:"btn-group label-dropdown"},Object(ae.e)(tt.a,{label:"change-datasource",tooltip:Object(T.t)("Click to change the datasource"),trigger:["hover"]},Object(ae.e)(Be.a,{title:n.name,className:"label label-default label-btn m-r-5",bsSize:"sm",id:"datasource_menu"},Object(ae.e)(He.a,{eventKey:"3",onClick:this.toggleChangeDatasourceModal},Object(T.t)("Change Datasource")),"table"===n.type&&Object(ae.e)(He.a,{eventKey:"3",href:"/superset/sqllab?datasourceKey="+o,target:"_blank",rel:"noopener noreferrer"},Object(T.t)("Explore in SQL Lab")),this.props.isEditable&&Object(ae.e)(He.a,{eventKey:"3",onClick:this.toggleEditDatasourceModal},Object(T.t)("Edit Datasource")))),Object(ae.e)(w.a,{placement:"right",overlay:Object(ae.e)(qe.a,{id:"toggle-datasource-tooltip"},Object(T.t)("Expand/collapse datasource configuration"))},Object(ae.e)("a",{href:"#"},Object(ae.e)("i",{role:"button",tabIndex:0,className:"fa fa-"+(this.state.showDatasource?"minus":"plus")+"-square m-r-5 m-l-5 m-t-4",onClick:this.toggleShowDatasource})))),Object(ae.e)(Ve.a,{in:this.state.showDatasource},this.renderDatasource()),Object(ae.e)(ze.a,{datasource:n,show:t,onDatasourceSave:this.onDatasourceSave,onHide:this.toggleEditDatasourceModal}),Object(ae.e)(et,{onDatasourceSave:this.onDatasourceSave,onHide:this.toggleChangeDatasourceModal,show:e,onChange:a}))}}at.propTypes=nt,at.defaultProps={onChange:()=>{},onDatasourceSave:null,value:null,isEditable:!0};var ot=at,rt=n(2451),it=n(888),st=(n(1404),n(87)),lt=n.n(st),ct=n(2653),ut=n.n(ct),dt=n(102),ht=n.n(dt),pt=n(894),ft=n.n(pt),bt=n(196),mt=n.n(bt),gt=n(113),vt=n.n(gt),yt=n(1653),Ot=n.n(yt),Ct=n(129),xt=n.n(Ct),jt=n(367),wt=n.n(jt),St=n(477),Et=h.a.shape({aggregate_name:h.a.string.isRequired});const _t={aggregate:Et,showType:h.a.bool};function Tt({aggregate:e,showType:t}){return Object(ae.e)("div",null,t&&Object(ae.e)(M.ColumnTypeLabel,{type:"aggregate"}),Object(ae.e)("span",{className:"m-r-5 option-label"},e.aggregate_name))}Tt.propTypes=_t;var kt=h.a.shape({column_name:h.a.string.isRequired,type:h.a.string}),Mt=h.a.shape({metric_name:h.a.string.isRequired,expression:h.a.string.isRequired});const At={option:h.a.oneOfType([kt,Mt,Et]).isRequired,addWarningToast:h.a.func.isRequired};function Rt({option:e,addWarningToast:t}){return e.metric_name?Object(ae.e)(M.MetricOption,{metric:e,showType:!0}):e.column_name?Object(ae.e)(M.ColumnOption,{column:e,showType:!0}):e.aggregate_name?Object(ae.e)(Tt,{aggregate:e,showType:!0}):(t("You must supply either a saved metric, column or aggregate to MetricDefinitionOption"),null)}Rt.propTypes=At;var Dt=Object(Xe.a)(Rt),Nt=n(836),Pt=n(835),Ft=n(94),Lt=n(759),It=n.n(Lt),Bt=n(387),Ht=n.n(Bt),qt=(n(1394),n(2458),n(2507),n(124)),Vt=n(60),Ut=(n(242),n(2654)),zt=n.n(Ut);const Gt="SIMPLE",Wt="SQL";function Kt(e){if(e.sqlExpression&&Vt.p.test(e.sqlExpression)){var t,n;const a=lt()(t=e.sqlExpression).call(t,")"),o=zt()(n=e.sqlExpression.substring(0,a)).call(n,"(");if(a>0&&o>0)return e.sqlExpression.substring(o+1,a)}return null}function Yt(e){if(e.sqlExpression&&Vt.p.test(e.sqlExpression)){var t;const n=lt()(t=e.sqlExpression).call(t,"(");if(n>0)return e.sqlExpression.substring(0,n)}return null}class Qt{constructor(e){if(this.expressionType=e.expressionType||Gt,this.expressionType===Gt){const t=Kt(e);this.column=e.column||t&&{column_name:t},this.aggregate=e.aggregate||Yt(e),this.sqlExpression=null}else this.expressionType===Wt&&(this.sqlExpression=e.sqlExpression,this.column=null,this.aggregate=null);this.isNew=!!e.isNew,this.hasCustomLabel=!(!e.hasCustomLabel||!e.label),this.label=this.hasCustomLabel?e.label:this.getDefaultLabel(),this.optionName=e.optionName||"metric_"+Math.random().toString(36).substring(2,15)+"_"+Math.random().toString(36).substring(2,15)}getDefaultLabel(){const e=this.translateToSql();return e.length<43?e:e.substring(0,40)+"..."}translateToSql(){return this.expressionType===Gt?(this.aggregate||"")+"("+(this.column&&this.column.column_name||"")+")":this.expressionType===Wt?this.sqlExpression:""}duplicateWith(e){return new Qt(N()({},this,{isNew:!1},e))}equals(e){return e.label===this.label&&e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.aggregate===this.aggregate&&(e.column&&e.column.column_name)===(this.column&&this.column.column_name)}isValid(){return this.expressionType===Gt?!(!this.column||!this.aggregate):this.expressionType===Wt&&!!this.sqlExpression}inferSqlExpressionAggregate(){return Yt(this)}inferSqlExpressionColumn(){return Kt(this)}}const Xt={adhocMetric:h.a.instanceOf(Qt),onChange:h.a.func.isRequired};class $t extends u.a.Component{constructor(e){var t,n,a,o;super(e),this.onMouseOver=i()(t=this.onMouseOver).call(t,this),this.onMouseOut=i()(n=this.onMouseOut).call(n,this),this.onClick=i()(a=this.onClick).call(a,this),this.onBlur=i()(o=this.onBlur).call(o,this),this.state={isHovered:!1,isEditable:!1}}onMouseOver(){this.setState({isHovered:!0})}onMouseOut(){this.setState({isHovered:!1})}onClick(){this.setState({isEditable:!0})}onBlur(){this.setState({isEditable:!1})}render(){const{adhocMetric:e,onChange:t}=this.props,n=Object(ae.e)(qe.a,{id:"edit-metric-label-tooltip"},"Click to edit label");return this.state.isEditable?Object(ae.e)(me.a,{className:"metric-edit-popover-label-input",type:"text",placeholder:e.label,value:e.hasCustomLabel?e.label:"",autoFocus:!0,onChange:t,"data-test":"AdhocMetricEditTitle#input"}):Object(ae.e)(w.a,{placement:"top",overlay:n,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onClick:this.onClick,onBlur:this.onBlur,className:"AdhocMetricEditPopoverTitle"},Object(ae.e)("span",{className:"inline-editable","data-test":"AdhocMetricEditTitle#trigger"},e.hasCustomLabel?e.label:"My Metric"," ",Object(ae.e)("i",{className:"fa fa-pencil",style:{color:this.state.isHovered?"black":"grey"}})))}}$t.propTypes=Xt;var Zt=n(809);const Jt=It.a.acequire("ace/ext/language_tools"),en={adhocMetric:h.a.instanceOf(Qt).isRequired,onChange:h.a.func.isRequired,onClose:h.a.func.isRequired,onResize:h.a.func.isRequired,columns:h.a.arrayOf(kt),datasourceType:h.a.string,theme:h.a.object};class tn extends u.a.Component{constructor(e){var t,n,a,o,r,s,l,c,u,d;if(super(e),this.onSave=i()(t=this.onSave).call(t,this),this.onColumnChange=i()(n=this.onColumnChange).call(n,this),this.onAggregateChange=i()(a=this.onAggregateChange).call(a,this),this.onSqlExpressionChange=i()(o=this.onSqlExpressionChange).call(o,this),this.onLabelChange=i()(r=this.onLabelChange).call(r,this),this.onDragDown=i()(s=this.onDragDown).call(s,this),this.onMouseMove=i()(l=this.onMouseMove).call(l,this),this.onMouseUp=i()(c=this.onMouseUp).call(c,this),this.handleAceEditorRef=i()(u=this.handleAceEditorRef).call(u,this),this.refreshAceEditor=i()(d=this.refreshAceEditor).call(d,this),this.state={adhocMetric:this.props.adhocMetric,width:300,height:180},this.selectProps={labelKey:"label",isMulti:!1,autosize:!1,clearable:!0},Jt){var h;const e=v()(Zt.a).call(Zt.a,f()(h=this.props.columns).call(h,e=>({name:e.column_name,value:e.column_name,score:50,meta:"column"}))),t={getCompletions:(t,n,a,o,r)=>{r(null,e)}};Jt.setCompleters([t])}document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)}onSave(){this.props.onChange(this.state.adhocMetric),this.props.onClose()}onColumnChange(e){this.setState({adhocMetric:this.state.adhocMetric.duplicateWith({column:e,expressionType:Gt})})}onAggregateChange(e){this.setState({adhocMetric:this.state.adhocMetric.duplicateWith({aggregate:e,expressionType:Gt})})}onSqlExpressionChange(e){this.setState({adhocMetric:this.state.adhocMetric.duplicateWith({sqlExpression:e,expressionType:Wt})})}onLabelChange(e){this.setState({adhocMetric:this.state.adhocMetric.duplicateWith({label:e.target.value,hasCustomLabel:!0})})}onDragDown(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener("mousemove",this.onMouseMove)}onMouseMove(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),300),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),180)})}onMouseUp(){document.removeEventListener("mousemove",this.onMouseMove)}handleAceEditorRef(e){e&&(this.aceEditorRef=e)}refreshAceEditor(){mt()(()=>this.aceEditorRef.editor.resize(),0)}renderColumnOption(e){return Object(ae.e)(M.ColumnOption,{column:e,showType:!0})}render(){const e=this.props,{adhocMetric:t,columns:n,theme:a}=e,r=Oe()(e,["adhocMetric","columns","onChange","onClose","onResize","datasourceType","theme"]),{adhocMetric:i}=this.state,s={placeholder:Object(T.t)("%s column(s)",n.length),options:n,value:i.column&&i.column.column_name||i.inferSqlExpressionColumn(),onChange:this.onColumnChange,optionRenderer:this.renderColumnOption,valueKey:"column_name"},l={placeholder:Object(T.t)("%s aggregates(s)",Vt.b.length),options:Vt.b,value:i.aggregate||i.inferSqlExpressionAggregate(),onChange:this.onAggregateChange};var c;"druid"===this.props.datasourceType&&(l.options=m()(c=l.options).call(c,e=>"AVG"!==e));const u=Object(ae.e)($t,{adhocMetric:i,onChange:this.onLabelChange}),d=i.isValid(),h=!i.equals(t);return Object(ae.e)(j.a,o()({id:"metrics-edit-popover",title:u},r),Object(ae.e)(k.ThemeProvider,{theme:a},Object(ae.e)(Nt.a,{id:"adhoc-metric-edit-tabs",defaultActiveKey:i.expressionType,className:"adhoc-metric-edit-tabs",style:{height:this.state.height,width:this.state.width},onSelect:this.refreshAceEditor,animation:!1},Object(ae.e)(Pt.a,{className:"adhoc-metric-edit-tab",eventKey:Gt,title:"Simple"},Object(ae.e)(pe.a,null,Object(ae.e)(qt.a,null,Object(ae.e)("strong",null,"column")),Object(ae.e)(Ft.g,o()({name:"select-column"},this.selectProps,s))),Object(ae.e)(pe.a,null,Object(ae.e)(qt.a,null,Object(ae.e)("strong",null,"aggregate")),Object(ae.e)(Ft.g,o()({name:"select-aggregate"},this.selectProps,l,{autoFocus:!0})))),Object(ae.e)(Pt.a,{className:"adhoc-metric-edit-tab",eventKey:Wt,title:"Custom SQL","data-test":"adhoc-metric-edit-tab#custom"},"druid"!==this.props.datasourceType?Object(ae.e)(pe.a,null,Object(ae.e)(Ht.a,{ref:this.handleAceEditorRef,mode:"sql",theme:"github",height:this.state.height-43+"px",onChange:this.onSqlExpressionChange,width:"100%",showGutter:!1,value:i.sqlExpression||i.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:"adhoc-filter-sql-editor",wrapEnabled:!0})):Object(ae.e)("div",{className:"custom-sql-disabled-message"},"Custom SQL Metrics are not available on druid datasources"))),Object(ae.e)("div",null,Object(ae.e)(z.a,{disabled:!d,buttonStyle:h&&d?"primary":"default",buttonSize:"small",className:"m-r-5","data-test":"AdhocMetricEdit#save",onClick:this.onSave,cta:!0},"Save"),Object(ae.e)(z.a,{buttonSize:"small",onClick:this.props.onClose,"data-test":"AdhocMetricEdit#cancel",cta:!0},"Close"),Object(ae.e)("i",{role:"button",tabIndex:0,onMouseDown:this.onDragDown,className:"fa fa-expand edit-popover-resize text-muted"}))))}}tn.propTypes=en,tn.defaultProps={columns:[]};const nn={adhocMetric:h.a.instanceOf(Qt),onMetricEdit:h.a.func.isRequired,columns:h.a.arrayOf(kt),multi:h.a.bool,datasourceType:h.a.string};class an extends u.a.PureComponent{constructor(e){var t,n,a,o;super(e),this.closeMetricEditOverlay=i()(t=this.closeMetricEditOverlay).call(t,this),this.onOverlayEntered=i()(n=this.onOverlayEntered).call(n,this),this.onOverlayExited=i()(a=this.onOverlayExited).call(a,this),this.onPopoverResize=i()(o=this.onPopoverResize).call(o,this),this.state={overlayShown:!1},this.overlay=null}onPopoverResize(){this.forceUpdate()}onOverlayEntered(){this.props.adhocMetric.isNew=!1,this.setState({overlayShown:!0})}onOverlayExited(){this.setState({overlayShown:!1})}closeMetricEditOverlay(){this.overlay.hide()}render(){const{adhocMetric:e,theme:t}=this.props,n=Object(ae.e)(tn,{onResize:this.onPopoverResize,adhocMetric:e,onChange:this.props.onMetricEdit,onClose:this.closeMetricEditOverlay,columns:this.props.columns,datasourceType:this.props.datasourceType,theme:t});return Object(ae.e)("div",{className:"metric-option",onMouseDownCapture:e=>e.stopPropagation()},Object(ae.e)(w.a,{ref:e=>{this.overlay=e},placement:"right",trigger:"click",disabled:!0,overlay:n,rootClose:!0,shouldUpdatePosition:!0,defaultOverlayShown:e.isNew,onEntered:this.onOverlayEntered,onExited:this.onOverlayExited},Object(ae.e)(Ue.a,{className:"option-label adhoc-option"},e.label,Object(ae.e)("i",{className:"fa fa-caret-"+(this.state.overlayShown?"left":"right")+" adhoc-label-arrow"}))))}}var on=Object(k.withTheme)(an);an.propTypes=nn;var rn=h.a.oneOfType([h.a.shape({expressionType:h.a.oneOf([Gt]).isRequired,column:kt.isRequired,aggregate:h.a.oneOf(l()(Vt.a)).isRequired,label:h.a.string.isRequired}),h.a.shape({expressionType:h.a.oneOf([Wt]).isRequired,sqlExpression:h.a.string.isRequired,label:h.a.string.isRequired})]);const sn={option:h.a.oneOfType([Mt,rn]).isRequired,onMetricEdit:h.a.func,columns:h.a.arrayOf(kt),multi:h.a.bool,datasourceType:h.a.string};function ln({option:e,onMetricEdit:t,columns:n,multi:a,datasourceType:o}){return e.metric_name?Object(ae.e)(M.MetricOption,{metric:e}):e instanceof Qt?Object(ae.e)(on,{adhocMetric:e,onMetricEdit:t,columns:n,multi:a,datasourceType:o}):null}ln.propTypes=sn;const cn={name:h.a.string.isRequired,onChange:h.a.func,value:h.a.oneOfType([h.a.arrayOf(h.a.oneOfType([h.a.string,rn])),h.a.oneOfType([h.a.string,rn])]),columns:h.a.arrayOf(kt),savedMetrics:h.a.arrayOf(Mt),multi:h.a.bool,clearable:h.a.bool,datasourceType:h.a.string};function un(e){return e&&!(e instanceof Qt)&&e.expressionType}function dn(e){return e?vt()(e)?f()(e).call(e,e=>un(e)?new Qt(e):e):un(e)?[new Qt(e)]:[e]:[]}function hn(e){const t=e.type;return"string"!=typeof t?Vt.a.COUNT:""===t||"expression"===t?Vt.a.SUM:t.match(/.*char.*/i)||t.match(/string.*/i)||t.match(/.*text.*/i)?Vt.a.COUNT_DISTINCT:t.match(/.*int.*/i)||"LONG"===t||"DOUBLE"===t||"FLOAT"===t?Vt.a.SUM:t.match(/.*bool.*/i)?Vt.a.MAX:t.match(/.*time.*/i)?Vt.a.COUNT:t.match(/unknown/i)?Vt.a.COUNT:null}class pn extends u.a.PureComponent{constructor(e){var t,n,a,o,r,s;super(e),this.onChange=i()(t=this.onChange).call(t,this),this.onMetricEdit=i()(n=this.onMetricEdit).call(n,this),this.checkIfAggregateInInput=i()(a=this.checkIfAggregateInInput).call(a,this),this.optionsForSelect=i()(o=this.optionsForSelect).call(o,this),this.selectFilterOption=i()(r=this.selectFilterOption).call(r,this),this.isAutoGeneratedMetric=i()(s=this.isAutoGeneratedMetric).call(s,this),this.optionRenderer=e=>Object(ae.e)(Dt,{option:e}),this.valueRenderer=e=>Object(ae.e)(ln,{option:e,onMetricEdit:this.onMetricEdit,columns:this.props.columns,multi:this.props.multi,datasourceType:this.props.datasourceType}),this.select=null,this.selectRef=e=>{this.select=e?e.select:null},this.state={aggregateInInput:null,options:this.optionsForSelect(this.props),value:dn(this.props.value)}}UNSAFE_componentWillReceiveProps(e){const{value:t}=this.props;if(!wt()(this.props.columns,e.columns)||!wt()(this.props.savedMetrics,e.savedMetrics)){this.setState({options:this.optionsForSelect(e)}),function(e,t){var n,a,o,r,i;const s=new xt.a(f()(n=[...t.columns||[],...t.savedMetrics||[]]).call(n,({column_name:e,metric_name:t})=>e||t));return Ot()(a=m()(o=f()(r=m()(i=vt()(e)?e:[e]).call(i,e=>e)).call(r,e=>e.column?e.column.column_name:e.column_name||e)).call(o,e=>e&&"string"==typeof e)).call(a,e=>s.has(e))}(t,e)||this.props.onChange([])}t!==e.value&&this.setState({value:dn(e.value)})}onMetricEdit(e){var t;let n=f()(t=this.state.value).call(t,t=>t.optionName===e.optionName?e:t);this.props.multi||(n=n[0]),this.props.onChange(n)}onChange(e){var t;if(null===e)return void this.props.onChange(null);let n;n=vt()(e)?e:e?[e]:[];const a=m()(t=f()(n).call(n,e=>{if(e.metric_name)return e.metric_name;if(e.column_name){const t=this.clearedAggregateInInput;return this.clearedAggregateInInput=null,new Qt({isNew:!0,column:e,aggregate:t||hn(e)})}if(e instanceof Qt)return e;if(e.aggregate_name&&this.select){const t=e.aggregate_name+"()";this.select.inputRef.value=t,this.select.handleInputChange({currentTarget:{value:t}}),mt()(()=>{this.select.focusInput(),this.select.inputRef.selectionStart=t.length-1,this.select.inputRef.selectionEnd=t.length-1})}return null})).call(t,e=>e);this.props.onChange(this.props.multi?a:a[0])}checkIfAggregateInInput(e){const t=e.toLowerCase(),n=F()(Vt.b).call(Vt.b,e=>ft()(t).call(t,e.toLowerCase()+"("))||null;this.clearedAggregateInInput=this.state.aggregateInInput,this.setState({aggregateInInput:n})}optionsForSelect(e){const{columns:t,savedMetrics:n}=e,a=[...t||[],...t&&t.length?f()(Vt.b).call(Vt.b,e=>({aggregate_name:e})):[],...n||[]];return ht()(a).call(a,(e,t)=>(t.metric_name?e.push(N()({},t,{optionName:t.metric_name})):t.column_name?e.push(N()({},t,{optionName:"_col_"+t.column_name})):t.aggregate_name&&e.push(N()({},t,{optionName:"_aggregate_"+t.aggregate_name})),e),[])}isAutoGeneratedMetric(e){return"druid"===this.props.datasourceType?Vt.n.test(e.verbose_name):Vt.o.test(e.metric_name)}selectFilterOption({data:e},t){var n,a;if(this.state.aggregateInInput){var o;let n=t.length;ut()(t).call(t,")")&&(n=t.length-1);const a=t.substring(lt()(t).call(t,"(")+1,n);return e.column_name&&lt()(o=e.column_name.toLowerCase()).call(o,a)>=0}return e.optionName&&(!e.metric_name||!this.isAutoGeneratedMetric(e)||e.verbose_name)&&(lt()(n=e.optionName.toLowerCase()).call(n,t)>=0||e.verbose_name&&lt()(a=e.verbose_name.toLowerCase()).call(a,t)>=0)}render(){return Object(ae.e)("div",{className:"metrics-select"},Object(ae.e)(ne.a,this.props),Object(ae.e)(St.a,{isMulti:this.props.multi,name:"select-"+this.props.name,placeholder:Object(T.t)("choose a column or aggregate function"),options:this.state.options,value:this.state.value,labelKey:"label",valueKey:"optionName",clearable:this.props.clearable,closeOnSelect:!0,onChange:this.onChange,optionRenderer:this.optionRenderer,valueRenderer:this.valueRenderer,valueRenderedAsLabel:!0,onInputChange:this.checkIfAggregateInInput,filterOption:this.selectFilterOption,selectRef:this.selectRef}))}}pn.propTypes=cn,pn.defaultProps={onChange:()=>{},clearable:!0,savedMetrics:[],columns:[]};const fn="fix",bn="metric",mn={onChange:h.a.func,value:h.a.object,isFloat:h.a.bool,datasource:h.a.object.isRequired,default:h.a.shape({type:h.a.oneOf(["fix","metric"]),value:h.a.oneOfType([h.a.string,h.a.number])})},gn={onChange:()=>{},default:{type:fn,value:5}};class vn extends u.a.Component{constructor(e){var t,n,a,o,r;super(e),this.onChange=i()(t=this.onChange).call(t,this),this.setType=i()(n=this.setType).call(n,this),this.setFixedValue=i()(a=this.setFixedValue).call(a,this),this.setMetric=i()(o=this.setMetric).call(o,this),this.toggle=i()(r=this.toggle).call(r,this);const s=(e.value?e.value.type:e.default.type)||fn,l=(e.value?e.value.value:e.default.value)||"100";this.state={type:s,fixedValue:s===fn?l:"",metricValue:s===bn?l:null}}onChange(){this.props.onChange({type:this.state.type,value:this.state.type===fn?this.state.fixedValue:this.state.metricValue})}setType(e){this.setState({type:e},this.onChange)}setFixedValue(e){this.setState({fixedValue:e},this.onChange)}setMetric(e){this.setState({metricValue:e},this.onChange)}toggle(){const e=!this.state.expanded;this.setState({expanded:e})}render(){const e=(this.props.value||this.props.default).type||fn,t=this.props.datasource?this.props.datasource.columns:null,n=this.props.datasource?this.props.datasource.metrics:null;return Object(ae.e)("div",null,Object(ae.e)(ne.a,this.props),Object(ae.e)(Ue.a,{className:"pointer",onClick:this.toggle},this.state.type===fn&&Object(ae.e)("span",null,this.state.fixedValue),this.state.type===bn&&Object(ae.e)("span",null,Object(ae.e)("span",{style:{fontWeight:"normal"}},"metric: "),Object(ae.e)("strong",null,this.state.metricValue?this.state.metricValue.label:null))),Object(ae.e)(it.a,{className:"panel-spreaded",collapsible:!0,expanded:this.state.expanded,onToggle:this.toggle},Object(ae.e)(it.a.Collapse,null,Object(ae.e)(it.a.Body,null,Object(ae.e)("div",{className:"well"},Object(ae.e)(te.a,{title:"Fixed",isSelected:e===fn,onSelect:()=>{this.setType(fn)}},Object(ae.e)(Z.a,{isFloat:!0,onChange:this.setFixedValue,onFocus:()=>{this.setType(fn)},value:this.state.fixedValue})),Object(ae.e)(te.a,{title:"Based on a metric",isSelected:e===bn,onSelect:()=>{this.setType(bn)}},Object(ae.e)(pn,{name:"metric",columns:t,savedMetrics:n,multi:!1,onFocus:()=>{this.setType(bn)},onChange:this.setMetric,value:this.state.metricValue})))))))}}vn.propTypes=mn,vn.defaultProps=gn;const yn={onChange:h.a.func,value:h.a.oneOfType([h.a.string,h.a.number,h.a.object,h.a.bool,h.a.array,h.a.func])};function On(e){return Object(ae.e)(me.a,{type:"hidden",value:e.value})}On.propTypes=yn,On.defaultProps={onChange:()=>{}};var Cn=n(1089),xn=n(2489),jn=n.n(xn);n(2670),n(2767);function wn(e){return Object(ae.e)("span",{className:"BootstrapSliderWrapper"},Object(ae.e)(jn.a,e))}const Sn={onChange:h.a.func,value:h.a.oneOfType([h.a.string,h.a.number])};function En(e){return Object(ae.e)("div",null,Object(ae.e)(ne.a,e),Object(ae.e)(wn,o()({},e,{change:t=>{e.onChange(t.target.value)}})))}En.propTypes=Sn,En.defaultProps={onChange:()=>{}};var _n=n(1090),Tn=n(541);const kn={label:h.a.string,tooltip:h.a.string,colType:h.a.string,width:h.a.string,height:h.a.string,timeLag:h.a.string,timeRatio:h.a.string,comparisonType:h.a.string,showYAxis:h.a.bool,yAxisBounds:h.a.array,bounds:h.a.array,d3format:h.a.string,dateFormat:h.a.string,onChange:h.a.func},Mn={label:Object(T.t)("Time Series Columns"),tooltip:"",colType:"",width:"",height:"",timeLag:"",timeRatio:"",comparisonType:"",showYAxis:!1,yAxisBounds:[null,null],bounds:[null,null],d3format:"",dateFormat:"",onChange:()=>{}},An=[{value:"value",label:"Actual value"},{value:"diff",label:"Difference"},{value:"perc",label:"Percentage"},{value:"perc_change",label:"Percentage Change"}],Rn=[{value:"time",label:"Time Comparison"},{value:"contrib",label:"Contribution"},{value:"spark",label:"Sparkline"},{value:"avg",label:"Period Average"}];class Dn extends u.a.Component{constructor(e){var t;super(e);const n={label:this.props.label,tooltip:this.props.tooltip,colType:this.props.colType,width:this.props.width,height:this.props.height,timeLag:this.props.timeLag||0,timeRatio:this.props.timeRatio,comparisonType:this.props.comparisonType,showYAxis:this.props.showYAxis,yAxisBounds:this.props.yAxisBounds,bounds:this.props.bounds,d3format:this.props.d3format,dateFormat:this.props.dateFormat};delete n.onChange,this.state=n,this.onChange=i()(t=this.onChange).call(t,this)}onChange(){this.props.onChange(this.state)}onSelectChange(e,t){this.setState({[e]:t.value},this.onChange)}onTextInputChange(e,t){this.setState({[e]:t.target.value},this.onChange)}onCheckboxChange(e,t){this.setState({[e]:t},this.onChange)}onBoundsChange(e){this.setState({bounds:e},this.onChange)}onYAxisBoundsChange(e){this.setState({yAxisBounds:e},this.onChange)}setType(){}textSummary(){return""+this.state.label}edit(){}formRow(e,t,n,a){return Object(ae.e)(fe.a,{style:{marginTop:"5px"}},Object(ae.e)(be.a,{md:5},e+" ",Object(ae.e)(M.InfoTooltipWithTrigger,{placement:"top",tooltip:t,label:n})),Object(ae.e)(be.a,{md:7},a))}renderPopover(){var e,t,n,a,o,r,s,l,c,u,d,h,p,f,b;return Object(ae.e)(j.a,{id:"ts-col-popo",title:"Column Configuration"},Object(ae.e)("div",{style:{width:300}},this.formRow("Label","The column header label","time-lag",Object(ae.e)(me.a,{value:this.state.label,onChange:i()(e=this.onTextInputChange).call(e,this,"label"),bsSize:"small",placeholder:"Label"})),this.formRow("Tooltip","Column header tooltip","col-tooltip",Object(ae.e)(me.a,{value:this.state.tooltip,onChange:i()(t=this.onTextInputChange).call(t,this,"tooltip"),bsSize:"small",placeholder:"Tooltip"})),this.formRow("Type","Type of comparison, value difference or percentage","col-type",Object(ae.e)(Ft.g,{value:this.state.colType,clearable:!1,onChange:i()(n=this.onSelectChange).call(n,this,"colType"),options:Rn})),Object(ae.e)("hr",null),"spark"===this.state.colType&&this.formRow("Width","Width of the sparkline","spark-width",Object(ae.e)(me.a,{value:this.state.width,onChange:i()(a=this.onTextInputChange).call(a,this,"width"),bsSize:"small",placeholder:"Width"})),"spark"===this.state.colType&&this.formRow("Height","Height of the sparkline","spark-width",Object(ae.e)(me.a,{value:this.state.height,onChange:i()(o=this.onTextInputChange).call(o,this,"height"),bsSize:"small",placeholder:"height"})),lt()(r=["time","avg"]).call(r,this.state.colType)>=0&&this.formRow("Time Lag","Number of periods to compare against","time-lag",Object(ae.e)(me.a,{value:this.state.timeLag,onChange:i()(s=this.onTextInputChange).call(s,this,"timeLag"),bsSize:"small",placeholder:"Time Lag"})),lt()(l=["spark"]).call(l,this.state.colType)>=0&&this.formRow("Time Ratio","Number of periods to ratio against","time-ratio",Object(ae.e)(me.a,{value:this.state.timeRatio,onChange:i()(c=this.onTextInputChange).call(c,this,"timeRatio"),bsSize:"small",placeholder:"Time Ratio"})),"time"===this.state.colType&&this.formRow("Type","Type of comparison, value difference or percentage","comp-type",Object(ae.e)(Ft.g,{value:this.state.comparisonType,clearable:!1,onChange:i()(u=this.onSelectChange).call(u,this,"comparisonType"),options:An})),"spark"===this.state.colType&&this.formRow("Show Y-axis","Show Y-axis on the sparkline. Will display the manually set min/max if set or min/max values in the data otherwise.","show-y-axis-bounds",Object(ae.e)(J.a,{value:this.state.showYAxis,onChange:i()(d=this.onCheckboxChange).call(d,this,"showYAxis")})),"spark"===this.state.colType&&this.formRow("Y-axis bounds","Manually set min/max values for the y-axis.","y-axis-bounds",Object(ae.e)(ve,{value:this.state.yAxisBounds,onChange:i()(h=this.onYAxisBoundsChange).call(h,this)})),"spark"!==this.state.colType&&this.formRow("Color bounds","Number bounds used for color encoding from red to blue.\n              Reverse the numbers for blue to red. To get pure red or blue,\n              you can enter either only min or max.","bounds",Object(ae.e)(ve,{value:this.state.bounds,onChange:i()(p=this.onBoundsChange).call(p,this)})),this.formRow("Number format","Optional d3 number format string","d3-format",Object(ae.e)(me.a,{value:this.state.d3format,onChange:i()(f=this.onTextInputChange).call(f,this,"d3format"),bsSize:"small",placeholder:"Number format string"})),"spark"===this.state.colType&&this.formRow("Date format","Optional d3 date format string","date-format",Object(ae.e)(me.a,{value:this.state.dateFormat,onChange:i()(b=this.onTextInputChange).call(b,this,"dateFormat"),bsSize:"small",placeholder:"Date format string"}))))}render(){var e;return Object(ae.e)("span",null,this.textSummary()," ",Object(ae.e)(w.a,{container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},Object(ae.e)(M.InfoTooltipWithTrigger,{icon:"edit",className:"text-primary",onClick:i()(e=this.edit).call(e,this),label:"edit-ts-column"})))}}Dn.propTypes=kn,Dn.defaultProps=Mn;var Nn=n(893),Pn=n(1649),Fn=n(397),Ln=n.n(Fn),In=n(392),Bn=n.n(In),Hn=n(45);const qn="SIMPLE",Vn="SQL",Un={HAVING:"HAVING",WHERE:"WHERE"},zn={"==":"=","!=":"<>",">":">","<":"<",">=":">=","<=":"<=",in:"in","not in":"not in",LIKE:"like",regex:"regex","IS NOT NULL":"IS NOT NULL","IS NULL":"IS NULL","LATEST PARTITION":({datasource:e})=>"= '{{ presto.latest_partition('"+e.schema+"."+e.datasource_name+"') }}'"};function Gn(e,{useSimple:t}={}){if(e.expressionType===qn||t){const t=Vt.i.has(e.operator);return e.subject+" "+(e.operator&&Vt.c.has(e.operator)?zn[e.operator](e):zn[e.operator])+" "+(t?"('":"")+(vt()(e.comparator)?e.comparator.join("','"):e.comparator||"")+(t?"')":"")}return e.expressionType===Vn?e.sqlExpression:""}class Wn{constructor(e){this.expressionType=e.expressionType||qn,this.expressionType===qn?(this.subject=e.subject,this.operator=e.operator,this.comparator=e.comparator,this.clause=e.clause,this.sqlExpression=null):this.expressionType===Vn&&(this.sqlExpression="string"==typeof e.sqlExpression?e.sqlExpression:Gn(e,{useSimple:!0}),this.clause=e.clause,e.operator&&Vt.c.has(e.operator)?(this.subject=e.subject,this.operator=e.operator):(this.subject=null,this.operator=null),this.comparator=null),this.isExtra=!!e.isExtra,this.isNew=!!e.isNew,this.filterOptionName=e.filterOptionName||"filter_"+Math.random().toString(36).substring(2,15)+"_"+Math.random().toString(36).substring(2,15)}duplicateWith(e){return new Wn(N()({},this,{isNew:!1},e))}equals(e){return e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.operator===this.operator&&e.comparator===this.comparator&&e.subject===this.subject}isValid(){if(this.expressionType===qn){if("IS NOT NULL"===this.operator||"IS NULL"===this.operator)return!(!this.operator||!this.subject);if(this.operator&&this.subject&&this.clause)if(vt()(this.comparator)){if(this.comparator.length>0)return!0}else if(null!==this.comparator)return!0}else if(this.expressionType===Vn)return!(!this.sqlExpression||!this.clause);return!1}getDefaultLabel(){const e=this.translateToSql();return e.length<43?e:e.substring(0,40)+"..."}translateToSql(){return Gn(this)}}var Kn=h.a.oneOfType([h.a.shape({expressionType:h.a.oneOf([qn]).isRequired,clause:h.a.oneOf([Un.HAVING,Un.WHERE]).isRequired,subject:h.a.string.isRequired,operator:h.a.oneOf(l()(Vt.j)).isRequired,comparator:h.a.oneOfType([h.a.string,h.a.arrayOf(h.a.string)]).isRequired}),h.a.shape({expressionType:h.a.oneOf([Vn]).isRequired,clause:h.a.oneOf([Un.WHERE,Un.HAVING]).isRequired,sqlExpression:h.a.string.isRequired})]);const Yn={adhocMetric:rn,showType:h.a.bool};function Qn({adhocMetric:e,showType:t=!1}){return Object(ae.e)("div",null,t&&Object(ae.e)(M.ColumnTypeLabel,{type:"expression"}),Object(ae.e)("span",{className:"option-label"},e.label))}Qn.propTypes=Yn;const Xn={option:h.a.oneOfType([kt,h.a.shape({saved_metric_name:h.a.string.isRequired}),rn]).isRequired};function $n({option:e}){return e.saved_metric_name?Object(ae.e)("div",null,Object(ae.e)(M.ColumnTypeLabel,{type:"expression"}),Object(ae.e)("span",{className:"option-label"},e.saved_metric_name)):e.column_name?Object(ae.e)(M.ColumnOption,{column:e,showType:!0}):e.label?Object(ae.e)(Qn,{adhocMetric:e,showType:!0}):void 0}$n.propTypes=Xn;const Zn={adhocFilter:h.a.instanceOf(Wn).isRequired,onChange:h.a.func.isRequired,options:h.a.arrayOf(h.a.oneOfType([kt,h.a.shape({saved_metric_name:h.a.string.isRequired}),rn])).isRequired,onHeightChange:h.a.func.isRequired,datasource:h.a.object,partitionColumn:h.a.string};function Jn(e){return e===Vt.j["=="]?"equals":e===Vt.j["!="]?"not equal to":e===Vt.j.LIKE?"like":e===Vt.j["LATEST PARTITION"]?"use latest_partition template":e}class ea extends u.a.Component{constructor(e){var t,n,a,o,r,s,l;super(e),this.onSubjectChange=i()(t=this.onSubjectChange).call(t,this),this.onOperatorChange=i()(n=this.onOperatorChange).call(n,this),this.onComparatorChange=i()(a=this.onComparatorChange).call(a,this),this.onInputComparatorChange=i()(o=this.onInputComparatorChange).call(o,this),this.isOperatorRelevant=i()(r=this.isOperatorRelevant).call(r,this),this.refreshComparatorSuggestions=i()(s=this.refreshComparatorSuggestions).call(s,this),this.multiComparatorRef=i()(l=this.multiComparatorRef).call(l,this),this.state={suggestions:[],multiComparatorHeight:30,abortActiveRequest:null},this.selectProps={isMulti:!1,name:"select-column",labelKey:"label",autosize:!1,clearable:!1}}UNSAFE_componentWillMount(){this.refreshComparatorSuggestions()}componentDidMount(){this.handleMultiComparatorInputHeightChange()}componentDidUpdate(e){e.adhocFilter.subject!==this.props.adhocFilter.subject&&this.refreshComparatorSuggestions(),this.handleMultiComparatorInputHeightChange()}onSubjectChange(e){let t,n;e&&e.column_name?(t=e.column_name,n=Un.WHERE):e&&(e.saved_metric_name||e.label)&&(t=e.saved_metric_name||e.label,n=Un.HAVING);const{operator:a}=this.props.adhocFilter;this.props.onChange(this.props.adhocFilter.duplicateWith({subject:t,clause:n,operator:a&&this.isOperatorRelevant(a,t)?a:null,expressionType:qn}))}onOperatorChange(e){const t=this.props.adhocFilter.comparator;let n;var a;Vt.i.has(e)?n=vt()(t)?t:m()(a=[t]).call(a,e=>e):n=vt()(t)?t[0]:t;e&&Vt.c.has(e)?this.props.onChange(this.props.adhocFilter.duplicateWith({subject:this.props.adhocFilter.subject,clause:Un.WHERE,operator:e,expressionType:Vn,datasource:this.props.datasource})):this.props.onChange(this.props.adhocFilter.duplicateWith({operator:e,comparator:n,expressionType:qn}))}onInputComparatorChange(e){this.onComparatorChange(e.target.value)}onComparatorChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({comparator:e,expressionType:qn}))}handleMultiComparatorInputHeightChange(){if(this.multiComparatorComponent){var e,t;const n=null===(e=this.multiComparatorComponent)||void 0===e?void 0:null===(t=e.select)||void 0===t?void 0:t.select.controlRef;n&&n.clientHeight!==this.state.multiComparatorHeight&&(this.props.onHeightChange(n.clientHeight-this.state.multiComparatorHeight),this.setState({multiComparatorHeight:n.clientHeight}))}}refreshComparatorSuggestions(){const e=this.props.datasource,t=this.props.adhocFilter.subject,n=this.props.adhocFilter.clause===Un.HAVING;if(t&&e&&e.filter_select&&!n){this.state.abortActiveRequest&&this.state.abortActiveRequest();const n=new AbortController,{signal:a}=n;this.setState({abortActiveRequest:n.abort,loading:!0}),K.SupersetClient.get({signal:a,endpoint:"/superset/filter/"+e.type+"/"+e.id+"/"+t+"/"}).then(({json:e})=>{this.setState(()=>({suggestions:e,abortActiveRequest:null,loading:!1}))}).catch(()=>{this.setState(()=>({suggestions:[],abortActiveRequest:null,loading:!1}))})}}isOperatorRelevant(e,t){if(e&&Vt.c.has(e)){const{partitionColumn:e}=this.props;return e&&t&&t===e}return!("druid"===this.props.datasource.type&&lt()(Vt.l).call(Vt.l,e)>=0||"table"===this.props.datasource.type&&lt()(Vt.e).call(Vt.e,e)>=0||this.props.adhocFilter.clause===Un.HAVING&&-1===lt()(Vt.h).call(Vt.h,e))}focusComparator(e){e&&e.focus()}multiComparatorRef(e){e&&(this.multiComparatorComponent=e)}renderSubjectOptionLabel(e){return Object(ae.e)($n,{option:e})}renderSubjectOptionValue({value:e}){return Object(ae.e)("span",null,e)}render(){const{adhocFilter:e,options:t,datasource:n}=this.props,{subject:a,operator:r,comparator:i}=e,s={options:t,value:a?{value:a}:void 0,onChange:this.onSubjectChange,optionRenderer:this.renderSubjectOptionLabel,valueRenderer:this.renderSubjectOptionValue,valueKey:"filterOptionName",noResultsText:Object(T.t)("No such column found. To filter on a metric, try the Custom SQL tab.")};"druid"===n.type?s.placeholder=Object(T.t)("%s column(s) and metric(s)",t.length):(s.placeholder=e.clause===Un.WHERE?Object(T.t)("%s column(s)",t.length):Object(T.t)("To filter on a metric, use Custom SQL tab."),s.options=m()(t).call(t,e=>e.column_name));const l={placeholder:Object(T.t)("%s operators(s)",Vt.k.length),options:m()(Vt.k).call(Vt.k,e=>this.isOperatorRelevant(e,a)),value:r,onChange:this.onOperatorChange,getOptionLabel:Jn};return Object(ae.e)("span",null,Object(ae.e)(pe.a,{className:"adhoc-filter-simple-column-dropdown"},Object(ae.e)(Ft.f,o()({},this.selectProps,s,{name:"filter-column"}))),Object(ae.e)(pe.a,null,Object(ae.e)(Ft.f,o()({},this.selectProps,l,{name:"filter-operator"}))),Object(ae.e)(pe.a,{"data-test":"adhoc-filter-simple-value"},Vt.i.has(r)||this.state.suggestions.length>0?Object(ae.e)($.a,{name:"filter-value",autoFocus:!0,freeForm:!0,multi:Vt.i.has(r),value:i,isLoading:this.state.loading,choices:this.state.suggestions,onChange:this.onComparatorChange,showHeader:!1,noResultsText:Object(T.t)("type a value here"),selectRef:this.multiComparatorRef,disabled:V()(Vt.d).call(Vt.d,r)}):Object(ae.e)("input",{name:"filter-value",ref:this.focusComparator,type:"text",onChange:this.onInputComparatorChange,value:i,className:"form-control input-sm",placeholder:Object(T.t)("Filter value"),disabled:V()(Vt.d).call(Vt.d,r)})))}}ea.propTypes=Zn,ea.defaultProps={datasource:{}};const ta={adhocFilter:h.a.instanceOf(Wn).isRequired,onChange:h.a.func.isRequired,options:h.a.arrayOf(h.a.oneOfType([kt,h.a.shape({saved_metric_name:h.a.string.isRequired}),rn])).isRequired,height:h.a.number.isRequired},na=It.a.acequire("ace/ext/language_tools");class aa extends u.a.Component{constructor(e){var t,n,a;if(super(e),this.onSqlExpressionChange=i()(t=this.onSqlExpressionChange).call(t,this),this.onSqlExpressionClauseChange=i()(n=this.onSqlExpressionClauseChange).call(n,this),this.handleAceEditorRef=i()(a=this.handleAceEditorRef).call(a,this),this.selectProps={isMulti:!1,name:"select-column",labelKey:"label",autosize:!1,clearable:!1},na){var o;const e=v()(Zt.a).call(Zt.a,f()(o=this.props.options).call(o,e=>e.column_name?{name:e.column_name,value:e.column_name,score:50,meta:"option"}:null)),t={getCompletions:(t,n,a,o,r)=>{r(null,e)}};na.setCompleters([t])}}componentDidUpdate(){this.aceEditorRef.editor.resize()}onSqlExpressionClauseChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({clause:e&&e.clause,expressionType:Vn}))}onSqlExpressionChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({sqlExpression:e,expressionType:Vn}))}handleAceEditorRef(e){e&&(this.aceEditorRef=e)}render(){const{adhocFilter:e,height:t}=this.props,n={placeholder:Object(T.t)("choose WHERE or HAVING..."),options:l()(Un),value:e.clause,onChange:this.onSqlExpressionClauseChange};return Object(ae.e)("span",null,Object(ae.e)(pe.a,{className:"filter-edit-clause-section"},Object(ae.e)(Ft.g,o()({},this.selectProps,n,{className:"filter-edit-clause-dropdown"})),Object(ae.e)("span",{className:"filter-edit-clause-info"},Object(ae.e)("strong",null,"Where")," filters by columns.",Object(ae.e)("br",null),Object(ae.e)("strong",null,"Having")," filters by metrics.")),Object(ae.e)(pe.a,null,Object(ae.e)(Ht.a,{ref:this.handleAceEditorRef,mode:"sql",theme:"github",height:t-100+"px",onChange:this.onSqlExpressionChange,width:"100%",showGutter:!1,value:e.sqlExpression||e.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:"adhoc-filter-sql-editor",wrapEnabled:!0})))}}aa.propTypes=ta;const oa={adhocFilter:h.a.instanceOf(Wn).isRequired,onChange:h.a.func.isRequired,onClose:h.a.func.isRequired,onResize:h.a.func.isRequired,options:h.a.arrayOf(h.a.oneOfType([kt,h.a.shape({saved_metric_name:h.a.string.isRequired}),rn])).isRequired,datasource:h.a.object,partitionColumn:h.a.string,theme:h.a.object};class ra extends u.a.Component{constructor(e){var t,n,a,o,r,s;super(e),this.onSave=i()(t=this.onSave).call(t,this),this.onDragDown=i()(n=this.onDragDown).call(n,this),this.onMouseMove=i()(a=this.onMouseMove).call(a,this),this.onMouseUp=i()(o=this.onMouseUp).call(o,this),this.onAdhocFilterChange=i()(r=this.onAdhocFilterChange).call(r,this),this.adjustHeight=i()(s=this.adjustHeight).call(s,this),this.state={adhocFilter:this.props.adhocFilter,width:300,height:190}}componentDidMount(){document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)}onAdhocFilterChange(e){this.setState({adhocFilter:e})}onSave(){this.props.onChange(this.state.adhocFilter),this.props.onClose()}onDragDown(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener("mousemove",this.onMouseMove)}onMouseMove(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),300),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),190)})}onMouseUp(){document.removeEventListener("mousemove",this.onMouseMove)}adjustHeight(e){this.setState(t=>({height:t.height+e}))}render(){const e=this.props,{adhocFilter:t,options:n,datasource:a,partitionColumn:r,theme:i}=e,s=Oe()(e,["adhocFilter","options","onChange","onClose","onResize","datasource","partitionColumn","theme"]),{adhocFilter:l}=this.state,c=l.isValid(),u=!l.equals(t);return Object(ae.e)(j.a,o()({id:"filter-edit-popover"},s),Object(ae.e)(k.ThemeProvider,{theme:i},Object(ae.e)(Nt.a,{id:"adhoc-filter-edit-tabs",defaultActiveKey:l.expressionType,className:"adhoc-filter-edit-tabs",style:{height:this.state.height,width:this.state.width}},Object(ae.e)(Pt.a,{className:"adhoc-filter-edit-tab",eventKey:qn,title:"Simple"},Object(ae.e)(ea,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:n,datasource:a,onHeightChange:this.adjustHeight,partitionColumn:r})),Object(ae.e)(Pt.a,{className:"adhoc-filter-edit-tab",eventKey:Vn,title:"Custom SQL"},this.props.datasource&&"druid"===this.props.datasource.type?Object(ae.e)("div",{className:"custom-sql-disabled-message"},"Custom SQL Filters are not available on druid datasources"):Object(ae.e)(aa,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:this.props.options,height:this.state.height}))),Object(ae.e)("div",null,Object(ae.e)(z.a,{disabled:!c,buttonStyle:u&&c?"primary":"default",buttonSize:"small",className:"m-r-5",onClick:this.onSave,cta:!0},"Save"),Object(ae.e)(z.a,{buttonSize:"small",onClick:this.props.onClose,cta:!0},"Close"),Object(ae.e)("i",{role:"button",tabIndex:0,onMouseDown:this.onDragDown,className:"fa fa-expand edit-popover-resize text-muted"}))))}}ra.propTypes=oa;const ia={adhocFilter:h.a.instanceOf(Wn).isRequired,onFilterEdit:h.a.func.isRequired,options:h.a.arrayOf(h.a.oneOfType([kt,h.a.shape({saved_metric_name:h.a.string.isRequired}),rn])).isRequired,datasource:h.a.object,partitionColumn:h.a.string};class sa extends u.a.PureComponent{constructor(e){var t,n,a,o;super(e),this.closeFilterEditOverlay=i()(t=this.closeFilterEditOverlay).call(t,this),this.onPopoverResize=i()(n=this.onPopoverResize).call(n,this),this.onOverlayEntered=i()(a=this.onOverlayEntered).call(a,this),this.onOverlayExited=i()(o=this.onOverlayExited).call(o,this),this.state={overlayShown:!1}}onPopoverResize(){this.forceUpdate()}onOverlayEntered(){this.props.adhocFilter.isNew=!1,this.setState({overlayShown:!0})}onOverlayExited(){this.setState({overlayShown:!1})}closeFilterEditOverlay(){this.refs.overlay.hide()}render(){const{adhocFilter:e,theme:t}=this.props,n=Object(ae.e)(ra,{onResize:this.onPopoverResize,adhocFilter:e,onChange:this.props.onFilterEdit,onClose:this.closeFilterEditOverlay,options:this.props.options,datasource:this.props.datasource,partitionColumn:this.props.partitionColumn,theme:t});return Object(ae.e)("div",{onMouseDownCapture:e=>e.stopPropagation()},e.isExtra&&Object(ae.e)(M.InfoTooltipWithTrigger,{icon:"exclamation-triangle",placement:"top",className:"m-r-5 text-muted",tooltip:Object(T.t)("\n                This filter was inherited from the dashboard's context.\n                It won't be saved when saving the chart.\n              ")}),Object(ae.e)(w.a,{ref:"overlay",placement:"right",trigger:"click",disabled:!0,overlay:n,rootClose:!0,shouldUpdatePosition:!0,defaultOverlayShown:e.isNew,onEntered:this.onOverlayEntered,onExited:this.onOverlayExited},Object(ae.e)(Ue.a,{className:"option-label adhoc-option adhoc-filter-option"},e.getDefaultLabel(),Object(ae.e)("i",{className:"fa fa-caret-"+(this.state.overlayShown?"left":"right")+" adhoc-label-arrow"}))))}}var la=Object(k.withTheme)(sa);sa.propTypes=ia;const ca={name:h.a.string,onChange:h.a.func,value:h.a.arrayOf(Kn),datasource:h.a.object,columns:h.a.arrayOf(kt),savedMetrics:h.a.arrayOf(Mt),formData:h.a.shape({metric:h.a.oneOfType([h.a.string,rn]),metrics:h.a.arrayOf(h.a.oneOfType([h.a.string,rn]))})};function ua(e){return e&&!(e instanceof Wn)&&e.expressionType}class da extends u.a.Component{constructor(e){var t,n,a,o,r;super(e),this.optionsForSelect=i()(t=this.optionsForSelect).call(t,this),this.onFilterEdit=i()(n=this.onFilterEdit).call(n,this),this.onChange=i()(a=this.onChange).call(a,this),this.getMetricExpression=i()(o=this.getMetricExpression).call(o,this);const s=f()(r=this.props.value||[]).call(r,e=>ua(e)?new Wn(e):e);this.optionRenderer=e=>Object(ae.e)($n,{option:e}),this.valueRenderer=e=>Object(ae.e)(la,{adhocFilter:e,onFilterEdit:this.onFilterEdit,options:this.state.options,datasource:this.props.datasource}),this.state={values:s,options:this.optionsForSelect(this.props)}}componentDidMount(){const{datasource:e}=this.props;if(e&&"table"===e.type){var t;const n=null===(t=e.database)||void 0===t?void 0:t.id,{datasource_name:a,schema:o,is_sqllab_view:r}=e;!r&&n&&a&&o&&K.SupersetClient.get({endpoint:"/superset/extra_table_metadata/"+n+"/"+a+"/"+o+"/"}).then(({json:e})=>{if(e&&e.partitions){const t=e.partitions;if(t&&t.cols&&1===l()(t.cols).length){const e=t.cols[0];this.valueRenderer=t=>Object(ae.e)(la,{adhocFilter:t,onFilterEdit:this.onFilterEdit,options:this.state.options,datasource:this.props.datasource,partitionColumn:e})}}}).catch(e=>{Hn.logging.error("fetch extra_table_metadata:",e.statusText)})}}UNSAFE_componentWillReceiveProps(e){var t;(this.props.columns===e.columns&&this.props.formData===e.formData||this.setState({options:this.optionsForSelect(e)}),this.props.value!==e.value)&&this.setState({values:f()(t=e.value||[]).call(t,e=>ua(e)?new Wn(e):e)})}onFilterEdit(e){var t;this.props.onChange(f()(t=Bn()(this.state)).call(t,t=>t.filterOptionName===e.filterOptionName?e:t))}onChange(e){var t,n;const a=m()(t=f()(n=e||[]).call(n,e=>e instanceof Wn?e:e.saved_metric_name?new Wn({expressionType:"druid"===this.props.datasource.type?qn:Vn,subject:"druid"===this.props.datasource.type?e.saved_metric_name:this.getMetricExpression(e.saved_metric_name),operator:Vt.j[">"],comparator:0,clause:Un.HAVING}):e.label?new Wn({expressionType:"druid"===this.props.datasource.type?qn:Vn,subject:"druid"===this.props.datasource.type?e.label:new Qt(e).translateToSql(),operator:Vt.j[">"],comparator:0,clause:Un.HAVING}):e.column_name?new Wn({expressionType:qn,subject:e.column_name,operator:Vt.j["=="],comparator:"",clause:Un.WHERE,isNew:!0}):null)).call(t,e=>e);this.props.onChange(a)}getMetricExpression(e){var t;return F()(t=this.props.savedMetrics).call(t,t=>t.metric_name===e).expression}optionsForSelect(e){var t,n,a;const o=m()(t=[...e.columns,...f()(n=[...e.formData.metrics||[],e.formData.metric]).call(n,e=>e&&("string"==typeof e?{saved_metric_name:e}:new Qt(e)))]).call(t,e=>e);return Ln()(a=ht()(o).call(o,(e,t)=>(t.saved_metric_name?e.push(N()({},t,{filterOptionName:t.saved_metric_name})):t.column_name?e.push(N()({},t,{filterOptionName:"_col_"+t.column_name})):t instanceof Qt&&e.push(N()({},t,{filterOptionName:"_adhocmetric_"+t.label})),e),[])).call(a,(e,t)=>(e.saved_metric_name||e.column_name||e.label).localeCompare(t.saved_metric_name||t.column_name||t.label))}render(){return Object(ae.e)("div",{className:"metrics-select"},Object(ae.e)(ne.a,this.props),Object(ae.e)(St.a,{isMulti:!0,name:"select-"+this.props.name,placeholder:Object(T.t)("choose a column or metric"),options:this.state.options,value:Bn()(this.state),labelKey:"label",valueKey:"filterOptionName",clearable:!0,closeOnSelect:!0,onChange:this.onChange,optionRenderer:this.optionRenderer,valueRenderer:this.valueRenderer}))}}da.propTypes=ca,da.defaultProps={name:"",onChange:()=>{},columns:[],savedMetrics:[],formData:{}};var ha=n(266),pa=n.n(ha);const fa={marginTop:"5px",minHeight:"30px"},ba={textAlign:"right"},ma={label:h.a.string.isRequired,tooltip:h.a.string,control:h.a.node.isRequired,isCheckbox:h.a.bool};function ga({label:e,tooltip:t,control:n,isCheckbox:a}){const o=Object(ae.e)("span",null,e," ",t&&Object(ae.e)(M.InfoTooltipWithTrigger,{placement:"top",label:e,tooltip:t}));return a?Object(ae.e)(fe.a,{style:fa},Object(ae.e)(be.a,{md:4,style:ba},n),Object(ae.e)(be.a,{md:8},o)):Object(ae.e)(fe.a,{style:fa},Object(ae.e)(be.a,{md:4,style:ba},o),Object(ae.e)(be.a,{md:8},n))}ga.propTypes=ma,ga.defaultProps={tooltip:null,isCheckbox:!1};const va=new xt.a(["TINYINT","SMALLINT","INT","INTEGER","BIGINT","LONG"]),ya=new xt.a(["FLOAT","DOUBLE","REAL","NUMERIC","DECIMAL","MONEY"]),Oa={datasource:h.a.object.isRequired,onChange:h.a.func,asc:h.a.bool,clearable:h.a.bool,multiple:h.a.bool,column:h.a.string,label:h.a.string,metric:h.a.string,searchAllOptions:h.a.bool,defaultValue:h.a.string},Ca={width:350};class xa extends u.a.Component{constructor(e){var t,n;super(e);const{column:a,metric:o,asc:r,clearable:s,multiple:l,searchAllOptions:c,label:u,defaultValue:d}=e,h={column:a,metric:o,label:u,asc:r,clearable:s,multiple:l,searchAllOptions:c,defaultValue:d};this.state=h,this.onChange=i()(t=this.onChange).call(t,this),this.onControlChange=i()(n=this.onControlChange).call(n,this)}onChange(){this.props.onChange(this.state)}onControlChange(e,t){let n=t;const{column:a,multiple:o}=this.state;if(t&&!o&&e===Vt.f.DEFAULT_VALUE){var r;const{datasource:e}=this.props,o=F()(r=e.columns).call(r,e=>e.column_name===a);if(o&&o.type){const e=o.type.toUpperCase();"BOOLEAN"===e?n="true"===t:va.has(e)?n=isNaN(t)?null:pa()(t,10):ya.has(e)&&(n=isNaN(t)?null:he()(t))}}this.setState({[e]:n},this.onChange)}setType(){}textSummary(){return this.state.column||"N/A"}renderForm(){var e,t,n,a,o,r;return Object(ae.e)("div",null,Object(ae.e)(ga,{label:Object(T.t)("Column"),control:Object(ae.e)($.a,{value:this.state.column,name:"column",clearable:!1,options:v()(e=f()(t=m()(n=this.props.datasource.columns).call(n,e=>e!==this.state.column)).call(t,e=>({value:e.column_name,label:e.column_name}))).call(e,[{value:this.state.column,label:this.state.column}]),onChange:e=>this.onControlChange("column",e)})}),Object(ae.e)(ga,{label:Object(T.t)("Label"),control:Object(ae.e)(Z.a,{value:this.state.label,name:"label",onChange:e=>this.onControlChange("label",e)})}),Object(ae.e)(ga,{label:Object(T.t)("Default"),tooltip:Object(T.t)("(optional) default value for the filter, when using the multiple option, you can use a semicolon-delimited list of options."),control:Object(ae.e)(Z.a,{value:this.state.defaultValue,name:"defaultValue",onChange:e=>this.onControlChange(Vt.f.DEFAULT_VALUE,e)})}),Object(ae.e)(ga,{label:Object(T.t)("Sort Metric"),tooltip:Object(T.t)("Metric to sort the results by"),control:Object(ae.e)($.a,{value:this.state.metric,name:"column",options:v()(a=f()(o=m()(r=this.props.datasource.metrics).call(r,e=>e!==this.state.metric)).call(o,e=>({value:e.metric_name,label:e.metric_name}))).call(a,[{value:this.state.metric,label:this.state.metric}]),onChange:e=>this.onControlChange("metric",e)})}),Object(ae.e)(ga,{label:Object(T.t)("Sort Ascending"),tooltip:Object(T.t)("Check for sorting ascending"),isCheckbox:!0,control:Object(ae.e)(J.a,{value:this.state.asc,onChange:e=>this.onControlChange("asc",e)})}),Object(ae.e)(ga,{label:Object(T.t)("Allow Multiple Selections"),isCheckbox:!0,tooltip:Object(T.t)("Multiple selections allowed, otherwise filter is limited to a single value"),control:Object(ae.e)(J.a,{value:this.state.multiple,onChange:e=>this.onControlChange(Vt.f.MULTIPLE,e)})}),Object(ae.e)(ga,{label:Object(T.t)("Search All Filter Options"),tooltip:Object(T.t)("By default, each filter loads at most 1000 choices at the initial page load. Check this box if you have more than 1000 filter values and want to enable dynamically searching that loads filter values as users type (may add stress to your database)."),isCheckbox:!0,control:Object(ae.e)(J.a,{value:this.state.searchAllOptions,onChange:e=>this.onControlChange(Vt.f.SEARCH_ALL_OPTIONS,e)})}),Object(ae.e)(ga,{label:Object(T.t)("Required"),tooltip:Object(T.t)("User must select a value for this filter"),isCheckbox:!0,control:Object(ae.e)(J.a,{value:!this.state.clearable,onChange:e=>this.onControlChange("clearable",!e)})}))}renderPopover(){return Object(ae.e)(j.a,{id:"ts-col-popo",title:Object(T.t)("Filter Configuration")},Object(ae.e)("div",{style:Ca},this.renderForm()))}render(){return Object(ae.e)("span",null,this.textSummary()," ",Object(ae.e)(w.a,{container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},Object(ae.e)(M.InfoTooltipWithTrigger,{icon:"edit",className:"text-primary",label:"edit-ts-column"})))}}function ja(e,t,n){class a extends u.a.Component{constructor(e){var t;super(e),this.state={validOptions:null,hasRunVerification:!1},this.getValidOptions=i()(t=this.getValidOptions).call(t,this)}componentDidMount(){this.getValidOptions()}componentDidUpdate(e){const{hasRunVerification:t}=this.state;wt()(this.props.controlValues,e.controlValues)&&t||this.getValidOptions()}getValidOptions(){const e=this.props.getEndpoint(this.props.controlValues);e&&(K.SupersetClient.get({endpoint:e}).then(({json:e})=>{vt()(e)&&this.setState({validOptions:new xt.a(e)||new xt.a})}).catch(e=>Hn.logging.log(e)),this.state.hasRunVerification||this.setState({hasRunVerification:!0}))}render(){const{validOptions:a}=this.state,o=this.props[n],r=a?m()(o).call(o,e=>a.has(e[t])):o,i=N()({},this.props,{[n]:r});return Object(ae.e)(e,i)}}return a.propTypes=e.propTypes,a}xa.propTypes=Oa,xa.defaultProps={onChange:()=>{},asc:!0,clearable:!0,multiple:!0,searchAllOptions:!1};var wa={AnnotationLayerControl:ue,BoundsControl:ve,CheckboxControl:J.a,CollectionControl:ke,ColorMapControl:Re,ColorPickerControl:Fe,ColorSchemeControl:Le.a,DatasourceControl:ot,DateFilterControl:rt.a,FixedOrMetricControl:vn,HiddenControl:On,SelectAsyncControl:Cn.a,SelectControl:$.a,SliderControl:En,SpatialControl:_n.a,TextAreaControl:Tn.a,TextControl:Z.a,TimeSeriesColumnControl:Dn,ViewportControl:Nn.b,VizTypeControl:Pn.a,MetricsControl:pn,AdhocFilterControl:da,FilterBoxItemControl:xa,MetricsControlVerifiedOptions:ja(pn,"metric_name","savedMetrics"),SelectControlVerifiedOptions:ja($.a,"column_name","options"),AdhocFilterControlVerifiedOptions:ja(da,"column_name","columns")};const Sa=l()(wa),Ea={actions:h.a.object.isRequired,name:h.a.string.isRequired,type:h.a.oneOfType([h.a.oneOf(Sa).isRequired,h.a.func.isRequired]),hidden:h.a.bool,label:h.a.string.isRequired,choices:h.a.oneOfType([h.a.arrayOf(h.a.array),h.a.func]),description:h.a.string,tooltipOnClick:h.a.func,places:h.a.number,validationErrors:h.a.array,renderTrigger:h.a.bool,rightNode:h.a.node,formData:h.a.object,value:h.a.oneOfType([h.a.string,h.a.number,h.a.object,h.a.bool,h.a.array,h.a.func])};class _a extends u.a.PureComponent{constructor(e){var t,n,a;super(e),this.state={hovered:!1},this.onChange=i()(t=this.onChange).call(t,this),this.onMouseEnter=i()(n=this.setHover).call(n,this,!0),this.onMouseLeave=i()(a=this.setHover).call(a,this,!1)}onChange(e,t){this.props.actions.setControlValue(this.props.name,e,t)}setHover(e){this.setState({hovered:e})}render(){const{type:e,hidden:t}=this.props;if(!e)return null;const n="string"==typeof e?wa[e]:e;return Object(ae.e)("div",{className:"Control","data-test":this.props.name,style:t?{display:"none"}:void 0,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},Object(ae.e)(n,o()({onChange:this.onChange,hovered:this.state.hovered},this.props)))}}_a.propTypes=Ea,_a.defaultProps={renderTrigger:!1,hidden:!1,validationErrors:[]}},2490:function(e,t,n){var a=n(492);e.exports=function(e){return"function"==typeof e?e:a}},2491:function(e,t,n){var a=n(814),o=n(799),r=n(1016),i=n(1101),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)a(t,r(e)),e=o(e);return t}:i;e.exports=s},2492:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var a=i(n(1)),o=i(n(121)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2695));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.Checkboard=function(e){var t=e.white,n=e.grey,i=e.size,s=e.renderers,l=e.borderRadius,c=e.boxShadow,u=(0,o.default)({default:{grid:{borderRadius:l,boxShadow:c,absolute:"0px 0px 0px 0px",background:"url("+r.get(t,n,i,s.canvas)+") center left"}}});return a.default.createElement("div",{style:u.grid})};s.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=s},2493:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),i=c(r),s=c(n(72)),l=c(n(488));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.ColorWrap=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(l.default.simpleCheckForValidColor(e)){var a=l.default.toState(e,e.h||t.state.oldHue);t.setState(a),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,a,n),t.props.onChange&&t.props.onChange(a,n)}},t.handleSwatchHover=function(e,n){if(l.default.simpleCheckForValidColor(e)){var a=l.default.toState(e,e.h||t.state.oldHue);t.setState(a),t.props.onSwatchHover&&t.props.onSwatchHover(a,n)}},t.state=a({},l.default.toState(e.color,0)),t.debounce=(0,s.default)((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),o(n,[{key:"componentWillReceiveProps",value:function(e){this.setState(a({},l.default.toState(e.color,this.state.oldHue)))}},{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),i.default.createElement(e,a({},this.props,this.state,{onChange:this.handleChange},t))}}]),n}(r.PureComponent||r.Component);return t.propTypes=a({},e.propTypes),t.defaultProps=a({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=u},2494:function(e,t,n){"use strict";n.r(t),n.d(t,"red",(function(){return a})),n.d(t,"pink",(function(){return o})),n.d(t,"purple",(function(){return r})),n.d(t,"deepPurple",(function(){return i})),n.d(t,"indigo",(function(){return s})),n.d(t,"blue",(function(){return l})),n.d(t,"lightBlue",(function(){return c})),n.d(t,"cyan",(function(){return u})),n.d(t,"teal",(function(){return d})),n.d(t,"green",(function(){return h})),n.d(t,"lightGreen",(function(){return p})),n.d(t,"lime",(function(){return f})),n.d(t,"yellow",(function(){return b})),n.d(t,"amber",(function(){return m})),n.d(t,"orange",(function(){return g})),n.d(t,"deepOrange",(function(){return v})),n.d(t,"brown",(function(){return y})),n.d(t,"grey",(function(){return O})),n.d(t,"blueGrey",(function(){return C})),n.d(t,"darkText",(function(){return x})),n.d(t,"lightText",(function(){return j})),n.d(t,"darkIcons",(function(){return w})),n.d(t,"lightIcons",(function(){return S})),n.d(t,"white",(function(){return E})),n.d(t,"black",(function(){return _}));var a={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},o={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},r={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},i={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},l={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},c={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},u={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},d={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},h={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},p={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},f={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},b={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},m={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},v={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},y={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},O={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},C={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},x={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},j={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},w={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},S={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},E="#ffffff",_="#000000";t.default={red:a,pink:o,purple:r,deepPurple:i,indigo:s,blue:l,lightBlue:c,cyan:u,teal:d,green:h,lightGreen:p,lime:f,yellow:b,amber:m,orange:g,deepOrange:v,brown:y,grey:O,blueGrey:C,darkText:x,lightText:j,darkIcons:w,lightIcons:S,white:E,black:_}},2495:function(e,t,n){"use strict";var a=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(e){var t=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t.filter((function(t){return a.call(e,t)}))}e.exports=Object.assign||function(e,t){for(var n,a,i=o(e),s=1;s<arguments.length;s++){n=arguments[s],a=r(Object(n));for(var l=0;l<a.length;l++)i[a[l]]=n[a[l]]}return i}},2496:function(e,t,n){var a=n(2497);e.exports=a},2497:function(e,t,n){n(341);var a=n(82);e.exports=a("Array").entries},2498:function(e,t,n){},2499:function(e,t,n){n(445),n(2500);var a=n(91);e.exports=a.Array.from},2500:function(e,t,n){var a=n(43),o=n(912);a({target:"Array",stat:!0,forced:!n(911)((function(e){Array.from(e)}))},{from:o})},2501:function(e,t,n){var a=n(535),o=n(1667),r=n(1106),i=n(2609),s=n(2676),l=n(1103),c=n(913),u=n(2677),d=n(2678),h=n(1099),p=n(2679),f=n(690),b=n(2680),m=n(2681),g=n(1105),v=n(138),y=n(463),O=n(2685),C=n(180),x=n(2687),j=n(491),w=n(534),S={};S["[object Arguments]"]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S["[object Object]"]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S["[object Function]"]=S["[object WeakMap]"]=!1,e.exports=function e(t,n,E,_,T,k){var M,A=1&n,R=2&n,D=4&n;if(E&&(M=T?E(t,_,T,k):E(t)),void 0!==M)return M;if(!C(t))return t;var N=v(t);if(N){if(M=b(t),!A)return c(t,M)}else{var P=f(t),F="[object Function]"==P||"[object GeneratorFunction]"==P;if(y(t))return l(t,A);if("[object Object]"==P||"[object Arguments]"==P||F&&!T){if(M=R||F?{}:g(t),!A)return R?d(t,s(M,t)):u(t,i(M,t))}else{if(!S[P])return T?t:{};M=m(t,P,A)}}k||(k=new a);var L=k.get(t);if(L)return L;k.set(t,M),x(t)?t.forEach((function(a){M.add(e(a,n,E,a,t,k))})):O(t)&&t.forEach((function(a,o){M.set(o,e(a,n,E,o,t,k))}));var I=N?void 0:(D?R?p:h:R?w:j)(t);return o(I||t,(function(a,o){I&&(a=t[o=a]),r(M,o,e(a,n,E,o,t,k))})),M}},2502:function(e,t,n){var a;!function(o){var r=/^\s+/,i=/\s+$/,s=0,l=o.round,c=o.min,u=o.max,d=o.random;function h(e,t){if(t=t||{},(e=e||"")instanceof h)return e;if(!(this instanceof h))return new h(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,a=null,s=null,l=null,d=!1,h=!1;"string"==typeof e&&(e=function(e){e=e.replace(r,"").replace(i,"").toLowerCase();var t,n=!1;if(M[e])e=M[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=U.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=U.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=U.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=U.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=U.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=U.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=U.hex8.exec(e))return{r:P(t[1]),g:P(t[2]),b:P(t[3]),a:B(t[4]),format:n?"name":"hex8"};if(t=U.hex6.exec(e))return{r:P(t[1]),g:P(t[2]),b:P(t[3]),format:n?"name":"hex"};if(t=U.hex4.exec(e))return{r:P(t[1]+""+t[1]),g:P(t[2]+""+t[2]),b:P(t[3]+""+t[3]),a:B(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=U.hex3.exec(e))return{r:P(t[1]+""+t[1]),g:P(t[2]+""+t[2]),b:P(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(z(e.r)&&z(e.g)&&z(e.b)?(p=e.r,f=e.g,b=e.b,t={r:255*D(p,255),g:255*D(f,255),b:255*D(b,255)},d=!0,h="%"===String(e.r).substr(-1)?"prgb":"rgb"):z(e.h)&&z(e.s)&&z(e.v)?(a=L(e.s),s=L(e.v),t=function(e,t,n){e=6*D(e,360),t=D(t,100),n=D(n,100);var a=o.floor(e),r=e-a,i=n*(1-t),s=n*(1-r*t),l=n*(1-(1-r)*t),c=a%6;return{r:255*[n,s,i,i,l,n][c],g:255*[l,n,n,s,i,i][c],b:255*[i,i,l,n,n,s][c]}}(e.h,a,s),d=!0,h="hsv"):z(e.h)&&z(e.s)&&z(e.l)&&(a=L(e.s),l=L(e.l),t=function(e,t,n){var a,o,r;function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=D(e,360),t=D(t,100),n=D(n,100),0===t)a=o=r=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=i(l,s,e+1/3),o=i(l,s,e),r=i(l,s,e-1/3)}return{r:255*a,g:255*o,b:255*r}}(e.h,a,l),d=!0,h="hsl"),e.hasOwnProperty("a")&&(n=e.a));var p,f,b;return n=R(n),{ok:d,format:e.format||h,r:c(255,u(t.r,0)),g:c(255,u(t.g,0)),b:c(255,u(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function p(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var a,o,r=u(e,t,n),i=c(e,t,n),s=(r+i)/2;if(r==i)a=o=0;else{var l=r-i;switch(o=s>.5?l/(2-r-i):l/(r+i),r){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:a,s:o,l:s}}function f(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var a,o,r=u(e,t,n),i=c(e,t,n),s=r,l=r-i;if(o=0===r?0:l/r,r==i)a=0;else{switch(r){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:a,s:o,v:s}}function b(e,t,n,a){var o=[F(l(e).toString(16)),F(l(t).toString(16)),F(l(n).toString(16))];return a&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function m(e,t,n,a){return[F(I(a)),F(l(e).toString(16)),F(l(t).toString(16)),F(l(n).toString(16))].join("")}function g(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.s-=t/100,n.s=N(n.s),h(n)}function v(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.s+=t/100,n.s=N(n.s),h(n)}function y(e){return h(e).desaturate(100)}function O(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.l+=t/100,n.l=N(n.l),h(n)}function C(e,t){t=0===t?0:t||10;var n=h(e).toRgb();return n.r=u(0,c(255,n.r-l(-t/100*255))),n.g=u(0,c(255,n.g-l(-t/100*255))),n.b=u(0,c(255,n.b-l(-t/100*255))),h(n)}function x(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.l-=t/100,n.l=N(n.l),h(n)}function j(e,t){var n=h(e).toHsl(),a=(n.h+t)%360;return n.h=a<0?360+a:a,h(n)}function w(e){var t=h(e).toHsl();return t.h=(t.h+180)%360,h(t)}function S(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+120)%360,s:t.s,l:t.l}),h({h:(n+240)%360,s:t.s,l:t.l})]}function E(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+90)%360,s:t.s,l:t.l}),h({h:(n+180)%360,s:t.s,l:t.l}),h({h:(n+270)%360,s:t.s,l:t.l})]}function _(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+72)%360,s:t.s,l:t.l}),h({h:(n+216)%360,s:t.s,l:t.l})]}function T(e,t,n){t=t||6,n=n||30;var a=h(e).toHsl(),o=360/n,r=[h(e)];for(a.h=(a.h-(o*t>>1)+720)%360;--t;)a.h=(a.h+o)%360,r.push(h(a));return r}function k(e,t){t=t||6;for(var n=h(e).toHsv(),a=n.h,o=n.s,r=n.v,i=[],s=1/t;t--;)i.push(h({h:a,s:o,v:r})),r=(r+s)%1;return i}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,a=this.toRgb();return e=a.r/255,t=a.g/255,n=a.b/255,.2126*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:o.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=R(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=f(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),a=l(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+a+"%)":"hsva("+t+", "+n+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),a=l(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+a+"%)":"hsla("+t+", "+n+"%, "+a+"%, "+this._roundA+")"},toHex:function(e){return b(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,a,o){var r=[F(l(e).toString(16)),F(l(t).toString(16)),F(l(n).toString(16)),F(I(a))];if(o&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1))return r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0);return r.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*D(this._r,255))+"%",g:l(100*D(this._g,255))+"%",b:l(100*D(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*D(this._r,255))+"%, "+l(100*D(this._g,255))+"%, "+l(100*D(this._b,255))+"%)":"rgba("+l(100*D(this._r,255))+"%, "+l(100*D(this._g,255))+"%, "+l(100*D(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(A[b(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+m(this._r,this._g,this._b,this._a),n=t,a=this._gradientType?"GradientType = 1, ":"";if(e){var o=h(e);n="#"+m(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,a=this._a<1&&this._a>=0;return t||!a||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(O,arguments)},brighten:function(){return this._applyModification(C,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(j,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(_,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},h.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]="a"===a?e[a]:L(e[a]));e=n}return h(e,t)},h.equals=function(e,t){return!(!e||!t)&&h(e).toRgbString()==h(t).toRgbString()},h.random=function(){return h.fromRatio({r:d(),g:d(),b:d()})},h.mix=function(e,t,n){n=0===n?0:n||50;var a=h(e).toRgb(),o=h(t).toRgb(),r=n/100;return h({r:(o.r-a.r)*r+a.r,g:(o.g-a.g)*r+a.g,b:(o.b-a.b)*r+a.b,a:(o.a-a.a)*r+a.a})},h.readability=function(e,t){var n=h(e),a=h(t);return(o.max(n.getLuminance(),a.getLuminance())+.05)/(o.min(n.getLuminance(),a.getLuminance())+.05)},h.isReadable=function(e,t,n){var a,o,r=h.readability(e,t);switch(o=!1,(a=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+a.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7}return o},h.mostReadable=function(e,t,n){var a,o,r,i,s=null,l=0;o=(n=n||{}).includeFallbackColors,r=n.level,i=n.size;for(var c=0;c<t.length;c++)(a=h.readability(e,t[c]))>l&&(l=a,s=h(t[c]));return h.isReadable(e,s,{level:r,size:i})||!o?s:(n.includeFallbackColors=!1,h.mostReadable(e,["#fff","#000"],n))};var M=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=h.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(M);function R(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function D(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),o.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function N(e){return c(1,u(0,e))}function P(e){return parseInt(e,16)}function F(e){return 1==e.length?"0"+e:""+e}function L(e){return e<=1&&(e=100*e+"%"),e}function I(e){return o.round(255*parseFloat(e)).toString(16)}function B(e){return P(e)/255}var H,q,V,U=(q="[\\s|\\(]+("+(H="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?",V="[\\s|\\(]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?",{CSS_UNIT:new RegExp(H),rgb:new RegExp("rgb"+q),rgba:new RegExp("rgba"+V),hsl:new RegExp("hsl"+q),hsla:new RegExp("hsla"+V),hsv:new RegExp("hsv"+q),hsva:new RegExp("hsva"+V),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function z(e){return!!U.CSS_UNIT.exec(e)}e.exports?e.exports=h:void 0===(a=function(){return h}.call(t,n,t,e))||(e.exports=a)}(Math)},2503:function(e,t,n){n(2504);var a=n(91);e.exports=a.Object.is},2504:function(e,t,n){n(43)({target:"Object",stat:!0},{is:n(2505)})},2505:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},2506:function(e,t,n){},2508:function(e,t,n){var a=n(291),o=n(138),r=n(228);e.exports=function(e){return"string"==typeof e||!o(e)&&r(e)&&"[object String]"==a(e)}},2609:function(e,t,n){var a=n(765),o=n(491);e.exports=function(e,t){return e&&a(t,o(t),e)}},2613:function(e,t,n){var a=n(1674);e.exports=a},264:function(e,t,n){e.exports={default:n(1402),__esModule:!0}},2671:function(e,t,n){},2672:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPicker=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=l(n(1)),r=l(n(121)),i=n(222),s=l(n(2706));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.AlphaPicker=function(e){var t=e.rgb,n=e.hsl,s=e.width,l=e.height,c=e.onChange,u=e.direction,d=e.style,h=e.renderers,p=e.pointer,f=e.className,b=void 0===f?"":f,m=(0,r.default)({default:{picker:{position:"relative",width:s,height:l},alpha:{radius:"2px",style:d}}});return o.default.createElement("div",{style:m.picker,className:"alpha-picker "+b},o.default.createElement(i.Alpha,a({},m.alpha,{rgb:t,hsl:n,pointer:p,renderers:h,onChange:c,direction:u})))};c.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},t.default=(0,i.ColorWrap)(c)},2673:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var a=s(n(2508)),o=s(n(1666)),r=s(n(462)),i=s(n(489));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,i.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,r.default)(t)?(0,o.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,a.default)(t)&&n.push(t)})),n};t.default=l},2674:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var a=i(n(1666)),o=i(n(2675)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function i(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,o.default)(e.default)||{};return t.map((function(t){var o=e[t];return o&&(0,a.default)(o,(function(e,t){n[t]||(n[t]={}),n[t]=r({},n[t],o[t])})),t})),n};t.default=s},2675:function(e,t,n){var a=n(2501);e.exports=function(e){return a(e,5)}},2676:function(e,t,n){var a=n(765),o=n(534);e.exports=function(e,t){return e&&a(t,o(t),e)}},2677:function(e,t,n){var a=n(765),o=n(1016);e.exports=function(e,t){return a(e,o(e),t)}},2678:function(e,t,n){var a=n(765),o=n(2491);e.exports=function(e,t){return a(e,o(e),t)}},2679:function(e,t,n){var a=n(1100),o=n(2491),r=n(534);e.exports=function(e){return a(e,r,o)}},2680:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,a=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(a.index=e.index,a.input=e.input),a}},2681:function(e,t,n){var a=n(1017),o=n(2682),r=n(2683),i=n(2684),s=n(1104);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return a(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return r(e);case"[object Set]":return new l;case"[object Symbol]":return i(e)}}},2682:function(e,t,n){var a=n(1017);e.exports=function(e,t){var n=t?a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},2683:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},2684:function(e,t,n){var a=n(371),o=a?a.prototype:void 0,r=o?o.valueOf:void 0;e.exports=function(e){return r?Object(r.call(e)):{}}},2685:function(e,t,n){var a=n(2686),o=n(813),r=n(1015),i=r&&r.isMap,s=i?o(i):a;e.exports=s},2686:function(e,t,n){var a=n(690),o=n(228);e.exports=function(e){return o(e)&&"[object Map]"==a(e)}},2687:function(e,t,n){var a=n(2688),o=n(813),r=n(1015),i=r&&r.isSet,s=i?o(i):a;e.exports=s},2688:function(e,t,n){var a=n(690),o=n(228);e.exports=function(e){return o(e)&&"[object Set]"==a(e)}},2689:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var a,o=n(1666),r=(a=o)&&a.__esModule?a:{default:a},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,r.default)(e,(function(e,n){var a={};(0,r.default)(e,(function(e,t){var n=s[t];n?a=i({},a,n(e)):a[t]=e})),t[n]=a})),t};t.default=l},269:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(53),o=n.n(a),r=n(10),i=n.n(r),s=n(1),l=n.n(s),c=n(0),u=n.n(c),d=n(98),h=n(747),p=n(2);const f={value:u.a.bool,label:u.a.string,onChange:u.a.func},b={paddingRight:"5px"};class m extends l.a.Component{onChange(){this.props.onChange(!this.props.value)}renderCheckbox(){var e;return Object(p.e)(h.a,{onChange:i()(e=this.onChange).call(e,this),style:b,checked:!!this.props.value})}render(){var e;return this.props.label?Object(p.e)(d.a,o()({},this.props,{leftNode:this.renderCheckbox(),onClick:i()(e=this.onChange).call(e,this)})):this.renderCheckbox()}}m.propTypes=f,m.defaultProps={value:!1,onChange:()=>{}}},2690:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(1),i=(a=r)&&a.__esModule?a:{default:a};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function a(){var n,r,c;s(this,a);for(var u=arguments.length,d=Array(u),h=0;h<u;h++)d[h]=arguments[h];return r=c=l(this,(n=a.__proto__||Object.getPrototypeOf(a)).call.apply(n,[this].concat(d))),c.state={hover:!1},c.handleMouseOver=function(){return c.setState({hover:!0})},c.handleMouseOut=function(){return c.setState({hover:!1})},c.render=function(){return i.default.createElement(t,{onMouseOver:c.handleMouseOver,onMouseOut:c.handleMouseOut},i.default.createElement(e,o({},c.props,c.state)))},l(c,r)}return c(a,n),a}(i.default.Component)};t.default=u},2691:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(1),i=(a=r)&&a.__esModule?a:{default:a};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function a(){var n,r,c;s(this,a);for(var u=arguments.length,d=Array(u),h=0;h<u;h++)d[h]=arguments[h];return r=c=l(this,(n=a.__proto__||Object.getPrototypeOf(a)).call.apply(n,[this].concat(d))),c.state={active:!1},c.handleMouseDown=function(){return c.setState({active:!0})},c.handleMouseUp=function(){return c.setState({active:!1})},c.render=function(){return i.default.createElement(t,{onMouseDown:c.handleMouseDown,onMouseUp:c.handleMouseUp},i.default.createElement(e,o({},c.props,c.state)))},l(c,r)}return c(a,n),a}(i.default.Component)};t.default=u},2692:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},a=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&a("first-child"),e===t-1&&a("last-child"),(0===e||e%2==0)&&a("even"),1===Math.abs(e%2)&&a("odd"),a("nth-child",e),n}},2693:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),i=u(r),s=u(n(121)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2694)),c=u(n(2492));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=t.Alpha=function(e){function t(){var e,n,a;d(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.handleChange=function(e,t){var n=l.calculateChange(e,t,a.props,a.container);n&&a.props.onChange&&a.props.onChange(n,e)},a.handleMouseDown=function(e){a.handleChange(e,!0),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},a.unbindEventListeners=function(){window.removeEventListener("mousemove",a.handleChange),window.removeEventListener("mouseup",a.handleMouseUp)},h(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,s.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:a({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return i.default.createElement("div",{style:n.alpha},i.default.createElement("div",{style:n.checkboard},i.default.createElement(c.default,{renderers:this.props.renderers})),i.default.createElement("div",{style:n.gradient}),i.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("div",{style:n.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:n.slider}))))}}]),t}(r.PureComponent||r.Component);t.default=p},2694:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,a){e.preventDefault();var o=a.clientWidth,r=a.clientHeight,i="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=i-(a.getBoundingClientRect().left+window.pageXOffset),c=s-(a.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var u=void 0;if(u=c<0?0:c>r?1:Math.round(100*c/r)/100,n.hsl.a!==u)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:u,source:"rgb"}}else{var d=void 0;if(d=l<0?0:l>o?1:Math.round(100*l/o)/100,n.a!==d)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:d,source:"rgb"}}return null}},2695:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={},o=t.render=function(e,t,n,a){if("undefined"==typeof document&&!a)return null;var o=a?new a:document.createElement("canvas");o.width=2*n,o.height=2*n;var r=o.getContext("2d");return r?(r.fillStyle=e,r.fillRect(0,0,o.width,o.height),r.fillStyle=t,r.fillRect(0,0,n,n),r.translate(n,n),r.fillRect(0,0,n,n),o.toDataURL()):null};t.get=function(e,t,n,r){var i=e+"-"+t+"-"+n+(r?"-server":""),s=o(e,t,n,r);return a[i]?a[i]:(a[i]=s,s)}},2696:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),r=s(o),i=s(n(121));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,e.target.value),e):n.props.onChange&&n.props.onChange(e.target.value,e),n.setState({value:e.target.value})},n.handleKeyDown=function(e){var t=String(e.target.value),a=t.indexOf("%")>-1,o=Number(t.replace(/%/g,""));if(!isNaN(o)){var r=n.props.arrowOffset||1;38===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,o+r),e):n.props.onChange&&n.props.onChange(o+r,e),a?n.setState({value:o+r+"%"}):n.setState({value:o+r})),40===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,o-r),e):n.props.onChange&&n.props.onChange(o-r,e),a?n.setState({value:o-r+"%"}):n.setState({value:o-r}))}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(l({},n.props.label,t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=(0,i.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return r.default.createElement("div",{style:t.wrap},r.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?r.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(o.PureComponent||o.Component);t.default=c},2697:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),r=l(o),i=l(n(121)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2698));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.Hue=function(e){function t(){var e,n,a;c(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.handleChange=function(e,t){var n=s.calculateChange(e,t,a.props,a.container);n&&a.props.onChange&&a.props.onChange(n,e)},a.handleMouseDown=function(e){a.handleChange(e,!0),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},u(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,a=(0,i.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return r.default.createElement("div",{style:a.hue},r.default.createElement("div",{className:"hue-"+n,style:a.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},r.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),r.default.createElement("div",{style:a.pointer},this.props.pointer?r.default.createElement(this.props.pointer,this.props):r.default.createElement("div",{style:a.slider}))))}}]),t}(o.PureComponent||o.Component);t.default=d},2698:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,a){e.preventDefault();var o=a.clientWidth,r=a.clientHeight,i="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=i-(a.getBoundingClientRect().left+window.pageXOffset),c=s-(a.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var u=void 0;if(c<0)u=359;else if(c>r)u=0;else{u=360*(-100*c/r+100)/100}if(n.hsl.h!==u)return{h:u,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}else{var d=void 0;if(l<0)d=0;else if(l>o)d=359;else{d=360*(100*l/o)/100}if(n.hsl.h!==d)return{h:d,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}return null}},2699:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var a=i(n(1)),o=i(n(0)),r=i(n(121));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.Raised=function(e){var t=e.zDepth,n=e.radius,o=e.background,i=e.children,s=(0,r.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:o}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},{"zDepth-1":1===t});return a.default.createElement("div",{style:s.wrap},a.default.createElement("div",{style:s.bg}),a.default.createElement("div",{style:s.content},i))};s.propTypes={background:o.default.string,zDepth:o.default.oneOf([0,1,2,3,4,5]),radius:o.default.number},s.defaultProps={background:"#fff",zDepth:1,radius:2},t.default=s},2700:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),r=c(o),i=c(n(121)),s=c(n(1384)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2701));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e,t){n.props.onChange&&n.throttle(n.props.onChange,l.calculateChange(e,t,n.props,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,s.default)((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,a=t.white,o=t.black,s=t.pointer,l=t.circle,c=(0,i.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:a,black:o,pointer:s,circle:l}},{custom:!!this.props.style});return r.default.createElement("div",{style:c.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},r.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),r.default.createElement("div",{style:c.white,className:"saturation-white"},r.default.createElement("div",{style:c.black,className:"saturation-black"}),r.default.createElement("div",{style:c.pointer},this.props.pointer?r.default.createElement(this.props.pointer,this.props):r.default.createElement("div",{style:c.circle}))))}}]),t}(o.PureComponent||o.Component);t.default=u},2701:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,a){e.preventDefault();var o=a.getBoundingClientRect(),r=o.width,i=o.height,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=s-(a.getBoundingClientRect().left+window.pageXOffset),u=l-(a.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>r?c=r:u<0?u=0:u>i&&(u=i);var d=100*c/r,h=-100*u/i+100;return{h:n.hsl.h,s:d,v:h,a:n.hsl.a,source:"rgb"}}},2702:function(e,t,n){e.exports=n(2703)},2703:function(e,t,n){var a=n(1667),o=n(1365),r=n(2490),i=n(138);e.exports=function(e,t){return(i(e)?a:o)(e,r(t))}},2704:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=l(n(1)),r=l(n(121)),i=n(2705),s=n(222);function l(e){return e&&e.__esModule?e:{default:e}}var c=t.Swatch=function(e){var t=e.color,n=e.style,i=e.onClick,l=void 0===i?function(){}:i,c=e.onHover,u=e.title,d=void 0===u?t:u,h=e.children,p=e.focus,f=e.focusStyle,b=void 0===f?{}:f,m="transparent"===t,g=(0,r.default)({default:{swatch:a({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,p?b:{})}}),v={};return c&&(v.onMouseOver=function(e){return c(t,e)}),o.default.createElement("div",a({style:g.swatch,onClick:function(e){return l(t,e)},title:d,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&l(t,e)}},v),h,m&&o.default.createElement(s.Checkboard,{borderRadius:g.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,i.handleFocus)(c)},2705:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),s=(a=i)&&a.__esModule?a:{default:a};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function a(){var e,t,n;l(this,a);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=n=c(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(r))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},c(n,t)}return u(a,n),r(a,[{key:"render",value:function(){return s.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},s.default.createElement(e,o({},this.props,this.state)))}}]),a}(s.default.Component)}},2706:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPointer=void 0;var a=r(n(1)),o=r(n(121));function r(e){return e&&e.__esModule?e:{default:e}}var i=t.AlphaPointer=function(e){var t=e.direction,n=(0,o.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return a.default.createElement("div",{style:n.picker})};t.default=i},2707:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var a=c(n(1)),o=c(n(0)),r=c(n(121)),i=c(n(488)),s=n(222),l=c(n(2708));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Block=function(e){var t=e.onChange,n=e.onSwatchHover,o=e.hex,c=e.colors,u=e.width,d=e.triangle,h=e.className,p=void 0===h?"":h,f="transparent"===o,b=function(e,n){i.default.isValidHex(e)&&t({hex:e,source:"hex"},n)},m=(0,r.default)({default:{card:{width:u,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:o,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:i.default.getContrastingColor(o),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+o+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},{"hide-triangle":"hide"===d});return a.default.createElement("div",{style:m.card,className:"block-picker "+p},a.default.createElement("div",{style:m.triangle}),a.default.createElement("div",{style:m.head},f&&a.default.createElement(s.Checkboard,{borderRadius:"6px 6px 0 0"}),a.default.createElement("div",{style:m.label},o)),a.default.createElement("div",{style:m.body},a.default.createElement(l.default,{colors:c,onClick:b,onSwatchHover:n}),a.default.createElement(s.EditableInput,{style:{input:m.input},value:o,onChange:b})))};u.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),colors:o.default.arrayOf(o.default.string),triangle:o.default.oneOf(["top","hide"])},u.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top"},t.default=(0,s.ColorWrap)(u)},2708:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSwatches=void 0;var a=s(n(1)),o=s(n(121)),r=s(n(489)),i=n(222);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.BlockSwatches=function(e){var t=e.colors,n=e.onClick,s=e.onSwatchHover,l=(0,o.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return a.default.createElement("div",{style:l.swatches},(0,r.default)(t,(function(e){return a.default.createElement(i.Swatch,{key:e,color:e,style:l.swatch,onClick:n,onHover:s,focusStyle:{boxShadow:"0 0 4px "+e}})})),a.default.createElement("div",{style:l.clear}))};t.default=l},2709:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var a=u(n(1)),o=u(n(0)),r=u(n(121)),i=u(n(489)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2494)),l=n(222),c=u(n(2710));function u(e){return e&&e.__esModule?e:{default:e}}var d=t.Circle=function(e){var t=e.width,n=e.onChange,o=e.onSwatchHover,s=e.colors,l=e.hex,u=e.circleSize,d=e.circleSpacing,h=e.className,p=void 0===h?"":h,f=(0,r.default)({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-d,marginBottom:-d}}}),b=function(e,t){return n({hex:e,source:"hex"},t)};return a.default.createElement("div",{style:f.card,className:"circle-picker "+p},(0,i.default)(s,(function(e){return a.default.createElement(c.default,{key:e,color:e,onClick:b,onSwatchHover:o,active:l===e.toLowerCase(),circleSize:u,circleSpacing:d})})))};d.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),circleSize:o.default.number,circleSpacing:o.default.number},d.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[s.red[500],s.pink[500],s.purple[500],s.deepPurple[500],s.indigo[500],s.blue[500],s.lightBlue[500],s.cyan[500],s.teal[500],s.green[500],s.lightGreen[500],s.lime[500],s.yellow[500],s.amber[500],s.orange[500],s.deepOrange[500],s.brown[500],s.blueGrey[500]]},t.default=(0,l.ColorWrap)(d)},2710:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircleSwatch=void 0;var a=s(n(1)),o=n(121),r=s(o),i=n(222);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CircleSwatch=function(e){var t=e.color,n=e.onClick,o=e.onSwatchHover,s=e.hover,l=e.active,c=e.circleSize,u=e.circleSpacing,d=(0,r.default)({default:{swatch:{width:c,height:c,marginRight:u,marginBottom:u,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+c/2+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:s,active:l});return a.default.createElement("div",{style:d.swatch},a.default.createElement(i.Swatch,{style:d.Swatch,color:t,onClick:n,onHover:o,focusStyle:{boxShadow:d.Swatch.boxShadow+", 0 0 5px "+t}}))};l.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,o.handleHover)(l)},2711:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var a=u(n(1)),o=u(n(0)),r=u(n(121)),i=n(222),s=u(n(2712)),l=u(n(2713)),c=u(n(2714));function u(e){return e&&e.__esModule?e:{default:e}}var d=t.Chrome=function(e){var t=e.onChange,n=e.disableAlpha,o=e.rgb,u=e.hsl,d=e.hsv,h=e.hex,p=e.renderers,f=e.className,b=void 0===f?"":f,m=(0,r.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},{disableAlpha:n});return a.default.createElement("div",{style:m.picker,className:"chrome-picker "+b},a.default.createElement("div",{style:m.saturation},a.default.createElement(i.Saturation,{style:m.Saturation,hsl:u,hsv:d,pointer:c.default,onChange:t})),a.default.createElement("div",{style:m.body},a.default.createElement("div",{style:m.controls,className:"flexbox-fix"},a.default.createElement("div",{style:m.color},a.default.createElement("div",{style:m.swatch},a.default.createElement("div",{style:m.active}),a.default.createElement(i.Checkboard,{renderers:p}))),a.default.createElement("div",{style:m.toggles},a.default.createElement("div",{style:m.hue},a.default.createElement(i.Hue,{style:m.Hue,hsl:u,pointer:l.default,onChange:t})),a.default.createElement("div",{style:m.alpha},a.default.createElement(i.Alpha,{style:m.Alpha,rgb:o,hsl:u,pointer:l.default,renderers:p,onChange:t})))),a.default.createElement(s.default,{rgb:o,hsl:u,hex:h,onChange:t,disableAlpha:n})))};d.propTypes={disableAlpha:o.default.bool},d.defaultProps={disableAlpha:!1},t.default=(0,i.ColorWrap)(d)},2712:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n(1)),r=l(n(121)),i=l(n(488)),s=n(222);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.ChromeFields=function(e){function t(){var e,n,a;c(this,t);for(var o=arguments.length,r=Array(o),s=0;s<o;s++)r[s]=arguments[s];return n=a=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.state={view:""},a.toggleViews=function(){"hex"===a.state.view?a.setState({view:"rgb"}):"rgb"===a.state.view?a.setState({view:"hsl"}):"hsl"===a.state.view&&(1===a.props.hsl.a?a.setState({view:"hex"}):a.setState({view:"rgb"}))},a.handleChange=function(e,t){e.hex?i.default.isValidHex(e.hex)&&a.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?a.props.onChange({r:e.r||a.props.rgb.r,g:e.g||a.props.rgb.g,b:e.b||a.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),a.props.onChange({h:a.props.hsl.h,s:a.props.hsl.s,l:a.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&a.props.onChange({h:e.h||a.props.hsl.h,s:Number(e.s&&e.s||a.props.hsl.s),l:Number(e.l&&e.l||a.props.hsl.l),source:"hsl"},t)},a.showHighlight=function(e){e.target.style.background="#eee"},a.hideHighlight=function(e){e.target.style.background="transparent"},u(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(e){1!==e.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function(){var e=this,t=(0,r.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=o.default.createElement("div",{style:t.fields,className:"flexbox-fix"},o.default.createElement("div",{style:t.field},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=o.default.createElement("div",{style:t.fields,className:"flexbox-fix"},o.default.createElement("div",{style:t.field},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),o.default.createElement("div",{style:t.field},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),o.default.createElement("div",{style:t.field},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),o.default.createElement("div",{style:t.alpha},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=o.default.createElement("div",{style:t.fields,className:"flexbox-fix"},o.default.createElement("div",{style:t.field},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),o.default.createElement("div",{style:t.field},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),o.default.createElement("div",{style:t.field},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),o.default.createElement("div",{style:t.alpha},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),o.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,o.default.createElement("div",{style:t.toggle},o.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},o.default.createElement("svg",{style:t.svg,viewBox:"0 0 24 24",onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight},o.default.createElement("path",{ref:function(t){return e.iconUp=t},fill:"#333",d:"M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}),o.default.createElement("path",{ref:function(t){return e.iconDown=t},fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15Z"})))))}}]),t}(o.default.Component);t.default=d},2713:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var a=r(n(1)),o=r(n(121));function r(e){return e&&e.__esModule?e:{default:e}}var i=t.ChromePointer=function(){var e=(0,o.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return a.default.createElement("div",{style:e.picker})};t.default=i},2714:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var a=r(n(1)),o=r(n(121));function r(e){return e&&e.__esModule?e:{default:e}}var i=t.ChromePointerCircle=function(){var e=(0,o.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return a.default.createElement("div",{style:e.picker})};t.default=i},2715:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Compact=void 0;var a=d(n(1)),o=d(n(0)),r=d(n(121)),i=d(n(489)),s=d(n(488)),l=n(222),c=d(n(2716)),u=d(n(2717));function d(e){return e&&e.__esModule?e:{default:e}}var h=t.Compact=function(e){var t=e.onChange,n=e.onSwatchHover,o=e.colors,d=e.hex,h=e.rgb,p=e.className,f=void 0===p?"":p,b=(0,r.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}}),m=function(e,n){e.hex?s.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return a.default.createElement(l.Raised,{style:b.Compact},a.default.createElement("div",{style:b.compact,className:"compact-picker "+f},a.default.createElement("div",null,(0,i.default)(o,(function(e){return a.default.createElement(c.default,{key:e,color:e,active:e.toLowerCase()===d,onClick:m,onSwatchHover:n})})),a.default.createElement("div",{style:b.clear})),a.default.createElement(u.default,{hex:d,rgb:h,onChange:m})))};h.propTypes={colors:o.default.arrayOf(o.default.string)},h.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]},t.default=(0,l.ColorWrap)(h)},2716:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactColor=void 0;var a=s(n(1)),o=s(n(121)),r=s(n(488)),i=n(222);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CompactColor=function(e){var t=e.color,n=e.onClick,s=void 0===n?function(){}:n,l=e.onSwatchHover,c=e.active,u=(0,o.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:r.default.getContrastingColor(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:c,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return a.default.createElement(i.Swatch,{style:u.color,color:t,onClick:s,onHover:l,focusStyle:{boxShadow:"0 0 4px "+t}},a.default.createElement("div",{style:u.dot}))};t.default=l},2717:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactFields=void 0;var a=i(n(1)),o=i(n(121)),r=n(222);function i(e){return e&&e.__esModule?e:{default:e}}var s=t.CompactFields=function(e){var t=e.hex,n=e.rgb,i=e.onChange,s=(0,o.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),l=function(e,t){e.r||e.g||e.b?i({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):i({hex:e.hex,source:"hex"},t)};return a.default.createElement("div",{style:s.fields,className:"flexbox-fix"},a.default.createElement("div",{style:s.active}),a.default.createElement(r.EditableInput,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:t,onChange:l}),a.default.createElement(r.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:l}),a.default.createElement(r.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:l}),a.default.createElement(r.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:l}))};t.default=s},2718:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Github=void 0;var a=c(n(1)),o=c(n(0)),r=c(n(121)),i=c(n(489)),s=n(222),l=c(n(2719));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Github=function(e){var t=e.width,n=e.colors,o=e.onChange,s=e.onSwatchHover,c=e.triangle,u=e.className,d=void 0===u?"":u,h=(0,r.default)({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},{"hide-triangle":"hide"===c,"top-left-triangle":"top-left"===c,"top-right-triangle":"top-right"===c,"bottom-left-triangle":"bottom-left"==c,"bottom-right-triangle":"bottom-right"===c}),p=function(e,t){return o({hex:e,source:"hex"},t)};return a.default.createElement("div",{style:h.card,className:"github-picker "+d},a.default.createElement("div",{style:h.triangleShadow}),a.default.createElement("div",{style:h.triangle}),(0,i.default)(n,(function(e){return a.default.createElement(l.default,{color:e,key:e,onClick:p,onSwatchHover:s})})))};u.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),colors:o.default.arrayOf(o.default.string),triangle:o.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"])},u.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left"},t.default=(0,s.ColorWrap)(u)},2719:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GithubSwatch=void 0;var a=s(n(1)),o=n(121),r=s(o),i=n(222);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.GithubSwatch=function(e){var t=e.hover,n=e.color,o=e.onClick,s=e.onSwatchHover,l={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},c=(0,r.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:l}},{hover:t});return a.default.createElement("div",{style:c.swatch},a.default.createElement(i.Swatch,{color:n,onClick:o,onHover:s,focusStyle:l}))};t.default=(0,o.handleHover)(l)},2720:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HuePicker=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=l(n(1)),r=l(n(121)),i=n(222),s=l(n(2721));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.HuePicker=function(e){var t=e.width,n=e.height,s=e.onChange,l=e.hsl,c=e.direction,u=e.pointer,d=e.className,h=void 0===d?"":d,p=(0,r.default)({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}});return o.default.createElement("div",{style:p.picker,className:"hue-picker "+h},o.default.createElement(i.Hue,a({},p.hue,{hsl:l,pointer:u,onChange:function(e){return s({a:1,h:e.h,l:.5,s:1})},direction:c})))};c.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},t.default=(0,i.ColorWrap)(c)},2721:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var a=r(n(1)),o=r(n(121));function r(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderPointer=function(e){var t=e.direction,n=(0,o.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return a.default.createElement("div",{style:n.picker})};t.default=i},2722:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var a=s(n(1)),o=s(n(121)),r=s(n(488)),i=n(222);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.Material=function(e){var t=e.onChange,n=e.hex,s=e.rgb,l=e.className,c=void 0===l?"":l,u=(0,o.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}}),d=function(e,n){e.hex?r.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||s.r,g:e.g||s.g,b:e.b||s.b,source:"rgb"},n)};return a.default.createElement(i.Raised,null,a.default.createElement("div",{style:u.material,className:"material-picker "+c},a.default.createElement(i.EditableInput,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:n,onChange:d}),a.default.createElement("div",{style:u.split,className:"flexbox-fix"},a.default.createElement("div",{style:u.third},a.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:s.r,onChange:d})),a.default.createElement("div",{style:u.third},a.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:s.g,onChange:d})),a.default.createElement("div",{style:u.third},a.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:s.b,onChange:d})))))};t.default=(0,i.ColorWrap)(l)},2723:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Photoshop=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=p(n(1)),r=p(n(0)),i=p(n(121)),s=n(222),l=p(n(2724)),c=p(n(2725)),u=p(n(2726)),d=p(n(2727)),h=p(n(2728));function p(e){return e&&e.__esModule?e:{default:e}}var f=t.Photoshop=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props.className,t=void 0===e?"":e,n=(0,i.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}});return o.default.createElement("div",{style:n.picker,className:"photoshop-picker "+t},o.default.createElement("div",{style:n.head},this.props.header),o.default.createElement("div",{style:n.body,className:"flexbox-fix"},o.default.createElement("div",{style:n.saturation},o.default.createElement(s.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:c.default,onChange:this.props.onChange})),o.default.createElement("div",{style:n.hue},o.default.createElement(s.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:u.default,onChange:this.props.onChange})),o.default.createElement("div",{style:n.controls},o.default.createElement("div",{style:n.top,className:"flexbox-fix"},o.default.createElement("div",{style:n.previews},o.default.createElement(h.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),o.default.createElement("div",{style:n.actions},o.default.createElement(d.default,{label:"OK",onClick:this.props.onAccept,active:!0}),o.default.createElement(d.default,{label:"Cancel",onClick:this.props.onCancel}),o.default.createElement(l.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(o.default.Component);f.propTypes={header:r.default.string},f.defaultProps={header:"Color Picker"},t.default=(0,s.ColorWrap)(f)},2724:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPicker=void 0;var a=s(n(1)),o=s(n(121)),r=s(n(488)),i=n(222);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.PhotoshopPicker=function(e){var t=e.onChange,n=e.rgb,s=e.hsv,l=e.hex,c=(0,o.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),u=function(e,a){e["#"]?r.default.isValidHex(e["#"])&&t({hex:e["#"],source:"hex"},a):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},a):(e.h||e.s||e.v)&&t({h:e.h||s.h,s:e.s||s.s,v:e.v||s.v,source:"hsv"},a)};return a.default.createElement("div",{style:c.fields},a.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"h",value:Math.round(s.h),onChange:u}),a.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"s",value:Math.round(100*s.s),onChange:u}),a.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"v",value:Math.round(100*s.v),onChange:u}),a.default.createElement("div",{style:c.divider}),a.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:n.r,onChange:u}),a.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:n.g,onChange:u}),a.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:n.b,onChange:u}),a.default.createElement("div",{style:c.divider}),a.default.createElement(i.EditableInput,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"#",value:l.replace("#",""),onChange:u}),a.default.createElement("div",{style:c.fieldSymbols},a.default.createElement("div",{style:c.symbol},"°"),a.default.createElement("div",{style:c.symbol},"%"),a.default.createElement("div",{style:c.symbol},"%")))};t.default=l},2725:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var a=r(n(1)),o=r(n(121));function r(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPointerCircle=function(e){var t=e.hsl,n=(0,o.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return a.default.createElement("div",{style:n.picker})};t.default=i},2726:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var a=r(n(1)),o=r(n(121));function r(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPointerCircle=function(){var e=(0,o.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return a.default.createElement("div",{style:e.pointer},a.default.createElement("div",{style:e.left},a.default.createElement("div",{style:e.leftInside})),a.default.createElement("div",{style:e.right},a.default.createElement("div",{style:e.rightInside})))};t.default=i},2727:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopBotton=void 0;var a=r(n(1)),o=r(n(121));function r(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopBotton=function(e){var t=e.onClick,n=e.label,r=e.children,i=e.active,s=(0,o.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return a.default.createElement("div",{style:s.button,onClick:t},n||r)};t.default=i},2728:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPreviews=void 0;var a=r(n(1)),o=r(n(121));function r(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPreviews=function(e){var t=e.rgb,n=e.currentColor,r=(0,o.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return a.default.createElement("div",null,a.default.createElement("div",{style:r.label},"new"),a.default.createElement("div",{style:r.swatches},a.default.createElement("div",{style:r.new}),a.default.createElement("div",{style:r.current})),a.default.createElement("div",{style:r.label},"current"))};t.default=i},2729:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var a=c(n(1)),o=c(n(0)),r=c(n(121)),i=n(222),s=c(n(2730)),l=c(n(2731));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Sketch=function(e){var t=e.width,n=e.rgb,o=e.hex,c=e.hsv,u=e.hsl,d=e.onChange,h=e.onSwatchHover,p=e.disableAlpha,f=e.presetColors,b=e.renderers,m=e.className,g=void 0===m?"":m,v=(0,r.default)({default:{picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},{disableAlpha:p});return a.default.createElement("div",{style:v.picker,className:"sketch-picker "+g},a.default.createElement("div",{style:v.saturation},a.default.createElement(i.Saturation,{style:v.Saturation,hsl:u,hsv:c,onChange:d})),a.default.createElement("div",{style:v.controls,className:"flexbox-fix"},a.default.createElement("div",{style:v.sliders},a.default.createElement("div",{style:v.hue},a.default.createElement(i.Hue,{style:v.Hue,hsl:u,onChange:d})),a.default.createElement("div",{style:v.alpha},a.default.createElement(i.Alpha,{style:v.Alpha,rgb:n,hsl:u,renderers:b,onChange:d}))),a.default.createElement("div",{style:v.color},a.default.createElement(i.Checkboard,null),a.default.createElement("div",{style:v.activeColor}))),a.default.createElement(s.default,{rgb:n,hsl:u,hex:o,onChange:d,disableAlpha:p}),a.default.createElement(l.default,{colors:f,onClick:d,onSwatchHover:h}))};u.propTypes={disableAlpha:o.default.bool,width:o.default.oneOfType([o.default.string,o.default.number])},u.defaultProps={disableAlpha:!1,width:200,presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,i.ColorWrap)(u)},2730:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var a=s(n(1)),o=s(n(121)),r=s(n(488)),i=n(222);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SketchFields=function(e){var t=e.onChange,n=e.rgb,s=e.hsl,l=e.hex,c=e.disableAlpha,u=(0,o.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:c}),d=function(e,a){e.hex?r.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},a):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},a):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:s.h,s:s.s,l:s.l,a:e.a,source:"rgb"},a))};return a.default.createElement("div",{style:u.fields,className:"flexbox-fix"},a.default.createElement("div",{style:u.double},a.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"hex",value:l.replace("#",""),onChange:d})),a.default.createElement("div",{style:u.single},a.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"r",value:n.r,onChange:d,dragLabel:"true",dragMax:"255"})),a.default.createElement("div",{style:u.single},a.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"g",value:n.g,onChange:d,dragLabel:"true",dragMax:"255"})),a.default.createElement("div",{style:u.single},a.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"b",value:n.b,onChange:d,dragLabel:"true",dragMax:"255"})),a.default.createElement("div",{style:u.alpha},a.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"a",value:Math.round(100*n.a),onChange:d,dragLabel:"true",dragMax:"100"})))};t.default=l},2731:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=l(n(1)),r=l(n(0)),i=l(n(121)),s=n(222);function l(e){return e&&e.__esModule?e:{default:e}}var c=t.SketchPresetColors=function(e){var t=e.colors,n=e.onClick,r=void 0===n?function(){}:n,l=e.onSwatchHover,c=(0,i.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),u=function(e,t){r({hex:e,source:"hex"},t)};return o.default.createElement("div",{style:c.colors,className:"flexbox-fix"},t.map((function(e){var t="string"==typeof e?{color:e}:e,n=""+t.color+(t.title||"");return o.default.createElement("div",{key:n,style:c.swatchWrap},o.default.createElement(s.Swatch,a({},t,{style:c.swatch,onClick:u,onHover:l,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};c.propTypes={colors:r.default.arrayOf(r.default.oneOfType([r.default.string,r.default.shape({color:r.default.string,title:r.default.string})])).isRequired},t.default=c},2732:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var a=l(n(1)),o=l(n(121)),r=n(222),i=l(n(2733)),s=l(n(2735));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.Slider=function(e){var t=e.hsl,n=e.onChange,s=e.pointer,l=e.className,c=void 0===l?"":l,u=(0,o.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}});return a.default.createElement("div",{className:"slider-picker "+c},a.default.createElement("div",{style:u.hue},a.default.createElement(r.Hue,{style:u.Hue,hsl:t,pointer:s,onChange:n})),a.default.createElement("div",{style:u.swatches},a.default.createElement(i.default,{hsl:t,onClick:n})))};c.defaultProps={pointer:s.default},t.default=(0,r.ColorWrap)(c)},2733:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatches=void 0;var a=i(n(1)),o=i(n(121)),r=i(n(2734));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.SliderSwatches=function(e){var t=e.onClick,n=e.hsl,i=(0,o.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return a.default.createElement("div",{style:i.swatches},a.default.createElement("div",{style:i.swatch},a.default.createElement(r.default,{hsl:n,offset:".80",active:Math.round(100*n.l)/100==.8&&Math.round(100*n.s)/100==.5,onClick:t,first:!0})),a.default.createElement("div",{style:i.swatch},a.default.createElement(r.default,{hsl:n,offset:".65",active:Math.round(100*n.l)/100==.65&&Math.round(100*n.s)/100==.5,onClick:t})),a.default.createElement("div",{style:i.swatch},a.default.createElement(r.default,{hsl:n,offset:".50",active:Math.round(100*n.l)/100==.5&&Math.round(100*n.s)/100==.5,onClick:t})),a.default.createElement("div",{style:i.swatch},a.default.createElement(r.default,{hsl:n,offset:".35",active:Math.round(100*n.l)/100==.35&&Math.round(100*n.s)/100==.5,onClick:t})),a.default.createElement("div",{style:i.swatch},a.default.createElement(r.default,{hsl:n,offset:".20",active:Math.round(100*n.l)/100==.2&&Math.round(100*n.s)/100==.5,onClick:t,last:!0})),a.default.createElement("div",{style:i.clear}))};t.default=s},2734:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatch=void 0;var a=r(n(1)),o=r(n(121));function r(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderSwatch=function(e){var t=e.hsl,n=e.offset,r=e.onClick,i=void 0===r?function(){}:r,s=e.active,l=e.first,c=e.last,u=(0,o.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:l,last:c});return a.default.createElement("div",{style:u.swatch,onClick:function(e){return i({h:t.h,s:.5,l:n,source:"hsl"},e)}})};t.default=i},2735:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var a=r(n(1)),o=r(n(121));function r(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderPointer=function(){var e=(0,o.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return a.default.createElement("div",{style:e.picker})};t.default=i},2736:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatches=void 0;var a=d(n(1)),o=d(n(0)),r=d(n(121)),i=d(n(489)),s=d(n(488)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2494)),c=n(222),u=d(n(2737));function d(e){return e&&e.__esModule?e:{default:e}}var h=t.Swatches=function(e){var t=e.width,n=e.height,o=e.onChange,l=e.onSwatchHover,d=e.colors,h=e.hex,p=e.className,f=void 0===p?"":p,b=(0,r.default)({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}}),m=function(e,t){s.default.isValidHex(e)&&o({hex:e,source:"hex"},t)};return a.default.createElement("div",{style:b.picker,className:"swatches-picker "+f},a.default.createElement(c.Raised,null,a.default.createElement("div",{style:b.overflow},a.default.createElement("div",{style:b.body},(0,i.default)(d,(function(e){return a.default.createElement(u.default,{key:e.toString(),group:e,active:h,onClick:m,onSwatchHover:l})})),a.default.createElement("div",{style:b.clear})))))};h.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),height:o.default.oneOfType([o.default.string,o.default.number]),colors:o.default.arrayOf(o.default.arrayOf(o.default.string))},h.defaultProps={width:320,height:240,colors:[[l.red[900],l.red[700],l.red[500],l.red[300],l.red[100]],[l.pink[900],l.pink[700],l.pink[500],l.pink[300],l.pink[100]],[l.purple[900],l.purple[700],l.purple[500],l.purple[300],l.purple[100]],[l.deepPurple[900],l.deepPurple[700],l.deepPurple[500],l.deepPurple[300],l.deepPurple[100]],[l.indigo[900],l.indigo[700],l.indigo[500],l.indigo[300],l.indigo[100]],[l.blue[900],l.blue[700],l.blue[500],l.blue[300],l.blue[100]],[l.lightBlue[900],l.lightBlue[700],l.lightBlue[500],l.lightBlue[300],l.lightBlue[100]],[l.cyan[900],l.cyan[700],l.cyan[500],l.cyan[300],l.cyan[100]],[l.teal[900],l.teal[700],l.teal[500],l.teal[300],l.teal[100]],["#194D33",l.green[700],l.green[500],l.green[300],l.green[100]],[l.lightGreen[900],l.lightGreen[700],l.lightGreen[500],l.lightGreen[300],l.lightGreen[100]],[l.lime[900],l.lime[700],l.lime[500],l.lime[300],l.lime[100]],[l.yellow[900],l.yellow[700],l.yellow[500],l.yellow[300],l.yellow[100]],[l.amber[900],l.amber[700],l.amber[500],l.amber[300],l.amber[100]],[l.orange[900],l.orange[700],l.orange[500],l.orange[300],l.orange[100]],[l.deepOrange[900],l.deepOrange[700],l.deepOrange[500],l.deepOrange[300],l.deepOrange[100]],[l.brown[900],l.brown[700],l.brown[500],l.brown[300],l.brown[100]],[l.blueGrey[900],l.blueGrey[700],l.blueGrey[500],l.blueGrey[300],l.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]]},t.default=(0,c.ColorWrap)(h)},2737:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesGroup=void 0;var a=s(n(1)),o=s(n(121)),r=s(n(489)),i=s(n(2738));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesGroup=function(e){var t=e.onClick,n=e.onSwatchHover,s=e.group,l=e.active,c=(0,o.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return a.default.createElement("div",{style:c.group},(0,r.default)(s,(function(e,o){return a.default.createElement(i.default,{key:e,color:e,active:e.toLowerCase()===l,first:0===o,last:o===s.length-1,onClick:t,onSwatchHover:n})})))};t.default=l},2738:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesColor=void 0;var a=s(n(1)),o=s(n(121)),r=s(n(488)),i=n(222);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesColor=function(e){var t=e.color,n=e.onClick,s=void 0===n?function(){}:n,l=e.onSwatchHover,c=e.first,u=e.last,d=e.active,h=(0,o.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{fill:r.default.getContrastingColor(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{fill:"#333"}},transparent:{check:{fill:"#333"}}},{first:c,last:u,active:d,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return a.default.createElement(i.Swatch,{color:t,style:h.color,onClick:s,onHover:l,focusStyle:{boxShadow:"0 0 4px "+t}},a.default.createElement("div",{style:h.check},a.default.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},a.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))};t.default=l},2739:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var a=c(n(1)),o=c(n(0)),r=c(n(121)),i=c(n(489)),s=c(n(488)),l=n(222);function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Twitter=function(e){var t=e.onChange,n=e.onSwatchHover,o=e.hex,c=e.colors,u=e.width,d=e.triangle,h=e.className,p=void 0===h?"":h,f=(0,r.default)({default:{card:{width:u,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},{"hide-triangle":"hide"===d,"top-left-triangle":"top-left"===d,"top-right-triangle":"top-right"===d}),b=function(e,n){s.default.isValidHex(e)&&t({hex:e,source:"hex"},n)};return a.default.createElement("div",{style:f.card,className:"twitter-picker "+p},a.default.createElement("div",{style:f.triangleShadow}),a.default.createElement("div",{style:f.triangle}),a.default.createElement("div",{style:f.body},(0,i.default)(c,(function(e,t){return a.default.createElement(l.Swatch,{key:t,color:e,hex:e,style:f.swatch,onClick:b,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),a.default.createElement("div",{style:f.hash},"#"),a.default.createElement(l.EditableInput,{style:{input:f.input},value:o.replace("#",""),onChange:b}),a.default.createElement("div",{style:f.clear})))};u.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),triangle:o.default.oneOf(["hide","top-left","top-right"]),colors:o.default.arrayOf(o.default.string)},u.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left"},t.default=(0,l.ColorWrap)(u)},2740:function(e,t,n){},2741:function(e,t,n){},2742:function(e,t,n){},2743:function(e,t,n){n(2744);var a=n(91);e.exports=a.Object.freeze},2744:function(e,t,n){var a=n(43),o=n(1102),r=n(81),i=n(111),s=n(800).onFreeze,l=Object.freeze;a({target:"Object",stat:!0,forced:r((function(){l(1)})),sham:!o},{freeze:function(e){return l&&i(e)?l(s(e)):e}})},2745:function(e,t,n){"use strict";var a=n(544),o=n(2746),r=n(2747);e.exports=function(e,t,n){var i=[],s={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},l={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},c={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)d(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=a({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=a({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=p(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=a({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var n in t){var a=t[n];if(t.hasOwnProperty(n)){if(r(!(n in c),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e){var o=l.hasOwnProperty(n)?l[n]:null;return r("DEFINE_MANY_MERGED"===o,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=p(e[n],a))}e[n]=a}}}(e,t)},autobind:function(){}};function u(e,t){var n=s.hasOwnProperty(t)?s[t]:null;v.hasOwnProperty(t)&&r("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&r("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function d(e,n){if(n){r("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),r(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var a=e.prototype,o=a.__reactAutoBindPairs;for(var i in n.hasOwnProperty("mixins")&&c.mixins(e,n.mixins),n)if(n.hasOwnProperty(i)&&"mixins"!==i){var l=n[i],d=a.hasOwnProperty(i);if(u(d,i),c.hasOwnProperty(i))c[i](e,l);else{var h=s.hasOwnProperty(i);if("function"==typeof l&&!h&&!d&&!1!==n.autobind)o.push(i,l),a[i]=l;else if(d){var b=s[i];r(h&&("DEFINE_MANY_MERGED"===b||"DEFINE_MANY"===b),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",b,i),"DEFINE_MANY_MERGED"===b?a[i]=p(a[i],l):"DEFINE_MANY"===b&&(a[i]=f(a[i],l))}else a[i]=l}}}else;}function h(e,t){for(var n in r(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(r(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function p(e,t){return function(){var n=e.apply(this,arguments),a=t.apply(this,arguments);if(null==n)return a;if(null==a)return n;var o={};return h(o,n),h(o,a),o}}function f(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function b(e,t){return t.bind(e)}var m={componentDidMount:function(){this.__isMounted=!0}},g={componentWillUnmount:function(){this.__isMounted=!1}},v={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},y=function(){};return a(y.prototype,e.prototype,v),function(e){var t=function(e,a,i){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var a=t[n],o=t[n+1];e[a]=b(e,o)}}(this),this.props=e,this.context=a,this.refs=o,this.updater=i||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;r("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var a in t.prototype=new y,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],i.forEach(d.bind(null,t)),d(t,m),d(t,e),d(t,g),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),r(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),s)t.prototype[a]||(t.prototype[a]=null);return t}}},2746:function(e,t,n){"use strict";e.exports={}},2747:function(e,t,n){"use strict";e.exports=function(e,t,n,a,o,r,i,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,a,o,r,i,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},2748:function(e,t,n){"use strict";var a=n(1),o=n(1014)({viewComponents:{days:n(2749),months:n(2750),years:n(2751),time:n(2752)},render:function(){return a.createElement(this.viewComponents[this.props.view],this.props.viewProps)}});e.exports=o},2749:function(e,t,n){"use strict";var a=n(1),o=n(1014),r=n(13),i=o({render:function(){var e,t=this.renderFooter(),n=this.props.viewDate,o=n.localeData();return e=[a.createElement("thead",{key:"th"},[a.createElement("tr",{key:"h"},[a.createElement("th",{key:"p",className:"rdtPrev",onClick:this.props.subtractTime(1,"months")},a.createElement("span",{},"‹")),a.createElement("th",{key:"s",className:"rdtSwitch",onClick:this.props.showView("months"),colSpan:5,"data-value":this.props.viewDate.month()},o.months(n)+" "+n.year()),a.createElement("th",{key:"n",className:"rdtNext",onClick:this.props.addTime(1,"months")},a.createElement("span",{},"›"))]),a.createElement("tr",{key:"d"},this.getDaysOfWeek(o).map((function(e,t){return a.createElement("th",{key:e+t,className:"dow"},e)})))]),a.createElement("tbody",{key:"tb"},this.renderDays())],t&&e.push(t),a.createElement("div",{className:"rdtDays"},a.createElement("table",{},e))},getDaysOfWeek:function(e){var t=e._weekdaysMin,n=e.firstDayOfWeek(),a=[],o=0;return t.forEach((function(e){a[(7+o++-n)%7]=e})),a},renderDays:function(){var e,t,n,o,i=this.props.viewDate,s=this.props.selectedDate&&this.props.selectedDate.clone(),l=i.clone().subtract(1,"months"),c=i.year(),u=i.month(),d=[],h=[],p=this.props.renderDay||this.renderDay,f=this.props.isValidDate||this.alwaysValidDate;l.date(l.daysInMonth()).startOf("week");for(var b=l.clone().add(42,"d");l.isBefore(b);)e="rdtDay",o=l.clone(),l.year()===c&&l.month()<u||l.year()<c?e+=" rdtOld":(l.year()===c&&l.month()>u||l.year()>c)&&(e+=" rdtNew"),s&&l.isSame(s,"day")&&(e+=" rdtActive"),l.isSame(r(),"day")&&(e+=" rdtToday"),(t=!f(o,s))&&(e+=" rdtDisabled"),n={key:l.format("M_D"),"data-value":l.date(),className:e},t||(n.onClick=this.updateSelectedDate),h.push(p(n,o,s)),7===h.length&&(d.push(a.createElement("tr",{key:l.format("M_D")},h)),h=[]),l.add(1,"d");return d},updateSelectedDate:function(e){this.props.updateSelectedDate(e,!0)},renderDay:function(e,t){return a.createElement("td",e,t.date())},renderFooter:function(){if(!this.props.timeFormat)return"";var e=this.props.selectedDate||this.props.viewDate;return a.createElement("tfoot",{key:"tf"},a.createElement("tr",{},a.createElement("td",{onClick:this.props.showView("time"),colSpan:7,className:"rdtTimeToggle"},e.format(this.props.timeFormat))))},alwaysValidDate:function(){return 1}});e.exports=i},2750:function(e,t,n){"use strict";var a=n(1),o=n(1014)({render:function(){return a.createElement("div",{className:"rdtMonths"},[a.createElement("table",{key:"a"},a.createElement("thead",{},a.createElement("tr",{},[a.createElement("th",{key:"prev",className:"rdtPrev",onClick:this.props.subtractTime(1,"years")},a.createElement("span",{},"‹")),a.createElement("th",{key:"year",className:"rdtSwitch",onClick:this.props.showView("years"),colSpan:2,"data-value":this.props.viewDate.year()},this.props.viewDate.year()),a.createElement("th",{key:"next",className:"rdtNext",onClick:this.props.addTime(1,"years")},a.createElement("span",{},"›"))]))),a.createElement("table",{key:"months"},a.createElement("tbody",{key:"b"},this.renderMonths()))])},renderMonths:function(){for(var e,t,n,o,r,i=this.props.selectedDate,s=this.props.viewDate.month(),l=this.props.viewDate.year(),c=[],u=0,d=[],h=this.props.renderMonth||this.renderMonth,p=this.props.isValidDate||this.alwaysValidDate;u<12;)e="rdtMonth",r=(n=this.props.viewDate.clone().set({year:l,month:u,date:1})).endOf("month").format("D"),(o=void 0===Array.from({length:r},(function(e,t){return t+1})).find((function(e){var t=n.clone().set("date",e);return p(t)})))&&(e+=" rdtDisabled"),i&&u===i.month()&&l===i.year()&&(e+=" rdtActive"),t={key:u,"data-value":u,className:e},o||(t.onClick="months"===this.props.updateOn?this.updateSelectedMonth:this.props.setDate("month")),d.push(h(t,u,l,i&&i.clone())),4===d.length&&(c.push(a.createElement("tr",{key:s+"_"+c.length},d)),d=[]),u++;return c},updateSelectedMonth:function(e){this.props.updateSelectedDate(e)},renderMonth:function(e,t){var n,o=this.props.viewDate,r=o.localeData().monthsShort(o.month(t)).substring(0,3);return a.createElement("td",e,(n=r).charAt(0).toUpperCase()+n.slice(1))},alwaysValidDate:function(){return 1}});e.exports=o},2751:function(e,t,n){"use strict";var a=n(1),o=n(1014)({render:function(){var e=10*parseInt(this.props.viewDate.year()/10,10);return a.createElement("div",{className:"rdtYears"},[a.createElement("table",{key:"a"},a.createElement("thead",{},a.createElement("tr",{},[a.createElement("th",{key:"prev",className:"rdtPrev",onClick:this.props.subtractTime(10,"years")},a.createElement("span",{},"‹")),a.createElement("th",{key:"year",className:"rdtSwitch",onClick:this.props.showView("years"),colSpan:2},e+"-"+(e+9)),a.createElement("th",{key:"next",className:"rdtNext",onClick:this.props.addTime(10,"years")},a.createElement("span",{},"›"))]))),a.createElement("table",{key:"years"},a.createElement("tbody",{},this.renderYears(e)))])},renderYears:function(e){var t,n,o,r,i,s=[],l=-1,c=[],u=this.props.renderYear||this.renderYear,d=this.props.selectedDate,h=this.props.isValidDate||this.alwaysValidDate;for(e--;l<11;)t="rdtYear",i=(o=this.props.viewDate.clone().set({year:e,month:0,date:1})).endOf("year").format("DDD"),(r=void 0===Array.from({length:i},(function(e,t){return t+1})).find((function(e){var t=o.clone().dayOfYear(e);return h(t)})))&&(t+=" rdtDisabled"),d&&d.year()===e&&(t+=" rdtActive"),n={key:e,"data-value":e,className:t},r||(n.onClick="years"===this.props.updateOn?this.updateSelectedYear:this.props.setDate("year")),s.push(u(n,e,d&&d.clone())),4===s.length&&(c.push(a.createElement("tr",{key:l},s)),s=[]),e++,l++;return c},updateSelectedYear:function(e){this.props.updateSelectedDate(e)},renderYear:function(e,t){return a.createElement("td",e,t)},alwaysValidDate:function(){return 1}});e.exports=o},2752:function(e,t,n){"use strict";var a=n(1),o=n(1014),r=n(2495),i=o({getInitialState:function(){return this.calculateState(this.props)},calculateState:function(e){var t=e.selectedDate||e.viewDate,n=e.timeFormat,a=[];-1!==n.toLowerCase().indexOf("h")&&(a.push("hours"),-1!==n.indexOf("m")&&(a.push("minutes"),-1!==n.indexOf("s")&&a.push("seconds")));var o=t.format("H"),r=!1;return null!==this.state&&-1!==this.props.timeFormat.toLowerCase().indexOf(" a")&&(r=-1!==this.props.timeFormat.indexOf(" A")?o>=12?"PM":"AM":o>=12?"pm":"am"),{hours:o,minutes:t.format("mm"),seconds:t.format("ss"),milliseconds:t.format("SSS"),daypart:r,counters:a}},renderCounter:function(e){if("daypart"!==e){var t=this.state[e];return"hours"===e&&-1!==this.props.timeFormat.toLowerCase().indexOf(" a")&&0===(t=(t-1)%12+1)&&(t=12),a.createElement("div",{key:e,className:"rdtCounter"},[a.createElement("span",{key:"up",className:"rdtBtn",onMouseDown:this.onStartClicking("increase",e),onContextMenu:this.disableContextMenu},"▲"),a.createElement("div",{key:"c",className:"rdtCount"},t),a.createElement("span",{key:"do",className:"rdtBtn",onMouseDown:this.onStartClicking("decrease",e),onContextMenu:this.disableContextMenu},"▼")])}return""},renderDayPart:function(){return a.createElement("div",{key:"dayPart",className:"rdtCounter"},[a.createElement("span",{key:"up",className:"rdtBtn",onMouseDown:this.onStartClicking("toggleDayPart","hours"),onContextMenu:this.disableContextMenu},"▲"),a.createElement("div",{key:this.state.daypart,className:"rdtCount"},this.state.daypart),a.createElement("span",{key:"do",className:"rdtBtn",onMouseDown:this.onStartClicking("toggleDayPart","hours"),onContextMenu:this.disableContextMenu},"▼")])},render:function(){var e=this,t=[];return this.state.counters.forEach((function(n){t.length&&t.push(a.createElement("div",{key:"sep"+t.length,className:"rdtCounterSeparator"},":")),t.push(e.renderCounter(n))})),!1!==this.state.daypart&&t.push(e.renderDayPart()),3===this.state.counters.length&&-1!==this.props.timeFormat.indexOf("S")&&(t.push(a.createElement("div",{className:"rdtCounterSeparator",key:"sep5"},":")),t.push(a.createElement("div",{className:"rdtCounter rdtMilli",key:"m"},a.createElement("input",{value:this.state.milliseconds,type:"text",onChange:this.updateMilli})))),a.createElement("div",{className:"rdtTime"},a.createElement("table",{},[this.renderHeader(),a.createElement("tbody",{key:"b"},a.createElement("tr",{},a.createElement("td",{},a.createElement("div",{className:"rdtCounters"},t))))]))},componentWillMount:function(){var e=this;e.timeConstraints={hours:{min:0,max:23,step:1},minutes:{min:0,max:59,step:1},seconds:{min:0,max:59,step:1},milliseconds:{min:0,max:999,step:1}},["hours","minutes","seconds","milliseconds"].forEach((function(t){r(e.timeConstraints[t],e.props.timeConstraints[t])})),this.setState(this.calculateState(this.props))},componentWillReceiveProps:function(e){this.setState(this.calculateState(e))},updateMilli:function(e){var t=parseInt(e.target.value,10);t===e.target.value&&t>=0&&t<1e3&&(this.props.setTime("milliseconds",t),this.setState({milliseconds:t}))},renderHeader:function(){if(!this.props.dateFormat)return null;var e=this.props.selectedDate||this.props.viewDate;return a.createElement("thead",{key:"h"},a.createElement("tr",{},a.createElement("th",{className:"rdtSwitch",colSpan:4,onClick:this.props.showView("days")},e.format(this.props.dateFormat))))},onStartClicking:function(e,t){var n=this;return function(){var a={};a[t]=n[e](t),n.setState(a),n.timer=setTimeout((function(){n.increaseTimer=setInterval((function(){a[t]=n[e](t),n.setState(a)}),70)}),500),n.mouseUpListener=function(){clearTimeout(n.timer),clearInterval(n.increaseTimer),n.props.setTime(t,n.state[t]),document.body.removeEventListener("mouseup",n.mouseUpListener),document.body.removeEventListener("touchend",n.mouseUpListener)},document.body.addEventListener("mouseup",n.mouseUpListener),document.body.addEventListener("touchend",n.mouseUpListener)}},disableContextMenu:function(e){return e.preventDefault(),!1},padValues:{hours:1,minutes:2,seconds:2,milliseconds:3},toggleDayPart:function(e){var t=parseInt(this.state[e],10)+12;return t>this.timeConstraints[e].max&&(t=this.timeConstraints[e].min+(t-(this.timeConstraints[e].max+1))),this.pad(e,t)},increase:function(e){var t=parseInt(this.state[e],10)+this.timeConstraints[e].step;return t>this.timeConstraints[e].max&&(t=this.timeConstraints[e].min+(t-(this.timeConstraints[e].max+1))),this.pad(e,t)},decrease:function(e){var t=parseInt(this.state[e],10)-this.timeConstraints[e].step;return t<this.timeConstraints[e].min&&(t=this.timeConstraints[e].max+1-(this.timeConstraints[e].min-t)),this.pad(e,t)},pad:function(e,t){for(var n=t+"";n.length<this.padValues[e];)n="0"+n;return n}});e.exports=i},2753:function(e,t,n){"use strict";n.r(t),n.d(t,"IGNORE_CLASS_NAME",(function(){return h}));var a=n(1),o=n(26);function r(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var i,s,l=(void 0===i&&(i=0),function(){return++i}),c={},u={},d=["touchstart","touchmove"],h="ignore-react-onclickoutside";function p(e,t){var n=null;return-1!==d.indexOf(t)&&s&&(n={passive:!e.props.preventDefault}),n}t.default=function(e,t){var n,i;return i=n=function(n){var i,d;function h(e){var t;return(t=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof t.__clickOutsideHandlerProp){var n=t.getInstance();if("function"!=typeof n.props.handleClickOutside){if("function"!=typeof n.handleClickOutside)throw new Error("WrappedComponent lacks a handleClickOutside(event) function for processing outside click events.");n.handleClickOutside(e)}else n.props.handleClickOutside(e)}else t.__clickOutsideHandlerProp(e)},t.enableOnClickOutside=function(){if("undefined"!=typeof document&&!u[t._uid]){void 0===s&&(s=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),u[t._uid]=!0;var e=t.props.eventTypes;e.forEach||(e=[e]),c[t._uid]=function(e){var n;t.props.disableOnClickOutside||null!==t.componentNode&&(t.props.preventDefault&&e.preventDefault(),t.props.stopPropagation&&e.stopPropagation(),t.props.excludeScrollbar&&(n=e,document.documentElement.clientWidth<=n.clientX||document.documentElement.clientHeight<=n.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(r(e,t,n))return!0;e=e.parentNode}return e}(e.target,t.componentNode,t.props.outsideClickIgnoreClass)===document&&t.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,c[t._uid],p(t,e))}))}},t.disableOnClickOutside=function(){delete u[t._uid];var e=c[t._uid];if(e&&"undefined"!=typeof document){var n=t.props.eventTypes;n.forEach||(n=[n]),n.forEach((function(n){return document.removeEventListener(n,e,p(t,n))})),delete c[t._uid]}},t.getRef=function(e){return t.instanceRef=e},t._uid=l(),t}d=n,(i=h).prototype=Object.create(d.prototype),i.prototype.constructor=i,i.__proto__=d;var f=h.prototype;return f.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},f.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=Object(o.findDOMNode)(this.getInstance()),this.enableOnClickOutside()}},f.componentDidUpdate=function(){this.componentNode=Object(o.findDOMNode)(this.getInstance())},f.componentWillUnmount=function(){this.disableOnClickOutside()},f.render=function(){var t=this.props,n=(t.excludeScrollbar,function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["excludeScrollbar"]));return e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(a.createElement)(e,n)},h}(a.Component),n.displayName="OnClickOutside("+(e.displayName||e.name||"Component")+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:h,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},i}},2754:function(e,t,n){},2755:function(e,t,n){},2756:function(e,t,n){var a=n(2757),o=String.prototype;e.exports=function(e){var t=e.endsWith;return"string"==typeof e||e===o||e instanceof String&&t===o.endsWith?a:t}},2757:function(e,t,n){n(2758);var a=n(82);e.exports=a("String").endsWith},2758:function(e,t,n){"use strict";var a,o=n(43),r=n(490).f,i=n(156),s=n(691),l=n(267),c=n(692),u=n(244),d="".endsWith,h=Math.min,p=c("endsWith");o({target:"String",proto:!0,forced:!!(u||p||(a=r(String.prototype,"endsWith"),!a||a.writable))&&!p},{endsWith:function(e){var t=String(l(this));s(e);var n=arguments.length>1?arguments[1]:void 0,a=i(t.length),o=void 0===n?a:h(i(n),a),r=String(e);return d?d.call(t,r,o):t.slice(o-r.length,o)===r}})},2759:function(e,t,n){var a=n(2760),o=Array.prototype;e.exports=function(e){var t=e.every;return e===o||e instanceof Array&&t===o.every?a:t}},2760:function(e,t,n){n(2761);var a=n(82);e.exports=a("Array").every},2761:function(e,t,n){"use strict";var a=n(43),o=n(277).every,r=n(306),i=n(157),s=r("every"),l=i("every");a({target:"Array",proto:!0,forced:!s||!l},{every:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},2762:function(e,t,n){var a=n(2763),o=Array.prototype;e.exports=function(e){var t=e.lastIndexOf;return e===o||e instanceof Array&&t===o.lastIndexOf?a:t}},2763:function(e,t,n){n(2764);var a=n(82);e.exports=a("Array").lastIndexOf},2764:function(e,t,n){var a=n(43),o=n(2765);a({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},2765:function(e,t,n){"use strict";var a=n(252),o=n(400),r=n(156),i=n(306),s=n(157),l=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,d=i("lastIndexOf"),h=s("indexOf",{ACCESSORS:!0,1:0}),p=u||!d||!h;e.exports=p?function(e){if(u)return c.apply(this,arguments)||0;var t=a(this),n=r(t.length),i=n-1;for(arguments.length>1&&(i=l(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}:c},2767:function(e,t,n){},2768:function(e,t,n){n(342);var a=n(2496),o=n(263),r=Array.prototype,i={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.entries;return e===r||e instanceof Array&&t===r.entries||i.hasOwnProperty(o(e))?a:t}},2769:function(e,t,n){var a=n(2499);e.exports=a},2770:function(e,t,n){var a=n(2503);e.exports=a},302:function(e,t,n){"use strict";var a=p(n(264)),o=p(n(478)),r=p(n(212)),i=p(n(248)),s=p(n(265)),l=p(n(261)),c=p(n(1)),u=n(47),d=n(1096),h=p(n(1668));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){(0,r.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.promptInput=null,n.keyBinds=[],n.state=t.initialState(),n.onHide=n.onHide.bind(n),n.onSubmitPrompt=n.onSubmitPrompt.bind(n),n}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"setOptions",value:function(e){t.options=(0,o.default)({},t.DEFAULT_OPTIONS,e)}},{key:"resetOptions",value:function(){t.options=t.DEFAULT_OPTIONS}},{key:"initialState",value:function(){return{title:null,body:null,showModal:!1,actions:[],bsSize:void 0,onHide:null,prompt:null}}}]),(0,s.default)(t,[{key:"componentWillUnmount",value:function(){this.state.showModal&&this.hide()}},{key:"show",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={},o=n.actions||[];o.forEach((function(t){t.key&&t.key.split(",").forEach((function(n){a[n]=function(){t.func&&t.func(e)}}))})),this.keyBinds=a,n.showModal=!0,this.setState(t.initialState()),this.setState(n)}},{key:"showAlert",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a={body:e,actions:[t.SingleOKAction()],bsSize:n};this.show(a)}},{key:"onHide",value:function(){var e=this.state.onHide;"function"==typeof e?e(this):this.hide()}},{key:"hide",value:function(){this.state.showModal&&this.setState({showModal:!1})}},{key:"onSubmitPrompt",value:function(){var e=this.keyBinds.enter;e&&e()}},{key:"render",value:function(){var e=this,t=void 0===this.state.bsSize?"small":"medium"===this.state.bsSize?null:this.state.bsSize;return c.default.createElement(u.Modal,{show:this.state.showModal,onHide:this.onHide,bsSize:t},this.state.title&&c.default.createElement(u.Modal.Header,null,c.default.createElement(u.Modal.Title,null,this.state.title)),c.default.createElement(u.Modal.Body,null,"string"==typeof this.state.body?c.default.createElement("p",null,this.state.body):this.state.body,this.state.prompt&&c.default.createElement(h.default,{ref:function(t){e.promptInput=t},prompt:this.state.prompt,onSubmit:this.onSubmitPrompt})),c.default.createElement(u.Modal.Footer,null,this.state.actions.map((function(t){return c.default.createElement("button",{key:t.label,type:"button",className:"btn btn-sm "+t.className,onClick:function(){t.func&&t.func(e)},style:{minWidth:82}},t.label)}))))}},{key:"value",get:function(){return this.promptInput?this.promptInput.value:null}}]),t}(c.default.Component),b=function(){function e(t,n,a,o){(0,r.default)(this,e),this.label=t||f.options.defaultOkLabel,this._func=n,this.className=a||"btn-default",this.key=o}return(0,s.default)(e,[{key:"func",value:function(e){e.hide(),this._func&&this._func(e)}}]),e}();f.DEFAULT_OPTIONS={defaultOkLabel:"OK",defaultCancelLabel:"Cancel",primaryClassName:"btn-primary"},f.options=f.DEFAULT_OPTIONS,f.Action=function(e,t,n,a){return new b(e,t,n,a)},f.DefaultAction=function(e,t,n){return new b(e,t,n&&n.length>0?n:f.options.primaryClassName,"enter")},f.OKAction=function(e){return new b(f.options.defaultOkLabel,(function(t){t.hide(),e&&e(t)}),f.options.primaryClassName,"enter")},f.CancelAction=function(e){return new b(f.options.defaultCancelLabel,(function(t){t.hide(),e&&e(t)}),null,"esc")},f.SingleOKAction=function(){return new b(f.options.defaultOkLabel,(function(e){e.hide()}),f.options.primaryClassName,"enter,esc")},f.TextPrompt=function(e){return new d.TextPrompt(e)},f.PasswordPrompt=function(e){return new d.PasswordPrompt(e)},f.displayName="Dialog",e.exports=f},304:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(49),o=n.n(a),r=(n(1),n(25)),i=n.n(r),s=n(2);function l(){const e=o()(["\n  z-index: 1000;\n  width: 50px;\n  position: relative;\n  margin: 10px;\n  &.inline {\n    margin: 0px;\n    width: 30px;\n  }\n  &.floating {\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n"]);return l=function(){return e},e}const c=i.a.img(l());function u({position:e="floating"}){return Object(s.e)(c,{className:"loading "+e,alt:"Loading...",src:"/static/assets/images/loading.gif"})}},305:function(e,t,n){var a,o,r;o=[t],void 0===(r="function"==typeof(a=function(e){var t,n,a,o=e;void 0===o&&(window.rison={}),o.uri_ok={"~":!0,"!":!0,"*":!0,"(":!0,")":!0,"-":!0,_:!0,".":!0,",":!0,":":!0,"@":!0,$:!0,"'":!0,"/":!0},function(){for(var e=[],t=0;t<16;t++)for(var n=0;n<16;n++)if(t+n!=0){var a=String.fromCharCode(16*t+n);/\w|[-_.\/~]/.test(a)||e.push("\\u00"+t.toString(16)+n.toString(16))}o.not_idchar=e.join("")}(),o.not_idchar=" '!:(),*@$",o.not_idstart="-0123456789",a="[^"+o.not_idstart+o.not_idchar+"][^"+o.not_idchar+"]*",o.id_ok=new RegExp("^"+a+"$"),o.next_id=new RegExp(a,"g"),o.quote=function(e){return/^[-A-Za-z0-9~!*()_.',:@$\/]*$/.test(e)?e:encodeURIComponent(e).replace("%2C",",","g").replace("%3A",":","g").replace("%40","@","g").replace("%24","$","g").replace("%2F","/","g").replace("%20","+","g")},t={"'":!0,"!":!0},n={array:function(e){var t,a,o,r,i=["!("],s=e.length;for(o=0;o<s;o+=1)r=e[o],(a=n[typeof r])&&"string"==typeof(r=a(r))&&(t&&(i[i.length]=","),i[i.length]=r,t=!0);return i[i.length]=")",i.join("")},boolean:function(e){return e?"!t":"!f"},null:function(e){return"!n"},number:function(e){return isFinite(e)?String(e).replace(/\+/,""):"!n"},object:function(e){if(e){if(e instanceof Array)return n.array(e);if("object"==typeof e.__prototype__&&void 0!==e.__prototype__.encode_rison)return e.encode_rison();var t,a,o,r,i,s=["("],l=[];for(o in e)l[l.length]=o;for(l.sort(),i=0;i<l.length;i++)r=e[o=l[i]],(a=n[typeof r])&&"string"==typeof(r=a(r))&&(t&&(s[s.length]=","),s.push(n.string(o),":",r),t=!0);return s[s.length]=")",s.join("")}return"!n"},string:function(e){return""==e?"''":o.id_ok.test(e)?e:"'"+(e=e.replace(/(['!])/g,(function(e,n){return t[n]?"!"+n:n})))+"'"},undefined:function(e){throw new Error("rison can't encode the undefined value")}},o.encode=function(e){return n[typeof e](e)},o.encode_object=function(e){if("object"!=typeof e||null===e||e instanceof Array)throw new Error("rison.encode_object expects an object argument");var t=n[typeof e](e);return t.substring(1,t.length-1)},o.encode_array=function(e){if(!(e instanceof Array))throw new Error("rison.encode_array expects an array argument");var t=n[typeof e](e);return t.substring(2,t.length-1)},o.encode_uri=function(e){return o.quote(n[typeof e](e))},o.decode=function(e){return new o.parser((function(e){throw Error("rison decoder error: "+e)})).parse(e)},o.decode_object=function(e){return o.decode("("+e+")")},o.decode_array=function(e){return o.decode("!("+e+")")},o.parser=function(e){this.errorHandler=e},o.parser.WHITESPACE="",o.parser.prototype.setOptions=function(e){e.errorHandler&&(this.errorHandler=e.errorHandler)},o.parser.prototype.parse=function(e){this.string=e,this.index=0,this.message=null;var t=this.readValue();return!this.message&&this.next()&&(t=this.error("unable to parse string as rison: '"+o.encode(e)+"'")),this.message&&this.errorHandler&&this.errorHandler(this.message,this.index),t},o.parser.prototype.error=function(e){"undefined"!=typeof console&&console.log("rison parser error: ",e),this.message=e},o.parser.prototype.readValue=function(){var e=this.next(),t=e&&this.table[e];if(t)return t.apply(this);var n=this.string,a=this.index-1;o.next_id.lastIndex=a;var r=o.next_id.exec(n);if(r.length>0){var i=r[0];return this.index=a+i.length,i}return e?this.error("invalid character: '"+e+"'"):this.error("empty expression")},o.parser.parse_array=function(e){for(var t,n=[];")"!=(t=e.next());){if(!t)return e.error("unmatched '!('");if(n.length)","!=t&&e.error("missing ','");else{if(","==t)return e.error("extra ','");--e.index}var a=e.readValue();if(void 0===a)return;n.push(a)}return n},o.parser.bangs={t:!0,f:!1,n:null,"(":o.parser.parse_array},o.parser.prototype.table={"!":function(){var e=this.string.charAt(this.index++);if(!e)return this.error('"!" at end of input');var t=o.parser.bangs[e];return"function"==typeof t?t.call(null,this):void 0===t?this.error('unknown literal: "!'+e+'"'):t},"(":function(){for(var e,t={},n=0;")"!=(e=this.next());){if(n)","!=e&&this.error("missing ','");else{if(","==e)return this.error("extra ','");--this.index}var a=this.readValue();if(void 0===a)return;if(":"!=this.next())return this.error("missing ':'");var o=this.readValue();if(void 0===o)return;t[a]=o,n++}return t},"'":function(){for(var e,t=this.string,n=this.index,a=n,o=[];"'"!=(e=t.charAt(n++));){if(!e)return this.error('unmatched "\'"');if("!"==e){if(a<n-1&&o.push(t.slice(a,n-1)),e=t.charAt(n++),!("!'".indexOf(e)>=0))return this.error('invalid string escape: "!'+e+'"');o.push(e),a=n}}return a<n-1&&o.push(t.slice(a,n-1)),this.index=n,1==o.length?o[0]:o.join("")},"-":function(){var e=this.string,t=this.index,n=t-1,a="int",o="-",r={"int+.":"frac","int+e":"exp","frac+e":"exp"};do{var i=e.charAt(t++);if(!i)break;"0"<=i&&i<="9"||(o.indexOf(i)>=0?o="":"exp"==(a=r[a+"+"+i.toLowerCase()])&&(o="-"))}while(a);return this.index=--t,"-"==(e=e.slice(n,t))?this.error("invalid number"):Number(e)}},function(e){for(var t=0;t<=9;t++)e[String(t)]=e["-"]}(o.parser.prototype.table),o.parser.prototype.next=function(){var e=this.string,t=this.index;do{if(t==e.length)return;var n=e.charAt(t++)}while(o.parser.WHITESPACE.indexOf(n)>=0);return this.index=t,n}})?a.apply(t,o):a)||(e.exports=r)},3076:function(e,t,n){var a=n(2743);e.exports=a},3077:function(e,t,n){var a=n(2756);e.exports=a},3078:function(e,t,n){var a=n(2759);e.exports=a},3079:function(e,t,n){var a=n(2762);e.exports=a},329:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(1);var a=n(0),o=n.n(a),r=n(36),i=n(2);const s={title:o.a.string.isRequired,isSelected:o.a.bool.isRequired,onSelect:o.a.func.isRequired,info:o.a.string,children:o.a.node.isRequired};function l({title:e,isSelected:t,children:n,onSelect:a,info:o}){return Object(i.e)("div",{className:"PopoverSection "+(t?"":"dimmed")},Object(i.e)("div",{role:"button",tabIndex:0,onClick:a,className:"pointer"},Object(i.e)("strong",null,e),"  ",o&&Object(i.e)(r.InfoTooltipWithTrigger,{tooltip:o,label:"date-free-tooltip"})," ",Object(i.e)("i",{className:t?"fa fa-check text-primary":""})),Object(i.e)("div",{className:"m-t-5 m-l-5"},n))}l.propTypes=s},3340:function(e,t,n){},3341:function(e,t,n){},367:function(e,t,n){var a=n(693);e.exports=function(e,t){return a(e,t)}},368:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(213),o=n.n(a),r=n(129),i=n.n(r);function s(e){const t=new i.a;return o()(e,(e,n)=>{if("object"==typeof n&&null!==n){if(t.has(n))try{return JSON.parse(o()(n))}catch(e){return}t.add(n)}return n})}},377:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(93);var a=n(540),o=n.n(a),r=n(1),i=n(4),s=n.n(i),l=n(3),c=n(169),u=n(2);function d({canEdit:e=!1,emptyText:t,extraClasses:n,multiLine:a=!1,noPermitTooltip:i,onSaveTitle:d,showTooltip:h=!0,style:p,title:f}){const[b,m]=Object(r.useState)(!1),[g,v]=Object(r.useState)(f),[y,O]=Object(r.useState)(f),[C,x]=Object(r.useState)(null),j=Object(r.useRef)();function w(){if(!e||b)return;const t=j.current?j.current.getBoundingClientRect():null;m(!0),x(t)}function S(){const t=o()(g).call(g);e&&(m(!1),t.length?(y!==t&&O(t),f!==t&&d(t)):v(y))}function E(e){" "===e.key&&e.stopPropagation()}function _(t){e&&v(t.target.value)}function T(e){"Enter"===e.key&&(e.preventDefault(),S())}let k;Object(r.useEffect)(()=>{g!==y&&(O(g),v(f))},[f]),g?k=g:b||(k=t);const M=b&&C?{height:C.height+"px"}:void 0;let A=a&&b?Object(u.e)("textarea",{ref:j,required:!0,value:k,className:f?void 0:"text-muted",onKeyDown:E,onChange:_,onBlur:S,onClick:w,onKeyPress:T,style:M}):Object(u.e)("input",{ref:j,required:!0,type:b?"text":"button",value:k,className:f?void 0:"text-muted",onKeyDown:E,onChange:_,onBlur:S,onClick:w,onKeyPress:T});return h&&!b&&(A=Object(u.e)(c.a,{label:"title",tooltip:e?Object(l.t)("click to edit"):i||Object(l.t)("You don't have the rights to alter this title.")},A)),Object(u.e)("span",{className:s()("editable-title",n,e&&"editable-title--editable",b&&"editable-title--editing"),style:p},A)}},387:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.split=void 0;var a=r(n(1671)),o=r(n(1672));function r(e){return e&&e.__esModule?e:{default:e}}t.split=o.default,t.default=a.default},390:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));n(272),n(93);var a=n(266),o=n.n(a),r=n(76),i=n.n(r);function s({chartId:e,column:t}){return e+"_"+t}function l(e){const[t,...n]=e.split("_"),a=i()(n).call(n).join("_");return{chartId:o()(t,10),column:a}}},460:function(e,t,n){"use strict";n.r(t),n.d(t,"LOG_EVENT",(function(){return a})),n.d(t,"logEvent",(function(){return o}));const a="LOG_EVENT";function o(e,t){return n=>n({type:a,payload:{eventName:e,eventData:t}})}},488:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.red=void 0;var a=r(n(2702)),o=r(n(2502));function r(e){return e&&e.__esModule?e:{default:e}}t.default={simpleCheckForValidColor:function(e){var t=0,n=0;return(0,a.default)(["r","g","b","a","h","s","l","v"],(function(a){if(e[a]&&(t+=1,isNaN(e[a])||(n+=1),"s"===a||"l"===a)){/^\d+%$/.test(e[a])&&(n+=1)}})),t===n&&e},toState:function(e,t){var n=e.hex?(0,o.default)(e.hex):(0,o.default)(e),a=n.toHsl(),r=n.toHsv(),i=n.toRgb(),s=n.toHex();return 0===a.s&&(a.h=t||0,r.h=t||0),{hsl:a,hex:"000000"===s&&0===i.a?"transparent":"#"+s,rgb:i,hsv:r,oldHue:e.h||t||a.h,source:e.source}},isValidHex:function(e){var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,o.default)(e).isValid()},getContrastingColor:function(e){if(!e)return"#fff";var t=this.toState(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"}};t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},541:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(10),o=n.n(a),r=n(1),i=n.n(r),s=n(0),l=n.n(s),c=n(391),u=n(376),d=n(46),h=n(387),p=n.n(h),f=(n(1394),n(2611),n(2612),n(2509),n(2771),n(2510),n(3)),b=n(98),m=n(247),g=n(2);const v={name:l.a.string,onChange:l.a.func,value:l.a.string,height:l.a.number,minLines:l.a.number,maxLines:l.a.number,offerEditInModal:l.a.bool,language:l.a.oneOf([null,"json","html","sql","markdown","javascript"]),aboveEditorSection:l.a.node,readOnly:l.a.bool};class y extends i.a.Component{onControlChange(e){this.props.onChange(e.target.value)}onAceChange(e){this.props.onChange(e)}renderEditor(e=!1){var t;const n=this.props.value||"";var a;return this.props.language?Object(g.e)(p.a,{mode:this.props.language,theme:"textmate",style:{border:"1px solid #CCC"},minLines:e?40:this.props.minLines,maxLines:e?1e3:this.props.maxLines,onChange:o()(a=this.onAceChange).call(a,this),width:"100%",editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,value:n,readOnly:this.props.readOnly}):Object(g.e)(c.a,{controlId:"formControlsTextarea"},Object(g.e)(u.a,{componentClass:"textarea",placeholder:Object(f.t)("textarea"),onChange:o()(t=this.onControlChange).call(t,this),value:n,disabled:this.props.readOnly,style:{height:this.props.height}}))}renderModalBody(){return Object(g.e)("div",null,Object(g.e)("div",null,this.props.aboveEditorSection),this.renderEditor(!0))}render(){const e=Object(g.e)(b.a,this.props);return Object(g.e)("div",null,e,this.renderEditor(),this.props.offerEditInModal&&Object(g.e)(m.a,{bsSize:"large",modalTitle:e,triggerNode:Object(g.e)(d.a,{buttonSize:"small",className:"m-t-5"},Object(f.t)("Edit")," ",Object(g.e)("strong",null,this.props.language)," ",Object(f.t)("in modal")),modalBody:this.renderModalBody(!0)}))}}y.propTypes=v,y.defaultProps={onChange:()=>{},value:"",height:250,minLines:3,maxLines:10,offerEditInModal:!0,readOnly:!1}},681:function(e,t,n){"use strict";var a=n(53),o=n.n(a),r=n(10),i=n.n(r),s=n(1),l=n.n(s),c=n(0),u=n.n(c),d=n(94),h=n(3),p=n(34),f=n(114),b=n(2);const m={dataEndpoint:u.a.string.isRequired,onChange:u.a.func.isRequired,mutator:u.a.func.isRequired,onAsyncError:u.a.func,value:u.a.oneOfType([u.a.number,u.a.arrayOf(u.a.number)]),valueRenderer:u.a.func,placeholder:u.a.string,autoSelect:u.a.bool},g={placeholder:Object(h.t)("Select ..."),onAsyncError:()=>{}};class v extends l.a.PureComponent{constructor(e){var t;super(e),this.state={isLoading:!1,options:[]},this.onChange=i()(t=this.onChange).call(t,this)}componentDidMount(){this.fetchOptions()}onChange(e){this.props.onChange(e)}fetchOptions(){this.setState({isLoading:!0});const{mutator:e,dataEndpoint:t}=this.props;return p.SupersetClient.get({endpoint:t}).then(({json:t})=>{const n=e?e(t):t;this.setState({options:n,isLoading:!1}),!this.props.value&&this.props.autoSelect&&n.length>0&&this.onChange(n[0])}).catch(e=>Object(f.a)(e).then(e=>{this.props.onAsyncError(e.error||e.statusText||e),this.setState({isLoading:!1})}))}render(){return Object(b.e)(d.f,o()({placeholder:this.props.placeholder,options:this.state.options,value:this.props.value,isLoading:this.state.isLoading,onChange:this.onChange,valueRenderer:this.props.valueRenderer},this.props))}}v.propTypes=m,v.defaultProps=g,t.a=v},747:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(1);var a=n(2);function o({checked:e,onChange:t,style:n}){return Object(a.e)("span",{style:n},Object(a.e)("i",{role:"button",tabIndex:0,className:"fa fa-check "+(e?"text-primary":"text-transparent"),onClick:()=>{t(!e)},style:{border:"1px solid #aaa",borderRadius:"2px",cursor:"pointer"}}))}},750:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(1360),o=n.n(a),r=n(30),i=n.n(r),s=n(129),l=n.n(s);const c=function(){const e=document.getElementById("app");if(!e)return[];const t=JSON.parse(e.getAttribute("data-bootstrap")),n=new l.a([location.hostname]);var a;return t&&t.common&&t.common.conf&&t.common.conf.SUPERSET_WEBSERVER_DOMAINS&&i()(a=t.common.conf.SUPERSET_WEBSERVER_DOMAINS).call(a,e=>{n.add(e)}),o()(n)}(),u=c.length>1},809:function(e,t,n){"use strict";var a=n(16),o=n.n(a),r=n(79),i=n.n(r),s=n(241);const l=["AND","AS","ASC","AVG","BY","CASE","COUNT","CREATE","CROSS","DATABASE","DEFAULT","DELETE","DESC","DISTINCT","DROP","ELSE","END","FOREIGN","FROM","GRANT","GROUP","HAVING","IF","INNER","INSERT","JOIN","KEY","LEFT","LIMIT","MAX","MIN","NATURAL","NOT","NULL","OFFSET","ON","OR","ORDER","OUTER","PRIMARY","REFERENCES","RIGHT","SELECT","SUM","TABLE","THEN","TYPE","UNION","UPDATE","WHEN","WHERE"],c=i()(l).call(l,["BIGINT","BINARY","BIT","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","MONEY","NUMBER","NUMERIC","REAL","SET","TEXT","TIMESTAMP","VARCHAR"]),u=o()(c).call(c,e=>({meta:"sql",name:e,score:s.l,value:e}));t.a=u},904:function(e,t,n){"use strict";n.r(t),n.d(t,"TIME_FILTER_MAP",(function(){return J})),n.d(t,"TIME_RANGE",(function(){return ee}));n(276),n(272);var a=n(129),o=n.n(a),r=n(57),i=n.n(r),s=n(30),l=n.n(s),c=n(894),u=n.n(c),d=n(397),h=n.n(d),p=n(39),f=n.n(p),b=n(140),m=n.n(b),g=n(16),v=n.n(g),y=n(113),O=n.n(y),C=n(9),x=n.n(C),j=n(10),w=n.n(j),S=n(49),E=n.n(S),_=n(72),T=n.n(_),k=n(1),M=n.n(k),A=n(0),R=n.n(A),D=n(14),N=n(94),P=n(46),F=n(3),L=n(34),I=n(25),B=n.n(I),H=n(124),q=n(2451),V=n(2477),U=n(2478),z=n(163),G=n(240),W=n(477),K=n(390),Y=n(1357),Q=n(60),X=n(1651),$=(n(3341),n(2));function Z(){const e=E()(["\n  height: 100%;\n  min-height: 100%;\n  max-height: 100%;\n  overflow: visible;\n"]);return Z=function(){return e},e}const J={time_range:"__time_range",granularity_sqla:"__time_col",time_grain_sqla:"__time_grain",druid_time_origin:"__time_origin",granularity:"__granularity"},ee=J.time_range,te={chartId:R.a.number.isRequired,origSelectedValues:R.a.object,datasource:R.a.object.isRequired,instantFiltering:R.a.bool,filtersFields:R.a.arrayOf(R.a.shape({field:R.a.string,label:R.a.string})),filtersChoices:R.a.objectOf(R.a.arrayOf(R.a.shape({id:R.a.string,text:R.a.string,filter:R.a.string,metric:R.a.number}))),onChange:R.a.func,onFilterMenuOpen:R.a.func,onFilterMenuClose:R.a.func,showDateFilter:R.a.bool,showSqlaTimeGrain:R.a.bool,showSqlaTimeColumn:R.a.bool,showDruidTimeGrain:R.a.bool,showDruidTimeOrigin:R.a.bool},ne=B.a.div(Z());class ae extends M.a.Component{constructor(e){var t,n,a,o;super(e),this.state={selectedValues:e.origSelectedValues,hasChanged:!1},this.debouncerCache={},this.maxValueCache={},this.changeFilter=w()(t=this.changeFilter).call(t,this),this.onFilterMenuOpen=w()(n=this.onFilterMenuOpen).call(n,this),this.onOpenDateFilterControl=w()(a=this.onOpenDateFilterControl).call(a,this),this.onFilterMenuClose=w()(o=this.onFilterMenuClose).call(o,this)}onFilterMenuOpen(e){return this.props.onFilterMenuOpen(this.props.chartId,e)}onOpenDateFilterControl(){return this.onFilterMenuOpen(ee)}onFilterMenuClose(){return this.props.onFilterMenuClose(this.props.chartId)}getControlData(e){const{selectedValues:t}=this.state,n=x()({},z.d[e],{name:e,key:"control-"+e,value:t[J[e]],actions:{setControlValue:this.changeFilter}}),a=n.mapStateToProps;return a?x()({},n,a(this.props)):n}getKnownMax(e,t){return this.maxValueCache[e]=Math.max(this.maxValueCache[e]||0,Object(D.max)(t||this.props.filtersChoices[e]||[],e=>e.metric)),this.maxValueCache[e]}clickApply(){const{selectedValues:e}=this.state;this.setState({hasChanged:!1},()=>{this.props.onChange(e,!1)})}changeFilter(e,t){const n=J[e]||e;let a=null;null!==t&&(a=O()(t)?v()(t).call(t,e=>"string"==typeof e?e:e.value):t.value?t.value:t);const o=x()({},this.state.selectedValues,{[n]:a});this.setState({selectedValues:o,hasChanged:!0},()=>{this.props.instantFiltering&&this.props.onChange({[n]:a},!1)})}debounceLoadOptions(e){return e in this.debouncerCache||(this.debouncerCache[e]=T()((t,n)=>{this.loadOptions(e,t).then(n)},500)),this.debouncerCache[e]}transformOptions(e,t){const n=void 0===t?Object(D.max)(e,e=>e.metric):t;return v()(e).call(e,e=>{const t=Math.round(e.metric/n*100),a={backgroundImage:"linear-gradient(to right, lightgrey, lightgrey "+t+"%, rgba(0,0,0,0) "+t+"%"};return{value:e.id,label:e.id,style:a}})}async loadOptions(e,t=""){var n,a,o;const r=t.toLowerCase(),i=m()(n=this.props.filtersFields).call(n,t=>t.key===e).asc,s=x()({},this.props.rawFormData,{adhoc_filters:t?[{clause:"WHERE",comparator:null,expressionType:"SQL",sqlExpression:"lower("+e+") like '%"+r+"%'"}]:null}),{json:l}=await L.SupersetClient.get({url:Object(G.h)({formData:s,endpointType:"json",method:"GET"})}),c=f()(a=(null==l?void 0:null===(o=l.data)||void 0===o?void 0:o[e])||[]).call(a,e=>e.id);return c&&0!==c.length?(r&&h()(c).call(c,(e,t)=>{const n=e.id.toLowerCase(),a=t.id.toLowerCase(),o=u()(a).call(a,r)-u()(n).call(n,r);return 0===o?(e.metric-t.metric)*(i?1:-1):o}),this.transformOptions(c,this.getKnownMax(e,c))):[]}renderDateFilter(){const{showDateFilter:e,chartId:t}=this.props,n=Q.m.time_range;return e?Object($.e)("div",{className:"row space-1"},Object($.e)("div",{className:"col-lg-12 col-xs-12 filter-container"},this.renderFilterBadge(t,ee,n),Object($.e)(q.a,{name:ee,label:n,description:Object(F.t)("Select start and end date"),onChange:e=>{this.changeFilter(ee,e)},onOpenDateFilterControl:this.onOpenDateFilterControl,onCloseDateFilterControl:this.onFilterMenuClose,value:this.state.selectedValues[ee]||"No filter"}))):null}renderDatasourceFilters(){const{showSqlaTimeGrain:e,showSqlaTimeColumn:t,showDruidTimeGrain:n,showDruidTimeOrigin:a}=this.props,o=[],r=[],i=[];return e&&r.push("time_grain_sqla"),t&&r.push("granularity_sqla"),n&&i.push("granularity"),a&&i.push("druid_time_origin"),r.length&&o.push(Object($.e)(V.a,{key:"sqla-filters",className:"control-row",controls:v()(r).call(r,e=>Object($.e)(U.a,this.getControlData(e)))})),i.length&&o.push(Object($.e)(V.a,{key:"druid-filters",className:"control-row",controls:v()(i).call(i,e=>Object($.e)(U.a,this.getControlData(e)))})),o}renderSelect(e){var t,n;const{filtersChoices:a}=this.props,{selectedValues:r}=this.state;this.debouncerCache={},this.maxValueCache={},l()(t=f()(n=i()(r)).call(n,e=>r.hasOwnProperty(e)&&e in a)).call(t,e=>{var t;const n=a[e]||(a[e]=[]),i=new o.a(v()(n).call(n,e=>e.id)),s=O()(r[e])?r[e]:[r[e]];l()(t=f()(s).call(s,e=>null!==e&&!i.has(e))).call(t,t=>{n.unshift({filter:e,id:t,text:t,metric:0})})});const{key:s,label:c}=e,u=a[s]||[];let d=r[s]||null;return void 0===d&&e[Q.f.DEFAULT_VALUE]&&(d=e[Q.f.MULTIPLE]?e[Q.f.DEFAULT_VALUE].split(";"):e[Q.f.DEFAULT_VALUE]),Object($.e)(W.a,{cacheOptions:!0,loadOptions:this.debounceLoadOptions(s),defaultOptions:this.transformOptions(u),key:s,placeholder:Object(F.t)("Type or Select [%s]",c),isMulti:e[Q.f.MULTIPLE],isClearable:e[Q.f.CLEARABLE],value:d,options:this.transformOptions(u),onChange:e=>{e!==d&&this.changeFilter(s,e)},onFocus:()=>this.onFilterMenuOpen(s),onMenuOpen:()=>this.onFilterMenuOpen(s),onBlur:this.onFilterMenuClose,onMenuClose:this.onFilterMenuClose,selectWrap:e[Q.f.SEARCH_ALL_OPTIONS]&&u.length>=Q.g?N.a:N.c,noResultsText:Object(F.t)("No results found")})}renderFilters(){const{filtersFields:e,chartId:t}=this.props;return v()(e).call(e,e=>{const{label:n,key:a}=e;return Object($.e)("div",{key:a,className:"m-b-5 filter-container"},this.renderFilterBadge(t,a,n),Object($.e)("div",null,Object($.e)(H.a,{htmlFor:"LABEL-"+a},n),this.renderSelect(e)))})}renderFilterBadge(e,t){const n=Object(K.b)({chartId:e,column:t}),a=Object(Y.b)()[n];return Object($.e)("div",{className:"filter-badge-container"},Object($.e)(X.a,{colorCode:a}))}render(){var e;const{instantFiltering:t}=this.props;return Object($.e)(ne,null,this.renderDateFilter(),this.renderDatasourceFilters(),this.renderFilters(),!t&&Object($.e)(P.a,{buttonSize:"small",buttonStyle:"primary",onClick:w()(e=this.clickApply).call(e,this),disabled:!this.state.hasChanged},Object(F.t)("Apply")))}}ae.propTypes=te,ae.defaultProps={origSelectedValues:{},onChange:()=>{},onFilterMenuOpen:()=>{},onFilterMenuClose:()=>{},showDateFilter:!1,showSqlaTimeGrain:!1,showSqlaTimeColumn:!1,showDruidTimeGrain:!1,showDruidTimeOrigin:!1,instantFiltering:!1},t.default=ae},910:function(e,t,n){var a=n(343),o=n(231),r=n(1071);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],i={};i[e]=t(n),a(a.S+a.F*r((function(){n(1)})),"Object",i)}}}]);