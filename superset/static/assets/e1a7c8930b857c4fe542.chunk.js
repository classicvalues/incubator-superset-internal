/*! For license information please see e1a7c8930b857c4fe542.chunk.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1040:function(e,t,n){"use strict";var r=n(5),a=n.n(r),o=(n(0),n(2)),i=n.n(o),s=n(1);const l={controls:i.a.arrayOf(i.a.object).isRequired};function c(e){var t;const n=12/e.controls.length;return Object(s.f)("div",{className:"row space-1"},a()(t=e.controls).call(t,(e,t)=>Object(s.f)("div",{className:`col-lg-${n} col-xs-12`,key:t},e)))}c.propTypes=l,t.a=c},1064:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var r=i(n(0)),a=i(n(91)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1343));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.Checkboard=function(e){var t=e.white,n=e.grey,i=e.size,s=e.renderers,l=e.borderRadius,c=e.boxShadow,u=(0,a.default)({default:{grid:{borderRadius:l,boxShadow:c,absolute:"0px 0px 0px 0px",background:"url("+o.get(t,n,i,s.canvas)+") center left"}}});return r.default.createElement("div",{style:u.grid})};s.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=s},1065:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=c(n(208)),l=c(n(334));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.ColorWrap=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(l.default.simpleCheckForValidColor(e)){var r=l.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(l.default.simpleCheckForValidColor(e)){var r=l.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=r({},l.default.toState(e.color,0)),t.debounce=(0,s.default)((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),a(n,[{key:"componentWillReceiveProps",value:function(e){this.setState(r({},l.default.toState(e.color,this.state.oldHue)))}},{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),i.default.createElement(e,r({},this.props,this.state,{onChange:this.handleChange},t))}}]),n}(o.PureComponent||o.Component);return t.propTypes=r({},e.propTypes),t.defaultProps=r({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=u},1066:function(e,t,n){"use strict";n.r(t),n.d(t,"red",(function(){return r})),n.d(t,"pink",(function(){return a})),n.d(t,"purple",(function(){return o})),n.d(t,"deepPurple",(function(){return i})),n.d(t,"indigo",(function(){return s})),n.d(t,"blue",(function(){return l})),n.d(t,"lightBlue",(function(){return c})),n.d(t,"cyan",(function(){return u})),n.d(t,"teal",(function(){return d})),n.d(t,"green",(function(){return p})),n.d(t,"lightGreen",(function(){return f})),n.d(t,"lime",(function(){return h})),n.d(t,"yellow",(function(){return g})),n.d(t,"amber",(function(){return b})),n.d(t,"orange",(function(){return m})),n.d(t,"deepOrange",(function(){return v})),n.d(t,"brown",(function(){return y})),n.d(t,"grey",(function(){return O})),n.d(t,"blueGrey",(function(){return C})),n.d(t,"darkText",(function(){return x})),n.d(t,"lightText",(function(){return w})),n.d(t,"darkIcons",(function(){return _})),n.d(t,"lightIcons",(function(){return j})),n.d(t,"white",(function(){return S})),n.d(t,"black",(function(){return E}));var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},a={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},i={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},l={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},c={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},u={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},d={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},p={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},f={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},h={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},g={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},b={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},v={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},y={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},O={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},C={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},x={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},w={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},_={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},j={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},S="#ffffff",E="#000000";t.default={red:r,pink:a,purple:o,deepPurple:i,indigo:s,blue:l,lightBlue:c,cyan:u,teal:d,green:p,lightGreen:f,lime:h,yellow:g,amber:b,orange:m,deepOrange:v,brown:y,grey:O,blueGrey:C,darkText:x,lightText:w,darkIcons:_,lightIcons:j,white:S,black:E}},1067:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackBackendForEs5Users=t.createChildContext=t.CHILD_CONTEXT_TYPES=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){p.default.apply(void 0,["DragDropContext","backend"].concat(Array.prototype.slice.call(arguments)));var t=y(e),n=v(t);return function(e){var t,o,l=e.displayName||e.name||"Component",c=(o=t=function(t){function o(){return h(this,o),g(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return b(o,t),a(o,[{key:"getDecoratedComponentInstance",value:function(){return(0,u.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"getManager",value:function(){return n.dragDropManager}},{key:"getChildContext",value:function(){return n}},{key:"render",value:function(){var t=this;return s.default.createElement(e,r({},this.props,{ref:function(e){t.child=e}}))}}]),o}(i.Component),t.DecoratedComponent=e,t.displayName="DragDropContext("+l+")",t.childContextTypes=m,o);return(0,d.default)(c,e)}};var i=n(0),s=f(i),l=f(n(2)),c=n(1082),u=f(n(137)),d=f(n(938)),p=f(n(808));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=t.CHILD_CONTEXT_TYPES={dragDropManager:l.default.object.isRequired},v=t.createChildContext=function(e,t){return{dragDropManager:new c.DragDropManager(e,t)}},y=t.unpackBackendForEs5Users=function(e){var t=e;return"object"===(void 0===t?"undefined":o(t))&&"function"==typeof t.default&&(t=t.default),(0,u.default)("function"==typeof t,"Expected the backend to be a function or an ES6 module exporting a default function. Read more: http://react-dnd.github.io/react-dnd/docs-drag-drop-context.html"),t}},1068:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.BEGIN_DRAG:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case a.HOVER:return i(e.clientOffset,t.clientOffset)?e:r({},e,{clientOffset:t.clientOffset});case a.END_DRAG:case a.DROP:return o;default:return e}},t.getSourceClientOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset,r=e.initialSourceClientOffset;if(!t||!n||!r)return null;return{x:t.x+r.x-n.x,y:t.y+r.y-n.y}},t.getDifferenceFromInitialOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset;if(!t||!n)return null;return{x:t.x-n.x,y:t.y-n.y}};var a=n(806),o={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function i(e,t){return e===t||e&&t&&e.x===t.x&&e.y===t.y}},1069:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,o.default)(e)?e.some((function(e){return e===t})):e===t};var r,a=n(235),o=(r=a)&&r.__esModule?r:{default:r}},1070:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments[1],t=arguments[2];switch(e.type){case o.HOVER:break;case i.ADD_SOURCE:case i.ADD_TARGET:case i.REMOVE_TARGET:case i.REMOVE_SOURCE:return l;case o.BEGIN_DRAG:case o.PUBLISH_DRAG_SOURCE:case o.END_DRAG:case o.DROP:default:return c}var n=e.targetIds,a=t.targetIds,s=(0,r.default)(n,a),u=!1;if(0===s.length){for(var d=0;d<n.length;d++)if(n[d]!==a[d]){u=!0;break}}else u=!0;if(!u)return l;var p=a[a.length-1],f=n[n.length-1];p!==f&&(p&&s.push(p),f&&s.push(f));return s},t.areDirty=function(e,t){if(e===l)return!1;if(e===c||void 0===t)return!0;return(0,a.default)(t,e).length>0};var r=s(n(1729)),a=s(n(1730)),o=n(806),i=n(807);function s(e){return e&&e.__esModule?e:{default:e}}var l=[],c=[]},1071:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":r(e))||null===e||"object"!==(void 0===t?"undefined":r(t))||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i+=1){if(!o.call(t,n[i]))return!1;var s=e[n[i]],l=t[n[i]];if(s!==l||"object"===(void 0===s?"undefined":r(s))||"object"===(void 0===l?"undefined":r(l)))return!1}return!0}},1072:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t,n,h=e.DecoratedComponent,b=e.createHandler,m=e.createMonitor,v=e.createConnector,y=e.registerHandler,O=e.containerDisplayName,C=e.getType,x=e.collect,w=e.options.arePropsEqual,_=void 0===w?f.default:w,j=h.displayName||h.name||"Component",S=(n=t=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.handleChange=r.handleChange.bind(r),r.handleChildRef=r.handleChildRef.bind(r),(0,u.default)("object"===a(r.context.dragDropManager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",j,j),r.manager=r.context.dragDropManager,r.handlerMonitor=m(r.manager),r.handlerConnector=v(r.manager.getBackend()),r.handler=b(r.handlerMonitor),r.disposable=new c.SerialDisposable,r.receiveProps(e),r.state=r.getCurrentState(),r.dispose(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return this.decoratedComponentInstance}},{key:"shouldComponentUpdate",value:function(e,t){return!_(e,this.props)||!(0,p.default)(t,this.state)}}]),o(t,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.disposable=new c.SerialDisposable,this.currentType=null,this.receiveProps(this.props),this.handleChange()}},{key:"componentWillReceiveProps",value:function(e){_(e,this.props)||(this.receiveProps(e),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose(),this.isCurrentlyMounted=!1}},{key:"receiveProps",value:function(e){this.handler.receiveProps(e),this.receiveType(C(e))}},{key:"receiveType",value:function(e){if(e!==this.currentType){this.currentType=e;var t=y(e,this.handler,this.manager),n=t.handlerId,r=t.unregister;this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var a=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new c.CompositeDisposable(new c.Disposable(a),new c.Disposable(r)))}}},{key:"handleChange",value:function(){if(this.isCurrentlyMounted){var e=this.getCurrentState();(0,p.default)(e,this.state)||this.setState(e)}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector.receiveHandlerId(null)}},{key:"handleChildRef",value:function(e){this.decoratedComponentInstance=e,this.handler.receiveComponent(e)}},{key:"getCurrentState",value:function(){return x(this.handlerConnector.hooks,this.handlerMonitor)}},{key:"render",value:function(){return s.default.createElement(h,r({},this.props,this.state,{ref:g(h)?this.handleChildRef:null}))}}]),t}(i.Component),t.DecoratedComponent=h,t.displayName=O+"("+j+")",t.contextTypes={dragDropManager:l.default.object.isRequired},n);return(0,d.default)(S,h)};var i=n(0),s=h(i),l=h(n(2)),c=n(1402),u=(h(n(350)),h(n(137))),d=h(n(938)),p=h(n(939)),f=h(n(1071));function h(e){return e&&e.__esModule?e:{default:e}}var g=function(e){return Boolean(e&&e.prototype&&"function"==typeof e.prototype.render)}},1073:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return Object.keys(e).forEach((function(n){var r=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((0,a.isValidElement)(t)){var r=t;s(r);var o=n?function(t){return e(t,n)}:e;return(0,i.default)(r,o)}var l=t;e(l,n)}}(e[n]);t[n]=function(){return r}})),t};var r,a=n(0),o=n(1410),i=(r=o)&&r.__esModule?r:{default:r};function s(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+t+" into a <div>, or turn it into a drag source or a drop target itself.")}}},1074:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t===e)return!0;return null!==t&&null!==e&&(0,o.default)(t,e)};var r,a=n(939),o=(r=a)&&r.__esModule?r:{default:r}},1075:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t,n){return"string"==typeof t||"symbol"===(void 0===t?"undefined":r(t))||n&&(0,i.default)(t)&&t.every((function(t){return e(t,!1)}))};var a,o=n(235),i=(a=o)&&a.__esModule?a:{default:a}},1076:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSafari=t.isFirefox=void 0;var r,a=n(1115),o=(r=a)&&r.__esModule?r:{default:r};t.isFirefox=(0,o.default)((function(){return/firefox/i.test(navigator.userAgent)})),t.isSafari=(0,o.default)((function(){return Boolean(window.safari)}))},1078:function(e,t,n){},1080:function(e,t,n){},1081:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var r=n(1334);Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return v(r).default}});var a=n(1353);Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return v(a).default}});var o=n(1355);Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return v(o).default}});var i=n(1357);Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return v(i).default}});var s=n(1361);Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return v(s).default}});var l=n(1364);Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return v(l).default}});var c=n(1366);Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return v(c).default}});var u=n(1368);Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return v(u).default}});var d=n(1369);Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return v(d).default}});var p=n(1375);Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return v(p).default}});var f=n(1378);Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return v(f).default}});var h=n(1382);Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return v(h).default}});var g=n(1385);Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return v(g).default}});var b=n(1065);Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return v(b).default}});var m=v(i);function v(e){return e&&e.__esModule?e:{default:e}}t.default=m.default},1082:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1386);Object.defineProperty(t,"DragDropManager",{enumerable:!0,get:function(){return s(r).default}});var a=n(1396);Object.defineProperty(t,"DragSource",{enumerable:!0,get:function(){return s(a).default}});var o=n(1397);Object.defineProperty(t,"DropTarget",{enumerable:!0,get:function(){return s(o).default}});var i=n(1398);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"createTestBackend",{enumerable:!0,get:function(){return s(i).default}})},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(309),a=n.n(r),o=(n(0),n(2)),i=n.n(o),s=n(60),l=n(1);const c={label:i.a.string.isRequired,tooltip:i.a.node.isRequired,children:i.a.node.isRequired,placement:i.a.string,trigger:i.a.oneOfType([i.a.string,i.a.arrayOf(i.a.string)])};function u({label:e,tooltip:t,children:n,placement:r,trigger:o}){return Object(l.f)(s.a,{id:`${a()(e)}-tooltip`,placement:r,title:t,trigger:o},n)}u.propTypes=c,u.defaultProps={placement:"top"}},121:function(e,t,n){"use strict";n.r(t),n.d(t,"CHART_UPDATE_STARTED",(function(){return k})),n.d(t,"chartUpdateStarted",(function(){return M})),n.d(t,"CHART_UPDATE_SUCCEEDED",(function(){return R})),n.d(t,"chartUpdateSucceeded",(function(){return P})),n.d(t,"CHART_UPDATE_STOPPED",(function(){return A})),n.d(t,"chartUpdateStopped",(function(){return N})),n.d(t,"CHART_UPDATE_FAILED",(function(){return I})),n.d(t,"chartUpdateFailed",(function(){return F})),n.d(t,"CHART_UPDATE_QUEUED",(function(){return L})),n.d(t,"chartUpdateQueued",(function(){return B})),n.d(t,"CHART_RENDERING_FAILED",(function(){return U})),n.d(t,"chartRenderingFailed",(function(){return H})),n.d(t,"CHART_RENDERING_SUCCEEDED",(function(){return V})),n.d(t,"chartRenderingSucceeded",(function(){return q})),n.d(t,"REMOVE_CHART",(function(){return $})),n.d(t,"removeChart",(function(){return G})),n.d(t,"ANNOTATION_QUERY_SUCCESS",(function(){return z})),n.d(t,"annotationQuerySuccess",(function(){return W})),n.d(t,"ANNOTATION_QUERY_STARTED",(function(){return Y})),n.d(t,"annotationQueryStarted",(function(){return X})),n.d(t,"ANNOTATION_QUERY_FAILED",(function(){return Q})),n.d(t,"annotationQueryFailed",(function(){return K})),n.d(t,"DYNAMIC_PLUGIN_CONTROLS_READY",(function(){return Z})),n.d(t,"dynamicPluginControlsReady",(function(){return J})),n.d(t,"getChartDataRequest",(function(){return ee})),n.d(t,"runAnnotationQuery",(function(){return te})),n.d(t,"TRIGGER_QUERY",(function(){return ne})),n.d(t,"triggerQuery",(function(){return re})),n.d(t,"RENDER_TRIGGERED",(function(){return ae})),n.d(t,"renderTriggered",(function(){return oe})),n.d(t,"UPDATE_QUERY_FORM_DATA",(function(){return ie})),n.d(t,"updateQueryFormData",(function(){return se})),n.d(t,"UPDATE_CHART_ID",(function(){return le})),n.d(t,"updateChartId",(function(){return ce})),n.d(t,"ADD_CHART",(function(){return ue})),n.d(t,"addChart",(function(){return de})),n.d(t,"exploreJSON",(function(){return pe})),n.d(t,"GET_SAVED_CHART",(function(){return fe})),n.d(t,"getSavedChart",(function(){return he})),n.d(t,"POST_CHART_FORM_DATA",(function(){return ge})),n.d(t,"postChartFormData",(function(){return be})),n.d(t,"redirectSQLLab",(function(){return me})),n.d(t,"refreshChart",(function(){return ve}));n(34);var r=n(5),a=n.n(r),o=n(17),i=n.n(o),s=n(64),l=n.n(s),c=n(28),u=n.n(c),d=n(61),p=n.n(d),f=n(42),h=n.n(f),g=n(102),b=n.n(g),m=n(16),v=n.n(m),y=n(72),O=n(7),C=n(418),x=n(40),w=n(136),_=n(987),j=n(71),S=n(318),E=n(129),T=n(66),D=n(403);const k="CHART_UPDATE_STARTED";function M(e,t,n){return{type:k,queryController:e,latestQueryFormData:t,key:n}}const R="CHART_UPDATE_SUCCEEDED";function P(e,t){return{type:R,queriesResponse:e,key:t}}const A="CHART_UPDATE_STOPPED";function N(e){return{type:A,key:e}}const I="CHART_UPDATE_FAILED";function F(e,t){return{type:I,queriesResponse:e,key:t}}const L="CHART_UPDATE_QUEUED";function B(e,t){return{type:L,asyncJobMeta:e,key:t}}const U="CHART_RENDERING_FAILED";function H(e,t,n){return{type:U,error:e,key:t,stackTrace:n}}const V="CHART_RENDERING_SUCCEEDED";function q(e){return{type:V,key:e}}const $="REMOVE_CHART";function G(e){return{type:$,key:e}}const z="ANNOTATION_QUERY_SUCCESS";function W(e,t,n){return{type:z,annotation:e,queryResponse:t,key:n}}const Y="ANNOTATION_QUERY_STARTED";function X(e,t,n){return{type:Y,annotation:e,queryController:t,key:n}}const Q="ANNOTATION_QUERY_FAILED";function K(e,t,n){return{type:Q,annotation:e,queryResponse:t,key:n}}const Z="DYNAMIC_PLUGIN_CONTROLS_READY",J=()=>(e,t)=>{const n=t(),r=Object(C.b)(n.explore,n.explore.form_data);e({type:Z,key:r.slice_id.value,controlsState:r})};async function ee({formData:e,resultFormat:t="json",resultType:n="full",force:r=!1,method:a="POST",requestParams:o={}}){let i={...o};return D.a&&(i={...i,mode:"cors",credentials:"include"}),Object(w.m)(e)?(async(e,t,n,r,a="POST",o={})=>{const i=Object(w.i)({resultFormat:t,resultType:n}),s=D.a&&(null==o?void 0:o.dashboard_id),l=Object(w.h)({formData:e,endpointType:i,force:r,allowDomainSharding:s,method:a,requestParams:o.dashboard_id?{dashboard_id:o.dashboard_id}:{}}),c={...o,url:l,postPayload:{form_data:e}};return(Object(x.c)(x.a.CLIENT_CACHE)?y.a.get:y.a.post)(c).then(({json:e})=>({result:[e]}))})(e,t,n,r,a,i):(async(e,t,n,r,a)=>{const o=Object(w.a)({formData:e,resultType:n,resultFormat:t,force:r}),{slice_id:i}=e,{dashboard_id:s}=a,l={};void 0!==i&&(l.form_data=`{"slice_id":${i}}`),void 0!==s&&(l.dashboard_id=s),!1!==r&&(l.force=r);const c=D.a&&(null==a?void 0:a.dashboard_id),u=Object(w.e)({path:"/api/v1/chart/data",qs:l,allowDomainSharding:c}).toString(),d={...a,url:u,headers:{"Content-Type":"application/json"},body:b()(o)};return y.a.post(d).then(({json:e})=>e)})(e,t,n,r,i)}function te(e,t=60,n=null,r,a=!1){return function(o,i){var s;const c=r||h()(i().charts)[0],d={...n||i().charts[c].latestQueryFormData};if(!Object(_.f)(e.sourceType))return p.a.resolve();const f=d.time_grain_sqla||d.granularity;d.time_grain_sqla=f,d.granularity=f;const g=h()(e.overrides);(u()(g).call(g,"since")||u()(g).call(g,"until"))&&(e.overrides={...e.overrides,time_range:null});const b=l()(s=h()(e.overrides)).call(s,(t,n)=>({...t,[n]:e.overrides[n]||d[n]}),{});if(!a&&d){const e=d.extra_filters&&d.extra_filters.length>0;b.extra_filters=e?d.extra_filters:void 0}const m=e.sourceType===_.a.NATIVE,v=Object(w.d)(e.value,b,m),O=new AbortController,{signal:C}=O;return o(X(e,O,c)),y.a.get({url:v,signal:C,timeout:1e3*t}).then(({json:t})=>o(W(e,t,c))).catch(t=>Object(T.a)(t).then(t=>{var n;"timeout"===t.statusText?o(K(e,{error:"Query Timeout"},c)):u()(n=(t.error||"").toLowerCase()).call(n,"no data")?o(W(e,t,c)):"abort"!==t.statusText&&o(K(e,t,c))}))}}const ne="TRIGGER_QUERY";function re(e=!0,t){return{type:ne,value:e,key:t}}const ae="RENDER_TRIGGERED";function oe(e,t){return{type:ae,value:e,key:t}}const ie="UPDATE_QUERY_FORM_DATA";function se(e,t){return{type:ie,value:e,key:t}}const le="UPDATE_CHART_ID";function ce(e,t=0){return{type:le,newId:e,key:t}}const ue="ADD_CHART";function de(e,t){return{type:ue,chart:e,key:t}}function pe(e,t=!1,n=60,r,o,s){return async l=>{const c=E.q.getTimestamp(),u=new AbortController,d={signal:u.signal,timeout:1e3*n};s&&(d.dashboard_id=s);const f=ee({formData:e,resultFormat:"json",resultType:"full",force:t,method:o,requestParams:d});l(M(u,e,r));const h=f.then(n=>{const a=n.result;if(Object(x.c)(x.a.GLOBAL_ASYNC_QUERIES)){const e="result"in n?n.result[0]:n;return l(B(e,r))}return i()(a).call(a,n=>l(Object(S.logEvent)(E.h,{slice_id:r,applied_filters:n.applied_filters,is_cached:n.is_cached,force_refresh:t,row_count:n.rowcount,datasource:e.datasource,start_offset:c,ts:(new Date).getTime(),duration:E.q.getTimestamp()-c,has_extra_filters:e.extra_filters&&e.extra_filters.length>0,viz_type:e.viz_type,data_age:n.is_cached?v()(new Date).diff(v.a.utc(n.cached_dttm)):null}))),l(P(a,r))}).catch(t=>{const n=(t,n)=>{l(Object(S.logEvent)(E.h,{slice_id:r,has_err:!0,is_cached:n,error_details:t,datasource:e.datasource,start_offset:c,ts:(new Date).getTime(),duration:E.q.getTimestamp()-c}))};return"AbortError"===t.name?(n("abort"),l(N(r))):Object(T.a)(t).then(e=>("timeout"===t.statusText?n("timeout"):n(e.error,e.is_cached),l(F([e],r))))}),g=Object(w.m)(e)&&e.annotation_layers||[],b=s>0;return p.a.all([h,l(re(!1,r)),l(se(e,r)),...a()(g).call(g,t=>l(te(t,n,e,r,b)))])}}const fe="GET_SAVED_CHART";function he(e,t=!1,n=60,r,a){return pe(e,t,n,r,"GET",a)}const ge="POST_CHART_FORM_DATA";function be(e,t=!1,n=60,r,a){return pe(e,t,n,r,"POST",a)}function me(e){return t=>{ee({formData:e,resultFormat:"json",resultType:"query"}).then(({result:t})=>{const n={datasourceKey:e.datasource,sql:t[0].query};Object(w.l)("/superset/sqllab",n)}).catch(()=>t(Object(j.c)(Object(O.e)("An error occurred while loading the SQL"))))}}function ve(e,t,n){return(r,a)=>{const o=(a().charts||{})[e],i=a().dashboardInfo.common.conf.SUPERSET_WEBSERVER_TIMEOUT;o.latestQueryFormData&&0!==h()(o.latestQueryFormData).length&&r(be(o.latestQueryFormData,t,i,o.id,n))}}},1211:function(e,t,n){var r;!function(a){var o=/^\s+/,i=/\s+$/,s=0,l=a.round,c=a.min,u=a.max,d=a.random;function p(e,t){if(t=t||{},(e=e||"")instanceof p)return e;if(!(this instanceof p))return new p(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,l=null,d=!1,p=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(i,"").toLowerCase();var t,n=!1;if(k[e])e=k[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=q.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=q.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=q.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=q.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=q.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=q.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=q.hex8.exec(e))return{r:N(t[1]),g:N(t[2]),b:N(t[3]),a:B(t[4]),format:n?"name":"hex8"};if(t=q.hex6.exec(e))return{r:N(t[1]),g:N(t[2]),b:N(t[3]),format:n?"name":"hex"};if(t=q.hex4.exec(e))return{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),a:B(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=q.hex3.exec(e))return{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&($(e.r)&&$(e.g)&&$(e.b)?(f=e.r,h=e.g,g=e.b,t={r:255*P(f,255),g:255*P(h,255),b:255*P(g,255)},d=!0,p="%"===String(e.r).substr(-1)?"prgb":"rgb"):$(e.h)&&$(e.s)&&$(e.v)?(r=F(e.s),s=F(e.v),t=function(e,t,n){e=6*P(e,360),t=P(t,100),n=P(n,100);var r=a.floor(e),o=e-r,i=n*(1-t),s=n*(1-o*t),l=n*(1-(1-o)*t),c=r%6;return{r:255*[n,s,i,i,l,n][c],g:255*[l,n,n,s,i,i][c],b:255*[i,i,l,n,n,s][c]}}(e.h,r,s),d=!0,p="hsv"):$(e.h)&&$(e.s)&&$(e.l)&&(r=F(e.s),l=F(e.l),t=function(e,t,n){var r,a,o;function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=P(e,360),t=P(t,100),n=P(n,100),0===t)r=a=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=i(l,s,e+1/3),a=i(l,s,e),o=i(l,s,e-1/3)}return{r:255*r,g:255*a,b:255*o}}(e.h,r,l),d=!0,p="hsl"),e.hasOwnProperty("a")&&(n=e.a));var f,h,g;return n=R(n),{ok:d,format:e.format||p,r:c(255,u(t.r,0)),g:c(255,u(t.g,0)),b:c(255,u(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function f(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var r,a,o=u(e,t,n),i=c(e,t,n),s=(o+i)/2;if(o==i)r=a=0;else{var l=o-i;switch(a=s>.5?l/(2-o-i):l/(o+i),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:a,l:s}}function h(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var r,a,o=u(e,t,n),i=c(e,t,n),s=o,l=o-i;if(a=0===o?0:l/o,o==i)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:a,v:s}}function g(e,t,n,r){var a=[I(l(e).toString(16)),I(l(t).toString(16)),I(l(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function b(e,t,n,r){return[I(L(r)),I(l(e).toString(16)),I(l(t).toString(16)),I(l(n).toString(16))].join("")}function m(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.s-=t/100,n.s=A(n.s),p(n)}function v(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.s+=t/100,n.s=A(n.s),p(n)}function y(e){return p(e).desaturate(100)}function O(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.l+=t/100,n.l=A(n.l),p(n)}function C(e,t){t=0===t?0:t||10;var n=p(e).toRgb();return n.r=u(0,c(255,n.r-l(-t/100*255))),n.g=u(0,c(255,n.g-l(-t/100*255))),n.b=u(0,c(255,n.b-l(-t/100*255))),p(n)}function x(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.l-=t/100,n.l=A(n.l),p(n)}function w(e,t){var n=p(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,p(n)}function _(e){var t=p(e).toHsl();return t.h=(t.h+180)%360,p(t)}function j(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+120)%360,s:t.s,l:t.l}),p({h:(n+240)%360,s:t.s,l:t.l})]}function S(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+90)%360,s:t.s,l:t.l}),p({h:(n+180)%360,s:t.s,l:t.l}),p({h:(n+270)%360,s:t.s,l:t.l})]}function E(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+72)%360,s:t.s,l:t.l}),p({h:(n+216)%360,s:t.s,l:t.l})]}function T(e,t,n){t=t||6,n=n||30;var r=p(e).toHsl(),a=360/n,o=[p(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,o.push(p(r));return o}function D(e,t){t=t||6;for(var n=p(e).toHsv(),r=n.h,a=n.s,o=n.v,i=[],s=1/t;t--;)i.push(p({h:r,s:a,v:o})),o=(o+s)%1;return i}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:a.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:a.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:a.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=R(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=f(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,a){var o=[I(l(e).toString(16)),I(l(t).toString(16)),I(l(n).toString(16)),I(L(r))];if(a&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*P(this._r,255))+"%",g:l(100*P(this._g,255))+"%",b:l(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*P(this._r,255))+"%, "+l(100*P(this._g,255))+"%, "+l(100*P(this._b,255))+"%)":"rgba("+l(100*P(this._r,255))+"%, "+l(100*P(this._g,255))+"%, "+l(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(M[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+b(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var a=p(e);n="#"+b(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return p(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(O,arguments)},brighten:function(){return this._applyModification(C,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(D,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(j,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},p.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:F(e[r]));e=n}return p(e,t)},p.equals=function(e,t){return!(!e||!t)&&p(e).toRgbString()==p(t).toRgbString()},p.random=function(){return p.fromRatio({r:d(),g:d(),b:d()})},p.mix=function(e,t,n){n=0===n?0:n||50;var r=p(e).toRgb(),a=p(t).toRgb(),o=n/100;return p({r:(a.r-r.r)*o+r.r,g:(a.g-r.g)*o+r.g,b:(a.b-r.b)*o+r.b,a:(a.a-r.a)*o+r.a})},p.readability=function(e,t){var n=p(e),r=p(t);return(a.max(n.getLuminance(),r.getLuminance())+.05)/(a.min(n.getLuminance(),r.getLuminance())+.05)},p.isReadable=function(e,t,n){var r,a,o=p.readability(e,t);switch(a=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":a=o>=4.5;break;case"AAlarge":a=o>=3;break;case"AAAsmall":a=o>=7}return a},p.mostReadable=function(e,t,n){var r,a,o,i,s=null,l=0;a=(n=n||{}).includeFallbackColors,o=n.level,i=n.size;for(var c=0;c<t.length;c++)(r=p.readability(e,t[c]))>l&&(l=r,s=p(t[c]));return p.isReadable(e,s,{level:o,size:i})||!a?s:(n.includeFallbackColors=!1,p.mostReadable(e,["#fff","#000"],n))};var k=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M=p.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(k);function R(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function P(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),a.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function A(e){return c(1,u(0,e))}function N(e){return parseInt(e,16)}function I(e){return 1==e.length?"0"+e:""+e}function F(e){return e<=1&&(e=100*e+"%"),e}function L(e){return a.round(255*parseFloat(e)).toString(16)}function B(e){return N(e)/255}var U,H,V,q=(H="[\\s|\\(]+("+(U="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",V="[\\s|\\(]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",{CSS_UNIT:new RegExp(U),rgb:new RegExp("rgb"+H),rgba:new RegExp("rgba"+V),hsl:new RegExp("hsl"+H),hsla:new RegExp("hsla"+V),hsv:new RegExp("hsv"+H),hsva:new RegExp("hsva"+V),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function $(e){return!!q.CSS_UNIT.exec(e)}e.exports?e.exports=p:void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}(Math)},127:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return y}));var r=n(76),a=n.n(r),o=n(28),i=n.n(o),s=(n(0),n(62)),l=n(1),c=n(10),u=n(31);const d=["fullWidth","allowOverflow"],p=Object(s.c)(c.y,{shouldForwardProp:e=>!i()(d).call(d,e)})`
  overflow: ${({allowOverflow:e})=>e?"visible":"hidden"};

  .ant-tabs-content-holder {
    overflow: ${({allowOverflow:e})=>e?"visible":"auto"};
  }

  .ant-tabs-tab {
    flex: 1 1 auto;

    &.ant-tabs-tab-active .ant-tabs-tab-btn {
      color: inherit;
    }

    &:hover {
      .anchor-link-container {
        cursor: pointer;

        .fa.fa-link {
          visibility: visible;
        }
      }
    }

    .short-link-trigger.btn {
      padding: 0 ${({theme:e})=>e.gridUnit}px;

      & > .fa.fa-link {
        top: 0;
      }
    }
  }

  ${({fullWidth:e})=>e&&l.e`
      .ant-tabs-nav-list {
        width: 100%;
      }

      .ant-tabs-tab {
        width: 0;
      }
    `};

  .ant-tabs-tab-btn {
    display: flex;
    flex: 1 1 auto;
    align-items: center;
    justify-content: center;
    font-size: ${({theme:e})=>e.typography.sizes.s}px;
    text-align: center;
    text-transform: uppercase;
    user-select: none;

    .required {
      margin-left: ${({theme:e})=>e.gridUnit/2}px;
      color: ${({theme:e})=>e.colors.error.base};
    }
  }

  .ant-tabs-ink-bar {
    background: ${({theme:e})=>e.colors.secondary.base};
  }
`,f=Object(s.c)(c.y.TabPane)``,h=a()(p,{TabPane:f});h.defaultProps={fullWidth:!0};const g=Object(s.c)(p)`
  .ant-tabs-content-holder {
    background: white;
  }

  & > .ant-tabs-nav {
    margin-bottom: 0;
  }

  .ant-tabs-tab-remove {
    padding-top: 0;
    padding-bottom: 0;
    height: ${({theme:e})=>6*e.gridUnit}px;
  }

  ${({fullWidth:e})=>e&&l.e`
      .ant-tabs-nav-list {
        width: 100%;
      }
    `}
`,b=a()(g,{TabPane:f});b.defaultProps={type:"editable-card",fullWidth:!1},b.TabPane.defaultProps={closeIcon:Object(l.f)(u.a,{role:"button",tabIndex:0,cursor:"pointer",name:"cancel-x"})};const m=Object(s.c)(b)`
  &.ant-tabs-card > .ant-tabs-nav .ant-tabs-tab {
    margin: 0 ${({theme:e})=>4*e.gridUnit}px;
    padding: ${({theme:e})=>`${3*e.gridUnit}px ${e.gridUnit}px`};
    background: transparent;
    border: none;
  }

  &.ant-tabs-card > .ant-tabs-nav .ant-tabs-ink-bar {
    visibility: visible;
  }

  .ant-tabs-tab-btn {
    font-size: ${({theme:e})=>e.typography.sizes.m}px;
  }

  .ant-tabs-tab-remove {
    margin-left: 0;
    padding-right: 0;
  }

  .ant-tabs-nav-add {
    min-width: unset !important;
    background: transparent !important;
    border: none !important;
  }
`,v=a()(m,{TabPane:f});var y=h},129:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"m",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"n",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"o",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"l",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return v})),n.d(t,"k",(function(){return y})),n.d(t,"p",(function(){return O})),n.d(t,"q",(function(){return C}));var r=n(87),a=n.n(r);const o="load_chart",i="render_chart",s="hide_browser_tab",l="mount_dashboard",c="mount_explorer",u="select_dashboard_tab",d="force_refresh_chart",p="change_explore_controls",f="toggle_edit_dashboard",h="force_refresh_dashboard",g="periodic_render_dashboard",b="explore_dashboard_chart",m="export_csv_dashboard_chart",v="change_dashboard_filter",y="omnibar_triggered",O=new a.a([o,i,s]),C=(new a.a([l,u,b,d,m,v,p,f,h,g,y,c]),{getTimestamp:()=>Math.round(window.performance.now())})},1319:function(e,t,n){},1333:function(e,t,n){},1334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(0)),o=l(n(91)),i=n(163),s=l(n(1352));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.AlphaPicker=function(e){var t=e.rgb,n=e.hsl,s=e.width,l=e.height,c=e.onChange,u=e.direction,d=e.style,p=e.renderers,f=e.pointer,h=e.className,g=void 0===h?"":h,b=(0,o.default)({default:{picker:{position:"relative",width:s,height:l},alpha:{radius:"2px",style:d}}});return a.default.createElement("div",{style:b.picker,className:"alpha-picker "+g},a.default.createElement(i.Alpha,r({},b.alpha,{rgb:t,hsl:n,pointer:f,renderers:p,onChange:c,direction:u})))};c.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},t.default=(0,i.ColorWrap)(c)},1335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=s(n(1247)),a=s(n(1010)),o=s(n(350)),i=s(n(413));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,i.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,o.default)(t)?(0,a.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=l},1336:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=i(n(1010)),a=i(n(1726)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function i(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,a.default)(e.default)||{};return t.map((function(t){var a=e[t];return a&&(0,r.default)(a,(function(e,t){n[t]||(n[t]={}),n[t]=o({},n[t],a[t])})),t})),n};t.default=s},1337:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,a=n(1010),o=(r=a)&&r.__esModule?r:{default:r},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,o.default)(e,(function(e,n){var r={};(0,o.default)(e,(function(e,t){var n=s[t];n?r=i({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=l},1338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,c;s(this,r);for(var u=arguments.length,d=Array(u),p=0;p<u;p++)d[p]=arguments[p];return o=c=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(d))),c.state={hover:!1},c.handleMouseOver=function(){return c.setState({hover:!0})},c.handleMouseOut=function(){return c.setState({hover:!1})},c.render=function(){return i.default.createElement(t,{onMouseOver:c.handleMouseOver,onMouseOut:c.handleMouseOut},i.default.createElement(e,a({},c.props,c.state)))},l(c,o)}return c(r,n),r}(i.default.Component)};t.default=u},1339:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,c;s(this,r);for(var u=arguments.length,d=Array(u),p=0;p<u;p++)d[p]=arguments[p];return o=c=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(d))),c.state={active:!1},c.handleMouseDown=function(){return c.setState({active:!0})},c.handleMouseUp=function(){return c.setState({active:!1})},c.render=function(){return i.default.createElement(t,{onMouseDown:c.handleMouseDown,onMouseUp:c.handleMouseUp},i.default.createElement(e,a({},c.props,c.state)))},l(c,o)}return c(r,n),r}(i.default.Component)};t.default=u},1340:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2==0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},1341:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=u(o),s=u(n(91)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1342)),c=u(n(1064));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=t.Alpha=function(e){function t(){var e,n,r;d(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){var n=l.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,s.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:r({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return i.default.createElement("div",{style:n.alpha},i.default.createElement("div",{style:n.checkboard},i.default.createElement(c.default,{renderers:this.props.renderers})),i.default.createElement("div",{style:n.gradient}),i.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("div",{style:n.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:n.slider}))))}}]),t}(o.PureComponent||o.Component);t.default=f},1342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var a=r.clientWidth,o=r.clientHeight,i="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=i-(r.getBoundingClientRect().left+window.pageXOffset),c=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var u=void 0;if(u=c<0?0:c>o?1:Math.round(100*c/o)/100,n.hsl.a!==u)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:u,source:"rgb"}}else{var d=void 0;if(d=l<0?0:l>a?1:Math.round(100*l/a)/100,n.a!==d)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:d,source:"rgb"}}return null}},1343:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},a=t.render=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var a=r?new r:document.createElement("canvas");a.width=2*n,a.height=2*n;var o=a.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,a.width,a.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),a.toDataURL()):null};t.get=function(e,t,n,o){var i=e+"-"+t+"-"+n+(o?"-server":""),s=a(e,t,n,o);return r[i]?r[i]:(r[i]=s,s)}},1344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=s(a),i=s(n(91));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,e.target.value),e):n.props.onChange&&n.props.onChange(e.target.value,e),n.setState({value:e.target.value})},n.handleKeyDown=function(e){var t=String(e.target.value),r=t.indexOf("%")>-1,a=Number(t.replace(/%/g,""));if(!isNaN(a)){var o=n.props.arrowOffset||1;38===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,a+o),e):n.props.onChange&&n.props.onChange(a+o,e),r?n.setState({value:a+o+"%"}):n.setState({value:a+o})),40===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,a-o),e):n.props.onChange&&n.props.onChange(a-o,e),r?n.setState({value:a-o+"%"}):n.setState({value:a-o}))}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(l({},n.props.label,t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=(0,i.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return o.default.createElement("div",{style:t.wrap},o.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?o.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(a.PureComponent||a.Component);t.default=c},1345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=l(a),i=l(n(91)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1346));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.Hue=function(e){function t(){var e,n,r;c(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){var n=s.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,i.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return o.default.createElement("div",{style:r.hue},o.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),o.default.createElement("div",{style:r.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:r.slider}))))}}]),t}(a.PureComponent||a.Component);t.default=d},1346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var a=r.clientWidth,o=r.clientHeight,i="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=i-(r.getBoundingClientRect().left+window.pageXOffset),c=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var u=void 0;if(c<0)u=359;else if(c>o)u=0;else{u=360*(-100*c/o+100)/100}if(n.hsl.h!==u)return{h:u,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}else{var d=void 0;if(l<0)d=0;else if(l>a)d=359;else{d=360*(100*l/a)/100}if(n.hsl.h!==d)return{h:d,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}return null}},1347:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var r=i(n(0)),a=i(n(2)),o=i(n(91));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.Raised=function(e){var t=e.zDepth,n=e.radius,a=e.background,i=e.children,s=(0,o.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:a}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},{"zDepth-1":1===t});return r.default.createElement("div",{style:s.wrap},r.default.createElement("div",{style:s.bg}),r.default.createElement("div",{style:s.content},i))};s.propTypes={background:a.default.string,zDepth:a.default.oneOf([0,1,2,3,4,5]),radius:a.default.number},s.defaultProps={background:"#fff",zDepth:1,radius:2},t.default=s},1348:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=c(a),i=c(n(91)),s=c(n(879)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1349));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e,t){n.props.onChange&&n.throttle(n.props.onChange,l.calculateChange(e,t,n.props,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,s.default)((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,a=t.black,s=t.pointer,l=t.circle,c=(0,i.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:a,pointer:s,circle:l}},{custom:!!this.props.style});return o.default.createElement("div",{style:c.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),o.default.createElement("div",{style:c.white,className:"saturation-white"},o.default.createElement("div",{style:c.black,className:"saturation-black"}),o.default.createElement("div",{style:c.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:c.circle}))))}}]),t}(a.PureComponent||a.Component);t.default=u},1349:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var a=r.getBoundingClientRect(),o=a.width,i=a.height,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=s-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o?c=o:u<0?u=0:u>i&&(u=i);var d=100*c/o,p=-100*u/i+100;return{h:n.hsl.h,s:d,v:p,a:n.hsl.a,source:"rgb"}}},1350:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(0)),o=l(n(91)),i=n(1351),s=n(163);function l(e){return e&&e.__esModule?e:{default:e}}var c=t.Swatch=function(e){var t=e.color,n=e.style,i=e.onClick,l=void 0===i?function(){}:i,c=e.onHover,u=e.title,d=void 0===u?t:u,p=e.children,f=e.focus,h=e.focusStyle,g=void 0===h?{}:h,b="transparent"===t,m=(0,o.default)({default:{swatch:r({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,f?g:{})}}),v={};return c&&(v.onMouseOver=function(e){return c(t,e)}),a.default.createElement("div",r({style:m.swatch,onClick:function(e){return l(t,e)},title:d,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&l(t,e)}},v),p,b&&a.default.createElement(s.Checkboard,{borderRadius:m.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,i.handleFocus)(c)},1351:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(r=i)&&r.__esModule?r:{default:r};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;l(this,r);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=n=c(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},c(n,t)}return u(r,n),o(r,[{key:"render",value:function(){return s.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},s.default.createElement(e,a({},this.props,this.state)))}}]),r}(s.default.Component)}},1352:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPointer=void 0;var r=o(n(0)),a=o(n(91));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.AlphaPointer=function(e){var t=e.direction,n=(0,a.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=i},1353:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var r=c(n(0)),a=c(n(2)),o=c(n(91)),i=c(n(334)),s=n(163),l=c(n(1354));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Block=function(e){var t=e.onChange,n=e.onSwatchHover,a=e.hex,c=e.colors,u=e.width,d=e.triangle,p=e.className,f=void 0===p?"":p,h="transparent"===a,g=function(e,n){i.default.isValidHex(e)&&t({hex:e,source:"hex"},n)},b=(0,o.default)({default:{card:{width:u,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:a,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:i.default.getContrastingColor(a),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+a+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},{"hide-triangle":"hide"===d});return r.default.createElement("div",{style:b.card,className:"block-picker "+f},r.default.createElement("div",{style:b.triangle}),r.default.createElement("div",{style:b.head},h&&r.default.createElement(s.Checkboard,{borderRadius:"6px 6px 0 0"}),r.default.createElement("div",{style:b.label},a)),r.default.createElement("div",{style:b.body},r.default.createElement(l.default,{colors:c,onClick:g,onSwatchHover:n}),r.default.createElement(s.EditableInput,{style:{input:b.input},value:a,onChange:g})))};u.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),colors:a.default.arrayOf(a.default.string),triangle:a.default.oneOf(["top","hide"])},u.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top"},t.default=(0,s.ColorWrap)(u)},1354:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSwatches=void 0;var r=s(n(0)),a=s(n(91)),o=s(n(413)),i=n(163);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.BlockSwatches=function(e){var t=e.colors,n=e.onClick,s=e.onSwatchHover,l=(0,a.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return r.default.createElement("div",{style:l.swatches},(0,o.default)(t,(function(e){return r.default.createElement(i.Swatch,{key:e,color:e,style:l.swatch,onClick:n,onHover:s,focusStyle:{boxShadow:"0 0 4px "+e}})})),r.default.createElement("div",{style:l.clear}))};t.default=l},1355:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var r=u(n(0)),a=u(n(2)),o=u(n(91)),i=u(n(413)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1066)),l=n(163),c=u(n(1356));function u(e){return e&&e.__esModule?e:{default:e}}var d=t.Circle=function(e){var t=e.width,n=e.onChange,a=e.onSwatchHover,s=e.colors,l=e.hex,u=e.circleSize,d=e.circleSpacing,p=e.className,f=void 0===p?"":p,h=(0,o.default)({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-d,marginBottom:-d}}}),g=function(e,t){return n({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:h.card,className:"circle-picker "+f},(0,i.default)(s,(function(e){return r.default.createElement(c.default,{key:e,color:e,onClick:g,onSwatchHover:a,active:l===e.toLowerCase(),circleSize:u,circleSpacing:d})})))};d.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),circleSize:a.default.number,circleSpacing:a.default.number},d.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[s.red[500],s.pink[500],s.purple[500],s.deepPurple[500],s.indigo[500],s.blue[500],s.lightBlue[500],s.cyan[500],s.teal[500],s.green[500],s.lightGreen[500],s.lime[500],s.yellow[500],s.amber[500],s.orange[500],s.deepOrange[500],s.brown[500],s.blueGrey[500]]},t.default=(0,l.ColorWrap)(d)},1356:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircleSwatch=void 0;var r=s(n(0)),a=n(91),o=s(a),i=n(163);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CircleSwatch=function(e){var t=e.color,n=e.onClick,a=e.onSwatchHover,s=e.hover,l=e.active,c=e.circleSize,u=e.circleSpacing,d=(0,o.default)({default:{swatch:{width:c,height:c,marginRight:u,marginBottom:u,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+c/2+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:s,active:l});return r.default.createElement("div",{style:d.swatch},r.default.createElement(i.Swatch,{style:d.Swatch,color:t,onClick:n,onHover:a,focusStyle:{boxShadow:d.Swatch.boxShadow+", 0 0 5px "+t}}))};l.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,a.handleHover)(l)},1357:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var r=u(n(0)),a=u(n(2)),o=u(n(91)),i=n(163),s=u(n(1358)),l=u(n(1359)),c=u(n(1360));function u(e){return e&&e.__esModule?e:{default:e}}var d=t.Chrome=function(e){var t=e.onChange,n=e.disableAlpha,a=e.rgb,u=e.hsl,d=e.hsv,p=e.hex,f=e.renderers,h=e.className,g=void 0===h?"":h,b=(0,o.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+a.r+", "+a.g+", "+a.b+", "+a.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},{disableAlpha:n});return r.default.createElement("div",{style:b.picker,className:"chrome-picker "+g},r.default.createElement("div",{style:b.saturation},r.default.createElement(i.Saturation,{style:b.Saturation,hsl:u,hsv:d,pointer:c.default,onChange:t})),r.default.createElement("div",{style:b.body},r.default.createElement("div",{style:b.controls,className:"flexbox-fix"},r.default.createElement("div",{style:b.color},r.default.createElement("div",{style:b.swatch},r.default.createElement("div",{style:b.active}),r.default.createElement(i.Checkboard,{renderers:f}))),r.default.createElement("div",{style:b.toggles},r.default.createElement("div",{style:b.hue},r.default.createElement(i.Hue,{style:b.Hue,hsl:u,pointer:l.default,onChange:t})),r.default.createElement("div",{style:b.alpha},r.default.createElement(i.Alpha,{style:b.Alpha,rgb:a,hsl:u,pointer:l.default,renderers:f,onChange:t})))),r.default.createElement(s.default,{rgb:a,hsl:u,hex:p,onChange:t,disableAlpha:n})))};d.propTypes={disableAlpha:a.default.bool},d.defaultProps={disableAlpha:!1},t.default=(0,i.ColorWrap)(d)},1358:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),o=l(n(91)),i=l(n(334)),s=n(163);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.ChromeFields=function(e){function t(){var e,n,r;c(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={view:""},r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?i.default.isValidHex(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&r.props.onChange({h:e.h||r.props.hsl.h,s:Number(e.s&&e.s||r.props.hsl.s),l:Number(e.l&&e.l||r.props.hsl.l),source:"hsl"},t)},r.showHighlight=function(e){e.target.style.background="#eee"},r.hideHighlight=function(e){e.target.style.background="transparent"},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(e){1!==e.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function(){var e=this,t=(0,o.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=a.default.createElement("div",{style:t.fields,className:"flexbox-fix"},a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=a.default.createElement("div",{style:t.fields,className:"flexbox-fix"},a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),a.default.createElement("div",{style:t.alpha},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=a.default.createElement("div",{style:t.fields,className:"flexbox-fix"},a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),a.default.createElement("div",{style:t.alpha},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),a.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,a.default.createElement("div",{style:t.toggle},a.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},a.default.createElement("svg",{style:t.svg,viewBox:"0 0 24 24",onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight},a.default.createElement("path",{ref:function(t){return e.iconUp=t},fill:"#333",d:"M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}),a.default.createElement("path",{ref:function(t){return e.iconDown=t},fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15Z"})))))}}]),t}(a.default.Component);t.default=d},1359:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var r=o(n(0)),a=o(n(91));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.ChromePointer=function(){var e=(0,a.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=i},136:function(e,t,n){"use strict";n.d(t,"f",(function(){return T})),n.d(t,"d",(function(){return M})),n.d(t,"k",(function(){return R})),n.d(t,"g",(function(){return P})),n.d(t,"e",(function(){return A})),n.d(t,"h",(function(){return N})),n.d(t,"m",(function(){return I})),n.d(t,"a",(function(){return F})),n.d(t,"i",(function(){return L})),n.d(t,"l",(function(){return B})),n.d(t,"c",(function(){return U})),n.d(t,"b",(function(){return H})),n.d(t,"n",(function(){return V})),n.d(t,"j",(function(){return q}));n(254),n(34);var r=n(5),a=n.n(r),o=n(245),i=n.n(o),s=n(56),l=n.n(s),c=n(149),u=n.n(c),d=n(45),p=n.n(d),f=n(42),h=n.n(f),g=n(17),b=n.n(g),m=n(28),v=n.n(m),y=n(0),O=n(346),C=n.n(O),x=n(345),w=n(399),_=n(986),j=n(403),S=n(241),E=n(53);function T(e){const{slice:t}=e;return t?t.slice_id:0}let D=0;function k(e=!1){let t=0;return e&&(t=D%j.b.length,D+=1,0===t&&(t+=1,D+=1)),j.b[t]}function M(e,t,n){if(null==e)return null;const r=n?"annotation_json":"slice_json";return C()(window.location.search).pathname(`/superset/${r}/${e}`).search({form_data:Object(S.a)(t,(e,t)=>null===t?void 0:t)}).toString()}function R(e="base"){var t;return v()(t=["full","json","csv","query","results","samples"]).call(t,e)?"/superset/explore_json/":"/superset/explore/"}function P(e,t,n=!0,r={}){var a;if(!e.datasource)return null;const o=new C.a("/"),i=R(t),s=o.search(!0);b()(a=h()(r)).call(a,e=>{s[e]=r[e]}),s.form_data=Object(S.a)(e),"standalone"===t&&(s.standalone="true");const l=o.directory(i).search(s).toString();if(!n&&l.length>8e3){return P({datasource:e.datasource,viz_type:e.viz_type},t,!1,{URL_IS_TOO_LONG_TO_SHARE:null})}return l}function A({path:e,qs:t,allowDomainSharding:n=!1}){var r;let a=new C.a({protocol:p()(r=window.location.protocol).call(r,0,-1),hostname:k(n),port:window.location.port?window.location.port:"",path:e});return t&&(a=a.search(t)),a}function N({formData:e,endpointType:t="base",force:n=!1,curUrl:r=null,requestParams:a={},allowDomainSharding:o=!1,method:i="POST"}){if(!e.datasource)return null;let s=A({path:"/",allowDomainSharding:o});r&&(s=C()(C()(r).search()));const l=R(t),c=s.search(!0),{slice_id:u,extra_filters:d,adhoc_filters:p,viz_type:f}=e;if(u){const e={slice_id:u};"GET"===i&&(e.viz_type=f,d&&d.length&&(e.extra_filters=d),p&&p.length&&(e.adhoc_filters=p)),c.form_data=Object(S.a)(e)}n&&(c.force="true"),"csv"===t&&(c.csv="true"),"standalone"===t&&(c.standalone="true"),"query"===t&&(c.query="true"),"results"===t&&(c.results="true"),"samples"===t&&(c.samples="true");const g=h()(a);return g.length&&b()(g).call(g,e=>{a.hasOwnProperty(e)&&(c[e]=a[e])}),s.search(c).directory(l).toString()}const I=e=>{const t=Object(x.a)().get(e.viz_type);return!!t&&t.useLegacyApi},F=({formData:e,force:t,resultFormat:n,resultType:r})=>{var a;return(null!=(a=Object(w.a)().get(e.viz_type))?a:e=>Object(_.a)(e,e=>[{...e}]))({...e,force:t,result_format:n,result_type:r})},L=({resultType:e,resultFormat:t})=>"csv"===t?t:e;function B(e,t,n="_blank"){if(!e)return;const r=document.createElement("form");r.action=e,r.method="POST",r.target=n;const a=document.createElement("input");a.type="hidden",a.name="csrf_token",a.value=(document.getElementById("csrf_token")||{}).value,r.appendChild(a);const o=document.createElement("input");o.type="hidden",o.name="form_data",o.value=Object(S.a)(t),r.appendChild(o),document.body.appendChild(r),r.submit(),document.body.removeChild(r)}const U=({formData:e,resultFormat:t="json",resultType:n="full",force:r=!1})=>{let a,o;if(I(e)){a=N({formData:e,endpointType:L({resultFormat:t,resultType:n}),allowDomainSharding:!1}),o=e}else a="/api/v1/chart/data",o=F({formData:e,force:r,resultFormat:t,resultType:n});B(a,o)},H=e=>{B(N({formData:e,endpointType:"base",allowDomainSharding:!1}),e)},V=(e,t,n)=>{const r=Object(y.useCallback)(e,n);Object(y.useEffect)(()=>{const e=u()(()=>{r()},t);return()=>{clearTimeout(e)}},[r,t])},q=(e,t,n)=>{const r=E.i.has(t);let o=null!=e?e:"";if(e&&t){o+=` ${t}`;const e=r&&l()(n)?n[0]:n;let s;s=null==n?[]:l()(n)?n:[n];const c=void 0!==e&&i()(Number(e)),u=c?"'":"",[d,p]=r?["(",")"]:["",""],f=a()(s).call(s,e=>`${u}${c?e.replace("'","''"):e}${u}`);s.length>0&&(o+=` ${d}${f.join(", ")}${p}`)}return o}},1360:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var r=o(n(0)),a=o(n(91));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.ChromePointerCircle=function(){var e=(0,a.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return r.default.createElement("div",{style:e.picker})};t.default=i},1361:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Compact=void 0;var r=d(n(0)),a=d(n(2)),o=d(n(91)),i=d(n(413)),s=d(n(334)),l=n(163),c=d(n(1362)),u=d(n(1363));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.Compact=function(e){var t=e.onChange,n=e.onSwatchHover,a=e.colors,d=e.hex,p=e.rgb,f=e.className,h=void 0===f?"":f,g=(0,o.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}}),b=function(e,n){e.hex?s.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return r.default.createElement(l.Raised,{style:g.Compact},r.default.createElement("div",{style:g.compact,className:"compact-picker "+h},r.default.createElement("div",null,(0,i.default)(a,(function(e){return r.default.createElement(c.default,{key:e,color:e,active:e.toLowerCase()===d,onClick:b,onSwatchHover:n})})),r.default.createElement("div",{style:g.clear})),r.default.createElement(u.default,{hex:d,rgb:p,onChange:b})))};p.propTypes={colors:a.default.arrayOf(a.default.string)},p.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]},t.default=(0,l.ColorWrap)(p)},1362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactColor=void 0;var r=s(n(0)),a=s(n(91)),o=s(n(334)),i=n(163);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CompactColor=function(e){var t=e.color,n=e.onClick,s=void 0===n?function(){}:n,l=e.onSwatchHover,c=e.active,u=(0,a.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:o.default.getContrastingColor(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:c,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(i.Swatch,{style:u.color,color:t,onClick:s,onHover:l,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:u.dot}))};t.default=l},1363:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactFields=void 0;var r=i(n(0)),a=i(n(91)),o=n(163);function i(e){return e&&e.__esModule?e:{default:e}}var s=t.CompactFields=function(e){var t=e.hex,n=e.rgb,i=e.onChange,s=(0,a.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),l=function(e,t){e.r||e.g||e.b?i({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):i({hex:e.hex,source:"hex"},t)};return r.default.createElement("div",{style:s.fields,className:"flexbox-fix"},r.default.createElement("div",{style:s.active}),r.default.createElement(o.EditableInput,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:t,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:l}))};t.default=s},1364:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Github=void 0;var r=c(n(0)),a=c(n(2)),o=c(n(91)),i=c(n(413)),s=n(163),l=c(n(1365));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Github=function(e){var t=e.width,n=e.colors,a=e.onChange,s=e.onSwatchHover,c=e.triangle,u=e.className,d=void 0===u?"":u,p=(0,o.default)({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},{"hide-triangle":"hide"===c,"top-left-triangle":"top-left"===c,"top-right-triangle":"top-right"===c,"bottom-left-triangle":"bottom-left"==c,"bottom-right-triangle":"bottom-right"===c}),f=function(e,t){return a({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:p.card,className:"github-picker "+d},r.default.createElement("div",{style:p.triangleShadow}),r.default.createElement("div",{style:p.triangle}),(0,i.default)(n,(function(e){return r.default.createElement(l.default,{color:e,key:e,onClick:f,onSwatchHover:s})})))};u.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),colors:a.default.arrayOf(a.default.string),triangle:a.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"])},u.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left"},t.default=(0,s.ColorWrap)(u)},1365:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GithubSwatch=void 0;var r=s(n(0)),a=n(91),o=s(a),i=n(163);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.GithubSwatch=function(e){var t=e.hover,n=e.color,a=e.onClick,s=e.onSwatchHover,l={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},c=(0,o.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:l}},{hover:t});return r.default.createElement("div",{style:c.swatch},r.default.createElement(i.Swatch,{color:n,onClick:a,onHover:s,focusStyle:l}))};t.default=(0,a.handleHover)(l)},1366:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HuePicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(0)),o=l(n(91)),i=n(163),s=l(n(1367));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.HuePicker=function(e){var t=e.width,n=e.height,s=e.onChange,l=e.hsl,c=e.direction,u=e.pointer,d=e.className,p=void 0===d?"":d,f=(0,o.default)({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}});return a.default.createElement("div",{style:f.picker,className:"hue-picker "+p},a.default.createElement(i.Hue,r({},f.hue,{hsl:l,pointer:u,onChange:function(e){return s({a:1,h:e.h,l:.5,s:1})},direction:c})))};c.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},t.default=(0,i.ColorWrap)(c)},1367:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=o(n(0)),a=o(n(91));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderPointer=function(e){var t=e.direction,n=(0,a.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=i},1368:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var r=s(n(0)),a=s(n(91)),o=s(n(334)),i=n(163);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.Material=function(e){var t=e.onChange,n=e.hex,s=e.rgb,l=e.className,c=void 0===l?"":l,u=(0,a.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}}),d=function(e,n){e.hex?o.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||s.r,g:e.g||s.g,b:e.b||s.b,source:"rgb"},n)};return r.default.createElement(i.Raised,null,r.default.createElement("div",{style:u.material,className:"material-picker "+c},r.default.createElement(i.EditableInput,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:n,onChange:d}),r.default.createElement("div",{style:u.split,className:"flexbox-fix"},r.default.createElement("div",{style:u.third},r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:s.r,onChange:d})),r.default.createElement("div",{style:u.third},r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:s.g,onChange:d})),r.default.createElement("div",{style:u.third},r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:s.b,onChange:d})))))};t.default=(0,i.ColorWrap)(l)},1369:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Photoshop=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n(0)),o=f(n(2)),i=f(n(91)),s=n(163),l=f(n(1370)),c=f(n(1371)),u=f(n(1372)),d=f(n(1373)),p=f(n(1374));function f(e){return e&&e.__esModule?e:{default:e}}var h=t.Photoshop=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props.className,t=void 0===e?"":e,n=(0,i.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}});return a.default.createElement("div",{style:n.picker,className:"photoshop-picker "+t},a.default.createElement("div",{style:n.head},this.props.header),a.default.createElement("div",{style:n.body,className:"flexbox-fix"},a.default.createElement("div",{style:n.saturation},a.default.createElement(s.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:c.default,onChange:this.props.onChange})),a.default.createElement("div",{style:n.hue},a.default.createElement(s.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:u.default,onChange:this.props.onChange})),a.default.createElement("div",{style:n.controls},a.default.createElement("div",{style:n.top,className:"flexbox-fix"},a.default.createElement("div",{style:n.previews},a.default.createElement(p.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),a.default.createElement("div",{style:n.actions},a.default.createElement(d.default,{label:"OK",onClick:this.props.onAccept,active:!0}),a.default.createElement(d.default,{label:"Cancel",onClick:this.props.onCancel}),a.default.createElement(l.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(a.default.Component);h.propTypes={header:o.default.string},h.defaultProps={header:"Color Picker"},t.default=(0,s.ColorWrap)(h)},1370:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPicker=void 0;var r=s(n(0)),a=s(n(91)),o=s(n(334)),i=n(163);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.PhotoshopPicker=function(e){var t=e.onChange,n=e.rgb,s=e.hsv,l=e.hex,c=(0,a.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),u=function(e,r){e["#"]?o.default.isValidHex(e["#"])&&t({hex:e["#"],source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},r):(e.h||e.s||e.v)&&t({h:e.h||s.h,s:e.s||s.s,v:e.v||s.v,source:"hsv"},r)};return r.default.createElement("div",{style:c.fields},r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"h",value:Math.round(s.h),onChange:u}),r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"s",value:Math.round(100*s.s),onChange:u}),r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"v",value:Math.round(100*s.v),onChange:u}),r.default.createElement("div",{style:c.divider}),r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:n.r,onChange:u}),r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:n.g,onChange:u}),r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:n.b,onChange:u}),r.default.createElement("div",{style:c.divider}),r.default.createElement(i.EditableInput,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"#",value:l.replace("#",""),onChange:u}),r.default.createElement("div",{style:c.fieldSymbols},r.default.createElement("div",{style:c.symbol},"°"),r.default.createElement("div",{style:c.symbol},"%"),r.default.createElement("div",{style:c.symbol},"%")))};t.default=l},1371:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=o(n(0)),a=o(n(91));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPointerCircle=function(e){var t=e.hsl,n=(0,a.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return r.default.createElement("div",{style:n.picker})};t.default=i},1372:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=o(n(0)),a=o(n(91));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPointerCircle=function(){var e=(0,a.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return r.default.createElement("div",{style:e.pointer},r.default.createElement("div",{style:e.left},r.default.createElement("div",{style:e.leftInside})),r.default.createElement("div",{style:e.right},r.default.createElement("div",{style:e.rightInside})))};t.default=i},1373:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopBotton=void 0;var r=o(n(0)),a=o(n(91));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopBotton=function(e){var t=e.onClick,n=e.label,o=e.children,i=e.active,s=(0,a.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return r.default.createElement("div",{style:s.button,onClick:t},n||o)};t.default=i},1374:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPreviews=void 0;var r=o(n(0)),a=o(n(91));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPreviews=function(e){var t=e.rgb,n=e.currentColor,o=(0,a.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return r.default.createElement("div",null,r.default.createElement("div",{style:o.label},"new"),r.default.createElement("div",{style:o.swatches},r.default.createElement("div",{style:o.new}),r.default.createElement("div",{style:o.current})),r.default.createElement("div",{style:o.label},"current"))};t.default=i},1375:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var r=c(n(0)),a=c(n(2)),o=c(n(91)),i=n(163),s=c(n(1376)),l=c(n(1377));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Sketch=function(e){var t=e.width,n=e.rgb,a=e.hex,c=e.hsv,u=e.hsl,d=e.onChange,p=e.onSwatchHover,f=e.disableAlpha,h=e.presetColors,g=e.renderers,b=e.className,m=void 0===b?"":b,v=(0,o.default)({default:{picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},{disableAlpha:f});return r.default.createElement("div",{style:v.picker,className:"sketch-picker "+m},r.default.createElement("div",{style:v.saturation},r.default.createElement(i.Saturation,{style:v.Saturation,hsl:u,hsv:c,onChange:d})),r.default.createElement("div",{style:v.controls,className:"flexbox-fix"},r.default.createElement("div",{style:v.sliders},r.default.createElement("div",{style:v.hue},r.default.createElement(i.Hue,{style:v.Hue,hsl:u,onChange:d})),r.default.createElement("div",{style:v.alpha},r.default.createElement(i.Alpha,{style:v.Alpha,rgb:n,hsl:u,renderers:g,onChange:d}))),r.default.createElement("div",{style:v.color},r.default.createElement(i.Checkboard,null),r.default.createElement("div",{style:v.activeColor}))),r.default.createElement(s.default,{rgb:n,hsl:u,hex:a,onChange:d,disableAlpha:f}),r.default.createElement(l.default,{colors:h,onClick:d,onSwatchHover:p}))};u.propTypes={disableAlpha:a.default.bool,width:a.default.oneOfType([a.default.string,a.default.number])},u.defaultProps={disableAlpha:!1,width:200,presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,i.ColorWrap)(u)},1376:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var r=s(n(0)),a=s(n(91)),o=s(n(334)),i=n(163);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SketchFields=function(e){var t=e.onChange,n=e.rgb,s=e.hsl,l=e.hex,c=e.disableAlpha,u=(0,a.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:c}),d=function(e,r){e.hex?o.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},r):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:s.h,s:s.s,l:s.l,a:e.a,source:"rgb"},r))};return r.default.createElement("div",{style:u.fields,className:"flexbox-fix"},r.default.createElement("div",{style:u.double},r.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"hex",value:l.replace("#",""),onChange:d})),r.default.createElement("div",{style:u.single},r.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"r",value:n.r,onChange:d,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:u.single},r.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"g",value:n.g,onChange:d,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:u.single},r.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"b",value:n.b,onChange:d,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:u.alpha},r.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"a",value:Math.round(100*n.a),onChange:d,dragLabel:"true",dragMax:"100"})))};t.default=l},1377:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(0)),o=l(n(2)),i=l(n(91)),s=n(163);function l(e){return e&&e.__esModule?e:{default:e}}var c=t.SketchPresetColors=function(e){var t=e.colors,n=e.onClick,o=void 0===n?function(){}:n,l=e.onSwatchHover,c=(0,i.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),u=function(e,t){o({hex:e,source:"hex"},t)};return a.default.createElement("div",{style:c.colors,className:"flexbox-fix"},t.map((function(e){var t="string"==typeof e?{color:e}:e,n=""+t.color+(t.title||"");return a.default.createElement("div",{key:n,style:c.swatchWrap},a.default.createElement(s.Swatch,r({},t,{style:c.swatch,onClick:u,onHover:l,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};c.propTypes={colors:o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.shape({color:o.default.string,title:o.default.string})])).isRequired},t.default=c},1378:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var r=l(n(0)),a=l(n(91)),o=n(163),i=l(n(1379)),s=l(n(1381));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.Slider=function(e){var t=e.hsl,n=e.onChange,s=e.pointer,l=e.className,c=void 0===l?"":l,u=(0,a.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}});return r.default.createElement("div",{className:"slider-picker "+c},r.default.createElement("div",{style:u.hue},r.default.createElement(o.Hue,{style:u.Hue,hsl:t,pointer:s,onChange:n})),r.default.createElement("div",{style:u.swatches},r.default.createElement(i.default,{hsl:t,onClick:n})))};c.defaultProps={pointer:s.default},t.default=(0,o.ColorWrap)(c)},1379:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatches=void 0;var r=i(n(0)),a=i(n(91)),o=i(n(1380));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.SliderSwatches=function(e){var t=e.onClick,n=e.hsl,i=(0,a.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return r.default.createElement("div",{style:i.swatches},r.default.createElement("div",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:".80",active:Math.round(100*n.l)/100==.8&&Math.round(100*n.s)/100==.5,onClick:t,first:!0})),r.default.createElement("div",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:".65",active:Math.round(100*n.l)/100==.65&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:".50",active:Math.round(100*n.l)/100==.5&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:".35",active:Math.round(100*n.l)/100==.35&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:".20",active:Math.round(100*n.l)/100==.2&&Math.round(100*n.s)/100==.5,onClick:t,last:!0})),r.default.createElement("div",{style:i.clear}))};t.default=s},1380:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatch=void 0;var r=o(n(0)),a=o(n(91));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderSwatch=function(e){var t=e.hsl,n=e.offset,o=e.onClick,i=void 0===o?function(){}:o,s=e.active,l=e.first,c=e.last,u=(0,a.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:l,last:c});return r.default.createElement("div",{style:u.swatch,onClick:function(e){return i({h:t.h,s:.5,l:n,source:"hsl"},e)}})};t.default=i},1381:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=o(n(0)),a=o(n(91));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderPointer=function(){var e=(0,a.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=i},1382:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatches=void 0;var r=d(n(0)),a=d(n(2)),o=d(n(91)),i=d(n(413)),s=d(n(334)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1066)),c=n(163),u=d(n(1383));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.Swatches=function(e){var t=e.width,n=e.height,a=e.onChange,l=e.onSwatchHover,d=e.colors,p=e.hex,f=e.className,h=void 0===f?"":f,g=(0,o.default)({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}}),b=function(e,t){s.default.isValidHex(e)&&a({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:g.picker,className:"swatches-picker "+h},r.default.createElement(c.Raised,null,r.default.createElement("div",{style:g.overflow},r.default.createElement("div",{style:g.body},(0,i.default)(d,(function(e){return r.default.createElement(u.default,{key:e.toString(),group:e,active:p,onClick:b,onSwatchHover:l})})),r.default.createElement("div",{style:g.clear})))))};p.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),height:a.default.oneOfType([a.default.string,a.default.number]),colors:a.default.arrayOf(a.default.arrayOf(a.default.string))},p.defaultProps={width:320,height:240,colors:[[l.red[900],l.red[700],l.red[500],l.red[300],l.red[100]],[l.pink[900],l.pink[700],l.pink[500],l.pink[300],l.pink[100]],[l.purple[900],l.purple[700],l.purple[500],l.purple[300],l.purple[100]],[l.deepPurple[900],l.deepPurple[700],l.deepPurple[500],l.deepPurple[300],l.deepPurple[100]],[l.indigo[900],l.indigo[700],l.indigo[500],l.indigo[300],l.indigo[100]],[l.blue[900],l.blue[700],l.blue[500],l.blue[300],l.blue[100]],[l.lightBlue[900],l.lightBlue[700],l.lightBlue[500],l.lightBlue[300],l.lightBlue[100]],[l.cyan[900],l.cyan[700],l.cyan[500],l.cyan[300],l.cyan[100]],[l.teal[900],l.teal[700],l.teal[500],l.teal[300],l.teal[100]],["#194D33",l.green[700],l.green[500],l.green[300],l.green[100]],[l.lightGreen[900],l.lightGreen[700],l.lightGreen[500],l.lightGreen[300],l.lightGreen[100]],[l.lime[900],l.lime[700],l.lime[500],l.lime[300],l.lime[100]],[l.yellow[900],l.yellow[700],l.yellow[500],l.yellow[300],l.yellow[100]],[l.amber[900],l.amber[700],l.amber[500],l.amber[300],l.amber[100]],[l.orange[900],l.orange[700],l.orange[500],l.orange[300],l.orange[100]],[l.deepOrange[900],l.deepOrange[700],l.deepOrange[500],l.deepOrange[300],l.deepOrange[100]],[l.brown[900],l.brown[700],l.brown[500],l.brown[300],l.brown[100]],[l.blueGrey[900],l.blueGrey[700],l.blueGrey[500],l.blueGrey[300],l.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]]},t.default=(0,c.ColorWrap)(p)},1383:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesGroup=void 0;var r=s(n(0)),a=s(n(91)),o=s(n(413)),i=s(n(1384));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesGroup=function(e){var t=e.onClick,n=e.onSwatchHover,s=e.group,l=e.active,c=(0,a.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return r.default.createElement("div",{style:c.group},(0,o.default)(s,(function(e,a){return r.default.createElement(i.default,{key:e,color:e,active:e.toLowerCase()===l,first:0===a,last:a===s.length-1,onClick:t,onSwatchHover:n})})))};t.default=l},1384:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesColor=void 0;var r=s(n(0)),a=s(n(91)),o=s(n(334)),i=n(163);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesColor=function(e){var t=e.color,n=e.onClick,s=void 0===n?function(){}:n,l=e.onSwatchHover,c=e.first,u=e.last,d=e.active,p=(0,a.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{fill:o.default.getContrastingColor(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{fill:"#333"}},transparent:{check:{fill:"#333"}}},{first:c,last:u,active:d,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(i.Swatch,{color:t,style:p.color,onClick:s,onHover:l,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:p.check},r.default.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},r.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))};t.default=l},1385:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var r=c(n(0)),a=c(n(2)),o=c(n(91)),i=c(n(413)),s=c(n(334)),l=n(163);function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Twitter=function(e){var t=e.onChange,n=e.onSwatchHover,a=e.hex,c=e.colors,u=e.width,d=e.triangle,p=e.className,f=void 0===p?"":p,h=(0,o.default)({default:{card:{width:u,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},{"hide-triangle":"hide"===d,"top-left-triangle":"top-left"===d,"top-right-triangle":"top-right"===d}),g=function(e,n){s.default.isValidHex(e)&&t({hex:e,source:"hex"},n)};return r.default.createElement("div",{style:h.card,className:"twitter-picker "+f},r.default.createElement("div",{style:h.triangleShadow}),r.default.createElement("div",{style:h.triangle}),r.default.createElement("div",{style:h.body},(0,i.default)(c,(function(e,t){return r.default.createElement(l.Swatch,{key:t,color:e,hex:e,style:h.swatch,onClick:g,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),r.default.createElement("div",{style:h.hash},"#"),r.default.createElement(l.EditableInput,{style:{input:h.input},value:a.replace("#",""),onChange:g}),r.default.createElement("div",{style:h.clear})))};u.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),triangle:a.default.oneOf(["hide","top-left","top-right"]),colors:a.default.arrayOf(a.default.string)},u.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left"},t.default=(0,l.ColorWrap)(u)},1386:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1728)),o=l(n(1387)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(806)),s=l(n(1391));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,e);var r=(0,a.default)(o.default);this.context=n,this.store=r,this.monitor=new s.default(r),this.registry=this.monitor.registry,this.backend=t(this),r.subscribe(this.handleRefCountChange.bind(this))}return r(e,[{key:"handleRefCountChange",value:function(){var e=this.store.getState().refCount>0;e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1)}},{key:"getContext",value:function(){return this.context}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch;return Object.keys(i).filter((function(e){return"function"==typeof i[e]})).reduce((function(n,r){var a,o=i[r];return n[r]=(a=o,function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=a.apply(e,r);void 0!==i&&t(i)}),n}),{})}}]),e}();t.default=u},1387:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return{dirtyHandlerIds:(0,i.default)(e.dirtyHandlerIds,t,e.dragOperation),dragOffset:(0,r.default)(e.dragOffset,t),refCount:(0,o.default)(e.refCount,t),dragOperation:(0,a.default)(e.dragOperation,t),stateId:(0,s.default)(e.stateId)}};var r=l(n(1068)),a=l(n(1388)),o=l(n(1389)),i=l(n(1070)),s=l(n(1390));function l(e){return e&&e.__esModule?e:{default:e}}},1388:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case s.BEGIN_DRAG:return r({},e,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case s.PUBLISH_DRAG_SOURCE:return r({},e,{isSourcePublic:!0});case s.HOVER:return r({},e,{targetIds:t.targetIds});case l.REMOVE_TARGET:return-1===e.targetIds.indexOf(t.targetId)?e:r({},e,{targetIds:(0,i.default)(e.targetIds,t.targetId)});case s.DROP:return r({},e,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case s.END_DRAG:return r({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}};var a,o=n(1212),i=(a=o)&&a.__esModule?a:{default:a},s=n(806),l=n(807);var c={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null}},1389:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case r.ADD_SOURCE:case r.ADD_TARGET:return e+1;case r.REMOVE_SOURCE:case r.REMOVE_TARGET:return e-1;default:return e}};var r=n(807)},1390:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}},1391:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(137)),o=u(n(235)),i=u(n(1069)),s=u(n(1392)),l=n(1068),c=n(1070);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=new s.default(t)}return r(e,[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.handlerIds;(0,a.default)("function"==typeof e,"listener must be a function."),(0,a.default)(void 0===r||(0,o.default)(r),"handlerIds, when specified, must be an array of strings.");var i=this.store.getState().stateId,s=function(){var n=t.store.getState(),a=n.stateId;try{a===i||a===i+1&&!(0,c.areDirty)(n.dirtyHandlerIds,r)||e()}finally{i=a}};return this.store.subscribe(s)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;(0,a.default)("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){var t=this.registry.getSource(e);return(0,a.default)(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){var t=this.registry.getTarget(e);if((0,a.default)(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var n=this.registry.getTargetType(e),r=this.getItemType();return(0,i.default)(n,r)&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){var t=this.registry.getSource(e,!0);return(0,a.default)(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1},n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),a=this.getItemType();if(!(0,i.default)(r,a))return!1;var o=this.getTargetIds();if(!o.length)return!1;var s=o.indexOf(e);return n?s===o.length-1:s>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return(0,l.getSourceClientOffset)(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return(0,l.getDifferenceFromInitialOffset)(this.store.getState().dragOffset)}}]),e}();t.default=d},1392:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=u(n(137)),i=u(n(235)),s=u(n(1393)),l=n(807),c=u(n(1395));function u(e){return e&&e.__esModule?e:{default:e}}var d="SOURCE",p="TARGET";function f(e,t){t&&(0,i.default)(e)?e.forEach((function(e){return f(e,!1)})):(0,o.default)("string"==typeof e||"symbol"===(void 0===e?"undefined":a(e)),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function h(e){switch(e[0]){case"S":return d;case"T":return p;default:(0,o.default)(!1,"Cannot parse handler ID: "+e)}}var g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.types={},this.handlers={},this.pinnedSourceId=null,this.pinnedSource=null}return r(e,[{key:"addSource",value:function(e,t){f(e),function(e){(0,o.default)("function"==typeof e.canDrag,"Expected canDrag to be a function."),(0,o.default)("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),(0,o.default)("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(d,e,t);return this.store.dispatch((0,l.addSource)(n)),n}},{key:"addTarget",value:function(e,t){f(e,!0),function(e){(0,o.default)("function"==typeof e.canDrop,"Expected canDrop to be a function."),(0,o.default)("function"==typeof e.hover,"Expected hover to be a function."),(0,o.default)("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(p,e,t);return this.store.dispatch((0,l.addTarget)(n)),n}},{key:"addHandler",value:function(e,t,n){var r=function(e){var t=(0,c.default)().toString();switch(e){case d:return"S"+t;case p:return"T"+t;default:(0,o.default)(!1,"Unknown role: "+e)}}(e);return this.types[r]=t,this.handlers[r]=n,r}},{key:"containsHandler",value:function(e){var t=this;return Object.keys(this.handlers).some((function(n){return t.handlers[n]===e}))}},{key:"getSource",value:function(e,t){return(0,o.default)(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.handlers[e]}},{key:"getTarget",value:function(e){return(0,o.default)(this.isTargetId(e),"Expected a valid target ID."),this.handlers[e]}},{key:"getSourceType",value:function(e){return(0,o.default)(this.isSourceId(e),"Expected a valid source ID."),this.types[e]}},{key:"getTargetType",value:function(e){return(0,o.default)(this.isTargetId(e),"Expected a valid target ID."),this.types[e]}},{key:"isSourceId",value:function(e){return h(e)===d}},{key:"isTargetId",value:function(e){return h(e)===p}},{key:"removeSource",value:function(e){var t=this;(0,o.default)(this.getSource(e),"Expected an existing source."),this.store.dispatch((0,l.removeSource)(e)),(0,s.default)((function(){delete t.handlers[e],delete t.types[e]}))}},{key:"removeTarget",value:function(e){var t=this;(0,o.default)(this.getTarget(e),"Expected an existing target."),this.store.dispatch((0,l.removeTarget)(e)),(0,s.default)((function(){delete t.handlers[e],delete t.types[e]}))}},{key:"pinSource",value:function(e){var t=this.getSource(e);(0,o.default)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){(0,o.default)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}}]),e}();t.default=g},1393:function(e,t,n){"use strict";var r=n(1394),a=[],o=[],i=r.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function s(e){var t;(t=a.length?a.pop():new l).task=e,r(t)}function l(){this.task=null}e.exports=s,l.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(o.push(e),i())}finally{this.task=null,a[a.length]=this}}},1394:function(e,t,n){"use strict";(function(t){function n(e){a.length||(r(),!0),a[a.length]=e}e.exports=n;var r,a=[],o=0;function i(){for(;o<a.length;){var e=o;if(o+=1,a[e].call(),o>1024){for(var t=0,n=a.length-o;t<n;t++)a[t]=a[t+o];a.length-=o,o=0}}a.length=0,o=0,!1}var s,l,c,u=void 0!==t?t:self,d=u.MutationObserver||u.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof d?(s=1,l=new d(i),c=document.createTextNode(""),l.observe(c,{characterData:!0}),r=function(){s=-s,c.data=s}):r=p(i),n.requestFlush=r,n.makeRequestCallFromTimer=p}).call(this,n(205))},1395:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r++};var r=0},1396:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"canDrag",value:function(){return!0}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();t.default=a},1397:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"canDrop",value:function(){return!0}},{key:"hover",value:function(){}},{key:"drop",value:function(){}}]),e}();t.default=a},1398:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new s(e)};var a,o=n(1213),i=(a=o)&&a.__esModule?a:{default:a};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=t.getActions()}return r(e,[{key:"setup",value:function(){this.didCallSetup=!0}},{key:"teardown",value:function(){this.didCallTeardown=!0}},{key:"connectDragSource",value:function(){return i.default}},{key:"connectDragPreview",value:function(){return i.default}},{key:"connectDropTarget",value:function(){return i.default}},{key:"simulateBeginDrag",value:function(e,t){this.actions.beginDrag(e,t)}},{key:"simulatePublishDragSource",value:function(){this.actions.publishDragSource()}},{key:"simulateHover",value:function(e,t){this.actions.hover(e,t)}},{key:"simulateDrop",value:function(){this.actions.drop()}},{key:"simulateEndDrag",value:function(){this.actions.endDrag()}}]),e}()},1399:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=n(2),c=(o=l)&&o.__esModule?o:{default:o},u=n(1067);var d=(a=r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.backend=(0,u.unpackBackendForEs5Users)(e.backend),r.childContext=(0,u.createChildContext)(r.backend,{window:e&&e.window?e.window:n&&n.window?n.window:"undefined"!=typeof window?window:void 0}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e){if(e.backend!==this.props.backend||e.window!==this.props.window)throw new Error("DragDropContextProvider backend and window props must not change.")}},{key:"getChildContext",value:function(){return this.childContext}},{key:"render",value:function(){return s.Children.only(this.props.children)}}]),t}(s.Component),r.propTypes={backend:c.default.oneOfType([c.default.func,c.default.object]).isRequired,children:c.default.element.isRequired,window:c.default.object},r.defaultProps={window:void 0},r.childContextTypes=u.CHILD_CONTEXT_TYPES,r.displayName="DragDropContextProvider",r.contextTypes={window:c.default.object},a);t.default=d},1400:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h.default.apply(void 0,["DragLayer","collect[, options]"].concat(Array.prototype.slice.call(arguments))),(0,d.default)("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html",e),(0,d.default)((0,u.default)(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html',t),function(n){var u,h,g=t.arePropsEqual,y=void 0===g?f.default:g,O=n.displayName||n.name||"Component",C=(h=u=function(t){function i(e,t){b(this,i);var n=m(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.manager=t.dragDropManager,(0,d.default)("object"===a(n.manager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",O,O),n.state=n.getCurrentState(),n}return v(i,t),o(i,[{key:"getDecoratedComponentInstance",value:function(){return(0,d.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"shouldComponentUpdate",value:function(e,t){return!y(e,this.props)||!(0,p.default)(t,this.state)}}]),o(i,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0;var e=this.manager.getMonitor();this.unsubscribeFromOffsetChange=e.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=e.subscribeToStateChange(this.handleChange),this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange(),this.unsubscribeFromStateChange()}},{key:"handleChange",value:function(){if(this.isCurrentlyMounted){var e=this.getCurrentState();(0,p.default)(e,this.state)||this.setState(e)}}},{key:"getCurrentState",value:function(){var t=this.manager.getMonitor();return e(t,this.props)}},{key:"render",value:function(){var e=this;return s.default.createElement(n,r({},this.props,this.state,{ref:function(t){e.child=t}}))}}]),i}(i.Component),u.DecoratedComponent=n,u.displayName="DragLayer("+O+")",u.contextTypes={dragDropManager:l.default.object.isRequired},h);return(0,c.default)(C,n)}};var i=n(0),s=g(i),l=g(n(2)),c=g(n(938)),u=g(n(350)),d=g(n(137)),p=g(n(939)),f=g(n(1071)),h=g(n(808));function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}},1401:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o.default.apply(void 0,["DragSource","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var f=e;"function"!=typeof e&&((0,r.default)((0,d.default)(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',e),f=function(){return e});(0,r.default)((0,a.default)(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',t);var h=(0,l.default)(t);return(0,r.default)("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),(0,r.default)((0,a.default)(p),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),function(e){return(0,i.default)({connectBackend:function(e,t){return e.connectDragSource(t)},containerDisplayName:"DragSource",createHandler:h,registerHandler:s.default,createMonitor:c.default,createConnector:u.default,DecoratedComponent:e,getType:f,collect:n,options:p})}};var r=p(n(137)),a=p(n(350)),o=p(n(808)),i=p(n(1072)),s=p(n(1406)),l=p(n(1407)),c=p(n(1408)),u=p(n(1409)),d=p(n(1075));function p(e){return e&&e.__esModule?e:{default:e}}},1402:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(n(940));t.isDisposable=a.default;var o=r(n(1403));t.Disposable=o.default;var i=r(n(1404));t.CompositeDisposable=i.default;var s=r(n(1405));t.SerialDisposable=s.default},1403:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){},o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDisposed=!1,this.action=t||a}return r(e,null,[{key:"empty",value:{dispose:a},enumerable:!0}]),e.prototype.dispose=function(){this.isDisposed||(this.action.call(null),this.isDisposed=!0)},e}();t.default=o,e.exports=t.default},1404:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a,o=n(940),i=(a=o)&&a.__esModule?a:{default:a},s=function(){function e(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];r(this,e),Array.isArray(n[0])&&1===n.length&&(n=n[0]);for(var o=0;o<n.length;o++)if(!i.default(n[o]))throw new Error("Expected a disposable");this.disposables=n,this.isDisposed=!1}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){if(this.isDisposed)return!1;var t=this.disposables.indexOf(e);return-1!==t&&(this.disposables.splice(t,1),e.dispose(),!0)},e.prototype.dispose=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.isDisposed=!0,this.disposables=[],this.length=0;for(n=0;n<e;n++)t[n].dispose()}},e}();t.default=s,e.exports=t.default},1405:function(e,t,n){"use strict";t.__esModule=!0;var r,a=n(940),o=(r=a)&&r.__esModule?r:{default:r},i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDisposed=!1,this.current=null}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(null!=e&&!o.default(e))throw new Error("Expected either an empty value or a valid disposable");var t=this.isDisposed,n=void 0;t||(n=this.current,this.current=e),n&&n.dispose(),t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null,e&&e.dispose()}},e}();t.default=i,e.exports=t.default},1406:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),a=r.addSource(e,t);return{handlerId:a,unregister:function(){r.removeSource(a)}}}},1407:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){Object.keys(e).forEach((function(t){(0,a.default)(i.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',i.join(", "),t),(0,a.default)("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",t,t,e[t])})),s.forEach((function(t){(0,a.default)("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",t,t,e[t])}));var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.monitor=e,this.props=null,this.component=null}return r(t,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveComponent",value:function(e){this.component=e}},{key:"canDrag",value:function(){return!e.canDrag||e.canDrag(this.props,this.monitor)}},{key:"isDragging",value:function(t,n){return e.isDragging?e.isDragging(this.props,this.monitor):n===t.getSourceId()}},{key:"beginDrag",value:function(){return e.beginDrag(this.props,this.monitor,this.component)}},{key:"endDrag",value:function(){e.endDrag&&e.endDrag(this.props,this.monitor,this.component)}}]),t}();return function(e){return new t(e)}};var a=o(n(137));o(n(350));function o(e){return e&&e.__esModule?e:{default:e}}var i=["canDrag","beginDrag","isDragging","endDrag"],s=["beginDrag"]},1408:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new c(e)};var a,o=n(137),i=(a=o)&&a.__esModule?a:{default:a};var s=!1,l=!1,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.internalMonitor=t.getMonitor()}return r(e,[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"canDrag",value:function(){(0,i.default)(!s,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return s=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{s=!1}}},{key:"isDragging",value:function(){(0,i.default)(!l,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return l=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{l=!1}}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}()},1409:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0,n=void 0,o=void 0,i=void 0,s=void 0,l=void 0,c=void 0;function u(){i&&(i(),i=null),t&&n&&(i=e.connectDragSource(t,n,o))}function d(){c&&(c(),c=null),t&&s&&(c=e.connectDragPreview(t,s,l))}return{receiveHandlerId:function(e){e!==t&&(t=e,u(),d())},hooks:(0,r.default)({dragSource:function(e,t){e===n&&(0,a.default)(t,o)||(n=e,o=t,u())},dragPreview:function(e,t){e===s&&(0,a.default)(t,l)||(s=e,l=t,d())}})}};var r=o(n(1073)),a=o(n(1074));function o(e){return e&&e.__esModule?e:{default:e}}},1410:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.ref;if((0,o.default)("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),!n)return(0,i.cloneElement)(e,{ref:t});return(0,i.cloneElement)(e,{ref:function(e){t(e),n&&n(e)}})};var r,a=n(137),o=(r=a)&&r.__esModule?r:{default:r},i=n(0)},1411:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o.default.apply(void 0,["DropTarget","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var f=e;"function"!=typeof e&&((0,r.default)((0,d.default)(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',e),f=function(){return e});(0,r.default)((0,a.default)(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',t);var h=(0,l.default)(t);return(0,r.default)("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),(0,r.default)((0,a.default)(p),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),function(e){return(0,i.default)({connectBackend:function(e,t){return e.connectDropTarget(t)},containerDisplayName:"DropTarget",createHandler:h,registerHandler:s.default,createMonitor:c.default,createConnector:u.default,DecoratedComponent:e,getType:f,collect:n,options:p})}};var r=p(n(137)),a=p(n(350)),o=p(n(808)),i=p(n(1072)),s=p(n(1412)),l=p(n(1413)),c=p(n(1414)),u=p(n(1415)),d=p(n(1075));function p(e){return e&&e.__esModule?e:{default:e}}},1412:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),a=r.addTarget(e,t);return{handlerId:a,unregister:function(){r.removeTarget(a)}}}},1413:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){Object.keys(e).forEach((function(t){(0,a.default)(i.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',i.join(", "),t),(0,a.default)("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html",t,t,e[t])}));var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.monitor=e,this.props=null,this.component=null}return r(t,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"receiveComponent",value:function(e){this.component=e}},{key:"canDrop",value:function(){return!e.canDrop||e.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){e.hover&&e.hover(this.props,this.monitor,this.component)}},{key:"drop",value:function(){if(e.drop)return e.drop(this.props,this.monitor,this.component)}}]),t}();return function(e){return new t(e)}};var a=o(n(137));o(n(350));function o(e){return e&&e.__esModule?e:{default:e}}var i=["canDrop","hover","drop"]},1414:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new l(e)};var a,o=n(137),i=(a=o)&&a.__esModule?a:{default:a};var s=!1,l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.internalMonitor=t.getMonitor()}return r(e,[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"canDrop",value:function(){(0,i.default)(!s,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target-monitor.html");try{return s=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{s=!1}}},{key:"isOver",value:function(e){return this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}()},1415:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0,n=void 0,o=void 0,i=void 0;function s(){i&&(i(),i=null),t&&n&&(i=e.connectDropTarget(t,n,o))}return{receiveHandlerId:function(e){e!==t&&(t=e,s())},hooks:(0,r.default)({dropTarget:function(e,t){e===n&&(0,a.default)(t,o)||(n=e,o=t,s())}})}};var r=o(n(1073)),a=o(n(1074));function o(e){return e&&e.__esModule?e:{default:e}}},1416:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(1731)),o=d(n(1417)),i=d(n(1418)),s=n(1076),l=n(1419),c=n(1421),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(941));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.context=t.getContext(),this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.sourceNodes={},this.sourceNodeOptions={},this.enterLeaveCounter=new i.default,this.dragStartSourceIds=[],this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.getSourceClientOffset=this.getSourceClientOffset.bind(this),this.handleTopDragStart=this.handleTopDragStart.bind(this),this.handleTopDragStartCapture=this.handleTopDragStartCapture.bind(this),this.handleTopDragEndCapture=this.handleTopDragEndCapture.bind(this),this.handleTopDragEnter=this.handleTopDragEnter.bind(this),this.handleTopDragEnterCapture=this.handleTopDragEnterCapture.bind(this),this.handleTopDragLeaveCapture=this.handleTopDragLeaveCapture.bind(this),this.handleTopDragOver=this.handleTopDragOver.bind(this),this.handleTopDragOverCapture=this.handleTopDragOverCapture.bind(this),this.handleTopDrop=this.handleTopDrop.bind(this),this.handleTopDropCapture=this.handleTopDropCapture.bind(this),this.handleSelectStart=this.handleSelectStart.bind(this),this.endDragIfSourceWasRemovedFromDOM=this.endDragIfSourceWasRemovedFromDOM.bind(this),this.endDragNativeItem=this.endDragNativeItem.bind(this),this.asyncEndDragNativeItem=this.asyncEndDragNativeItem.bind(this),this.isNodeInDocument=this.isNodeInDocument.bind(this)}return r(e,[{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions[e]=n,this.sourcePreviewNodes[e]=t,function(){delete r.sourcePreviewNodes[e],delete r.sourcePreviewNodeOptions[e]}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes[e]=t,this.sourceNodeOptions[e]=n;var a=function(t){return r.handleDragStart(t,e)},o=function(t){return r.handleSelectStart(t,e)};return t.setAttribute("draggable",!0),t.addEventListener("dragstart",a),t.addEventListener("selectstart",o),function(){delete r.sourceNodes[e],delete r.sourceNodeOptions[e],t.removeEventListener("dragstart",a),t.removeEventListener("selectstart",o),t.setAttribute("draggable",!1)}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},a=function(t){return n.handleDragOver(t,e)},o=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",a),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",a),t.removeEventListener("drop",o)}}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions[e];return(0,a.default)(t||{},{dropEffect:this.altKeyPressed?"copy":"move"})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions[e];return(0,a.default)(t||{},{anchorX:.5,anchorY:.5,captureDraggingState:!1})}},{key:"getSourceClientOffset",value:function(e){return(0,l.getNodeClientOffset)(this.sourceNodes[e])}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(u).some((function(t){return u[t]===e}))}},{key:"beginDragNativeItem",value:function(e){this.clearCurrentDragSourceNode();var t=(0,c.createNativeDragSource)(e);this.currentNativeSource=new t,this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"asyncEndDragNativeItem",value:function(){this.asyncEndDragFrameId=this.window.requestAnimationFrame(this.endDragNativeItem)}},{key:"endDragNativeItem",value:function(){this.isDraggingNativeItem()&&(this.actions.endDrag(),this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)}},{key:"isNodeInDocument",value:function(e){return!(!document.body.contains(e)&&!this.window)&&this.window.document.body.contains(e)}},{key:"endDragIfSourceWasRemovedFromDOM",value:function(){var e=this.currentDragSourceNode;this.isNodeInDocument(e)||this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.currentDragSourceNodeOffset=(0,l.getNodeClientOffset)(e),this.currentDragSourceNodeOffsetChanged=!1;this.mouseMoveTimeoutTimer=setTimeout((function(){return t.mouseMoveTimeoutId=null,t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.window.clearTimeout(this.mouseMoveTimeoutTimer),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0),this.mouseMoveTimeoutTimer=null,!0)}},{key:"checkIfCurrentDragSourceRectChanged",value:function(){var e=this.currentDragSourceNode;return!!e&&(!!this.currentDragSourceNodeOffsetChanged||(this.currentDragSourceNodeOffsetChanged=!(0,o.default)((0,l.getNodeClientOffset)(e),this.currentDragSourceNodeOffset),this.currentDragSourceNodeOffsetChanged))}},{key:"handleTopDragStartCapture",value:function(){this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]}},{key:"handleDragStart",value:function(e,t){this.dragStartSourceIds.unshift(t)}},{key:"handleTopDragStart",value:function(e){var t=this,n=this.dragStartSourceIds;this.dragStartSourceIds=null;var r=(0,l.getEventClientOffset)(e);this.monitor.isDragging()&&this.actions.endDrag(),this.actions.beginDrag(n,{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:r});var a=e.dataTransfer,o=(0,c.matchNativeItemType)(a);if(this.monitor.isDragging()){if("function"==typeof a.setDragImage){var i=this.monitor.getSourceId(),s=this.sourceNodes[i],u=this.sourcePreviewNodes[i]||s,d=this.getCurrentSourcePreviewNodeOptions(),p={anchorX:d.anchorX,anchorY:d.anchorY},f={offsetX:d.offsetX,offsetY:d.offsetY},h=(0,l.getDragPreviewOffset)(s,u,r,p,f);a.setDragImage(u,h.x,h.y)}try{a.setData("application/json",{})}catch(e){}this.setCurrentDragSourceNode(e.target),this.getCurrentSourcePreviewNodeOptions().captureDraggingState?this.actions.publishDragSource():setTimeout((function(){return t.actions.publishDragSource()}))}else if(o)this.beginDragNativeItem(o);else{if(!(a.types||e.target.hasAttribute&&e.target.hasAttribute("draggable")))return;e.preventDefault()}}},{key:"handleTopDragEndCapture",value:function(){this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"handleTopDragEnterCapture",value:function(e){if(this.dragEnterTargetIds=[],this.enterLeaveCounter.enter(e.target)&&!this.monitor.isDragging()){var t=e.dataTransfer,n=(0,c.matchNativeItemType)(t);n&&this.beginDragNativeItem(n)}}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleTopDragEnter",value:function(e){var t=this,n=this.dragEnterTargetIds;(this.dragEnterTargetIds=[],this.monitor.isDragging())&&(this.altKeyPressed=e.altKey,(0,s.isFirefox)()||this.actions.hover(n,{clientOffset:(0,l.getEventClientOffset)(e)}),n.some((function(e){return t.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()))}},{key:"handleTopDragOverCapture",value:function(){this.dragOverTargetIds=[]}},{key:"handleDragOver",value:function(e,t){this.dragOverTargetIds.unshift(t)}},{key:"handleTopDragOver",value:function(e){var t=this,n=this.dragOverTargetIds;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer.dropEffect="none");this.altKeyPressed=e.altKey,this.actions.hover(n,{clientOffset:(0,l.getEventClientOffset)(e)}),n.some((function(e){return t.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()):this.isDraggingNativeItem()?(e.preventDefault(),e.dataTransfer.dropEffect="none"):this.checkIfCurrentDragSourceRectChanged()&&(e.preventDefault(),e.dataTransfer.dropEffect="move")}},{key:"handleTopDragLeaveCapture",value:function(e){this.isDraggingNativeItem()&&e.preventDefault(),this.enterLeaveCounter.leave(e.target)&&this.isDraggingNativeItem()&&this.endDragNativeItem()}},{key:"handleTopDropCapture",value:function(e){this.dropTargetIds=[],e.preventDefault(),this.isDraggingNativeItem()&&this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),this.enterLeaveCounter.reset()}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"handleTopDrop",value:function(e){var t=this.dropTargetIds;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:(0,l.getEventClientOffset)(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.endDragIfSourceWasRemovedFromDOM()}},{key:"handleSelectStart",value:function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))}},{key:"window",get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}}]),e}();t.default=p},1417:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty,o=0;o<n.length;o+=1){if(!a.call(t,n[o])||e[n[o]]!==t[n[o]])return!1;var i=e[n[o]],s=t[n[o]];if(i!==s)return!1}return!0}},1418:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(1732)),o=i(n(1212));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[]}return r(e,[{key:"enter",value:function(e){var t=this.entered.length;return this.entered=(0,a.default)(this.entered.filter((function(t){return document.documentElement.contains(t)&&(!t.contains||t.contains(e))})),[e]),0===t&&this.entered.length>0}},{key:"leave",value:function(e){var t=this.entered.length;return this.entered=(0,o.default)(this.entered.filter((function(e){return document.documentElement.contains(e)})),e),t>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}]),e}();t.default=s},1419:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeClientOffset=s,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,n,r,o){var l=(C=t,"IMG"===C.nodeName&&((0,a.isFirefox)()||!document.documentElement.contains(C))),c=s(l?e:t),u={x:n.x-c.x,y:n.y-c.y},d=e.offsetWidth,p=e.offsetHeight,f=r.anchorX,h=r.anchorY,g=function(e,t,n,r){var o=e?t.width:n,i=e?t.height:r;(0,a.isSafari)()&&e&&(i/=window.devicePixelRatio,o/=window.devicePixelRatio);return{dragPreviewWidth:o,dragPreviewHeight:i}}(l,t,d,p),b=g.dragPreviewWidth,m=g.dragPreviewHeight,v=o.offsetX,y=o.offsetY,O=0===y||y;var C;return{x:0===v||v?v:new i.default([0,.5,1],[u.x,u.x/d*b,u.x+b-d]).interpolate(f),y:O?y:(x=new i.default([0,.5,1],[u.y,u.y/p*m,u.y+m-p]).interpolate(h),(0,a.isSafari)()&&l&&(x+=(window.devicePixelRatio-1)*m),x)};var x};var r,a=n(1076),o=n(1420),i=(r=o)&&r.__esModule?r:{default:r};function s(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}},1420:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=t.length,a=[],o=0;o<r;o++)a.push(o);a.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var i=[],s=[],l=[],c=void 0,u=void 0,d=0;d<r-1;d++)c=t[d+1]-t[d],u=n[d+1]-n[d],s.push(c),i.push(u),l.push(u/c);for(var p=[l[0]],f=0;f<s.length-1;f++){var h=l[f],g=l[f+1];if(h*g<=0)p.push(0);else{c=s[f];var b=s[f+1],m=c+b;p.push(3*m/((m+b)/h+(m+c)/g))}}p.push(l[l.length-1]);for(var v=[],y=[],O=void 0,C=0;C<p.length-1;C++){O=l[C];var x=p[C],w=1/s[C],_=x+p[C+1]-O-O;v.push((O-x-_)*w),y.push(_*w*w)}this.xs=t,this.ys=n,this.c1s=p,this.c2s=v,this.c3s=y}return r(e,[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,a=this.c2s,o=this.c3s,i=t.length-1;if(e===t[i])return n[i];for(var s=0,l=o.length-1,c=void 0;s<=l;){var u=t[c=Math.floor(.5*(s+l))];if(u<e)s=c+1;else{if(!(u>e))return n[c];l=c-1}}var d=e-t[i=Math.max(0,l)],p=d*d;return n[i]+r[i]*d+a[i]*p+o[i]*d*p}}]),e}();t.default=a},1421:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.createNativeDragSource=function(e){var t=l[e],n=t.exposeProperty,r=t.matchesTypes,o=t.getData;return function(){function e(){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.item=(t={},(r={})[n]=r[n]||{},r[n].get=function(){return console.warn("Browser doesn't allow reading \""+n+'" until the drop event.'),null},function(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}}(t,r),t)}return a(e,[{key:"mutateItemByReadingDataTransfer",value:function(e){delete this.item[n],this.item[n]=o(e,r)}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}]),e}()},t.matchNativeItemType=function(e){var t=Array.prototype.slice.call(e.types||[]);return Object.keys(l).filter((function(e){return l[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(941));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),null);return null!=r?r:n}var l=(i(r={},o.FILE,{exposeProperty:"files",matchesTypes:["Files"],getData:function(e){return Array.prototype.slice.call(e.files)}}),i(r,o.URL,{exposeProperty:"urls",matchesTypes:["Url","text/uri-list"],getData:function(e,t){return s(e,t,"").split("\n")}}),i(r,o.TEXT,{exposeProperty:"text",matchesTypes:["Text","text/plain"],getData:function(e,t){return s(e,t,"")}}),r)},1422:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){r||((r=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==");return r};var r=void 0},1423:function(e,t,n){},1424:function(e,t,n){},154:function(e,t,n){"use strict";n.d(t,"e",(function(){return N})),n.d(t,"f",(function(){return I})),n.d(t,"d",(function(){return F})),n.d(t,"c",(function(){return B})),n.d(t,"b",(function(){return U})),n.d(t,"a",(function(){return H}));n(812),n(34);var r,a=n(64),o=n.n(a),i=n(74),s=n.n(i),l=n(185),c=n.n(l),u=n(145),d=n.n(u),p=n(24),f=n.n(p),h=n(28),g=n.n(h),b=n(56),m=n.n(b),v=n(102),y=n.n(v),O=n(79),C=n.n(O),x=n(5),w=n.n(x),_=n(63),j=n.n(_),S=n(82),E=n.n(S),T=n(0),D=n(72),k=n(7),M=n(437),R=n(58),P=n(300),A=n(66);function N(e,t,n,r=!0,a=[],o){const[i,s]=Object(T.useState)({count:0,collection:a,loading:!0,lastFetchDataConfig:null,permissions:[],bulkSelectEnabled:!1});function l(e){s(t=>({...t,...e}))}Object(T.useEffect)(()=>{r&&D.a.get({endpoint:`/api/v1/${e}/_info?q=${E.a.encode({keys:["permissions"]})}`}).then(({json:e={}})=>{l({permissions:e.permissions})},Object(R.d)(e=>n(Object(k.e)("An error occurred while fetching %s info: %s",t,e))))},[]);const c=Object(T.useCallback)(({pageIndex:r,pageSize:a,sortBy:i,filters:s})=>{var c,u;l({lastFetchDataConfig:{filters:s,pageIndex:r,pageSize:a,sortBy:i},loading:!0});const d=w()(c=C()(u=o||[]).call(u,s)).call(c,({id:e,operator:t,value:n})=>({col:e,opr:t,value:n})),p=E.a.encode({order_column:i[0].id,order_direction:i[0].desc?"desc":"asc",page:r,page_size:a,...d.length?{filters:d}:{}});return D.a.get({endpoint:`/api/v1/${e}/?q=${p}`}).then(({json:e={}})=>{l({collection:e.result,count:e.count,lastFetched:(new Date).toISOString()})},Object(R.d)(e=>n(Object(k.e)("An error occurred while fetching %ss: %s",t,e)))).finally(()=>{l({loading:!1})})},[o]);return{state:{loading:i.loading,resourceCount:i.count,resourceCollection:i.collection,bulkSelectEnabled:i.bulkSelectEnabled,lastFetched:i.lastFetched},setResourceCollection:e=>l({collection:e}),hasPerm:function(e){var t;return!!i.permissions.length&&Boolean(j()(t=i.permissions).call(t,t=>t===e))},fetchData:c,toggleBulkSelect:function(){l({bulkSelectEnabled:!i.bulkSelectEnabled})},refreshData:e=>i.lastFetchDataConfig?c(i.lastFetchDataConfig):e?c(e):null}}function I(e,t,n){const[r,a]=Object(T.useState)({loading:!1,resource:null,error:null});function o(e){a(t=>({...t,...e}))}return{state:r,setResource:e=>o({resource:e}),fetchResource:Object(T.useCallback)(r=>(o({loading:!0}),D.a.get({endpoint:`/api/v1/${e}/${r}`}).then(({json:e={}})=>(o({resource:e.result,error:null}),e.result),Object(R.d)(e=>{n(Object(k.e)("An error occurred while fetching %ss: %s",t,y()(e))),o({error:e})})).finally(()=>{o({loading:!1})})),[n,e,t]),createResource:Object(T.useCallback)(r=>(o({loading:!0}),D.a.post({endpoint:`/api/v1/${e}/`,body:y()(r),headers:{"Content-Type":"application/json"}}).then(({json:e={}})=>(o({resource:e.result,error:null}),e.id),Object(R.d)(e=>{n(Object(k.e)("An error occurred while creating %ss: %s",t,y()(e))),o({error:e})})).finally(()=>{o({loading:!1})})),[n,e,t]),updateResource:Object(T.useCallback)((r,a)=>(o({loading:!0}),D.a.put({endpoint:`/api/v1/${e}/${r}`,body:y()(a),headers:{"Content-Type":"application/json"}}).then(({json:e={}})=>(o({resource:e.result,error:null}),e.result),Object(R.d)(e=>(n(Object(k.e)("An error occurred while fetching %ss: %s",t,y()(e))),o({error:e}),e))).finally(()=>{o({loading:!1})})),[n,e,t]),clearError:()=>o({error:null})}}function F(e,t,n){const[r,a]=Object(T.useState)({loading:!1,passwordsNeeded:[],alreadyExists:[]});function o(e){a(t=>({...t,...e}))}const i=e=>"object"==typeof e&&m()(e._schema)&&1===e._schema.length&&"Must provide a password for the database"===e._schema[0],l=e=>"string"==typeof e&&g()(e).call(e,"already exists and `overwrite=true` was not passed"),u=e=>{var t,n;return w()(t=f()(n=d()(e)).call(n,([,e])=>i(e))).call(t,([e])=>e)},p=e=>{var t,n;return w()(t=f()(n=d()(e)).call(n,([,e])=>l(e))).call(t,([e])=>e)};return{state:r,importResource:Object(T.useCallback)((r,a={},d=!1)=>{o({loading:!0});const f=new FormData;return f.append("formData",r),a&&f.append("passwords",y()(a)),d&&f.append("overwrite","true"),D.a.post({endpoint:`/api/v1/${e}/import/`,body:f}).then(()=>!0).catch(e=>Object(A.a)(e).then(e=>{const r=e.message||e.error;return"string"==typeof r?(n(Object(k.e)("An error occurred while importing %s: %s",t,r)),!1):((e=>{var t;return c()(t=s()(e)).call(t,e=>!i(e)&&!l(e))})(r)?n(Object(k.e)("An error occurred while importing %s: %s",t,y()(r))):o({passwordsNeeded:u(r),alreadyExists:p(r)}),!1)})).finally(()=>{o({loading:!1})})},[])}}!function(e){e.CHART="slice",e.DASHBOARD="Dashboard"}(r||(r={}));const L={chart:Object(M.a)({requestType:"search",method:"GET",endpoint:"/api/v1/chart/favorite_status"}),dashboard:Object(M.a)({requestType:"search",method:"GET",endpoint:"/api/v1/dashboard/favorite_status"})};function B(e,t,n){const[a,i]=Object(T.useState)({}),s=e=>i(t=>({...t,...e}));return Object(T.useEffect)(()=>{t.length&&L[e](`q=${E.a.encode(t)}`).then(({result:e})=>{const t=o()(e).call(e,(e,t)=>(e[t.id]=t.value,e),{});s(t)},Object(R.d)(e=>n(Object(k.e)("There was an error fetching the favorite status: %s",e))))},[t]),[Object(T.useCallback)((t,a)=>{const o=a?"unselect":"select";D.a.get({endpoint:`/superset/favstar/${"chart"===e?r.CHART:r.DASHBOARD}/${t}/${o}/`}).then(({json:e})=>{s({[t]:(null==e?void 0:e.count)>0})},Object(R.d)(e=>n(Object(k.e)("There was an error saving the favorite status: %s",e))))},[e]),a]}const U=(e,t)=>{const[n,r]=Object(T.useState)(null);return{sliceCurrentlyEditing:n,handleChartUpdated:function(n){const r=w()(t).call(t,e=>e.id===n.id?{...e,...n}:e);e(r)},openChartEditModal:function(e){r({slice_id:e.id,slice_name:e.slice_name,description:e.description,cache_timeout:e.cache_timeout})},closeChartEditModal:function(){r(null)}}},H=(e,t,n)=>{Object(P.a)(`${window.location.origin}/superset/sqllab?savedQueryId=${e}`).then(()=>{n(Object(k.e)("Link Copied!"))}).catch(()=>{t(Object(k.e)("Sorry, your browser does not support copying."))})}},1612:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){e.exports=n(0)},function(e,t){e.exports=n(16)},function(e,t,n){e.exports=n(5)()},function(e,t){e.exports=n(11)},function(e,t,n){e.exports=n(7)},function(e,t,n){"use strict";var r=n(6);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){var t=e.onClickPrev,n=e.onClickSwitch,r=e.onClickNext,a=e.switchContent,o=e.switchColSpan,i=e.switchProps;return l.a.createElement("tr",null,l.a.createElement("th",{className:"rdtPrev",onClick:t},l.a.createElement("span",null,"‹")),l.a.createElement("th",c({className:"rdtSwitch",colSpan:o,onClick:n},i),a),l.a.createElement("th",{className:"rdtNext",onClick:r},l.a.createElement("span",null,"›")))}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}(a);function a(){var e;p(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return v(b(e=r.call.apply(r,[this].concat(n))),"_setDate",(function(t){e.props.updateDate(t)})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props.viewDate,t=e.localeData(),n=e.clone().startOf("month"),r=e.clone().endOf("month");return l.a.createElement("div",{className:"rdtDays"},l.a.createElement("table",null,l.a.createElement("thead",null,this.renderNavigation(e,t),this.renderDayHeaders(t)),l.a.createElement("tbody",null,this.renderDays(e,n,r)),this.renderFooter(e)))}},{key:"renderNavigation",value:function(e,t){var n=this;return l.a.createElement(u,{onClickPrev:function(){return n.props.navigate(-1,"months")},onClickSwitch:function(){return n.props.showView("months")},onClickNext:function(){return n.props.navigate(1,"months")},switchContent:t.months(e)+" "+e.year(),switchColSpan:5,switchProps:{"data-value":this.props.viewDate.month()}})}},{key:"renderDayHeaders",value:function(e){var t=this.getDaysOfWeek(e).map((function(e,t){return l.a.createElement("th",{key:e+t,className:"dow"},e)}));return l.a.createElement("tr",null,t)}},{key:"renderDays",value:function(e,t,n){var r=[[],[],[],[],[],[]],a=e.clone().subtract(1,"months");a.date(a.daysInMonth()).startOf("week");for(var o=a.clone().add(42,"d"),i=0;a.isBefore(o);)this.getRow(r,i++).push(this.renderDay(a,t,n)),a.add(1,"d");return r.map((function(e,t){return l.a.createElement("tr",{key:"".concat(o.month(),"_").concat(t)},e)}))}},{key:"renderDay",value:function(e,t,n){var r=this.props.selectedDate,a={key:e.format("M_D"),"data-value":e.date(),"data-month":e.month(),"data-year":e.year()},o="rdtDay";return e.isBefore(t)?o+=" rdtOld":e.isAfter(n)&&(o+=" rdtNew"),r&&e.isSame(r,"day")&&(o+=" rdtActive"),e.isSame(this.props.moment(),"day")&&(o+=" rdtToday"),this.props.isValidDate(e)?a.onClick=this._setDate:o+=" rdtDisabled",a.className=o,this.props.renderDay?this.props.renderDay(a,e.clone(),r&&r.clone()):l.a.createElement("td",a,e.date())}},{key:"renderFooter",value:function(e){var t=this;if(this.props.timeFormat)return l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("td",{onClick:function(){return t.props.showView("time")},colSpan:7,className:"rdtTimeToggle"},e.format(this.props.timeFormat))))}},{key:"getDaysOfWeek",value:function(e){var t=e.firstDayOfWeek(),n=[],r=0;return e._weekdaysMin.forEach((function(e){n[(7+r++-t)%7]=e})),n}},{key:"getRow",value:function(e,t){return e[Math.floor(t/7)]}}])&&f(t.prototype,n),a}(l.a.Component);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}v(y,"defaultProps",{isValidDate:function(){return!0}});var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(a,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _(this,n)}}(a);function a(){var e;C(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return E(j(e=r.call.apply(r,[this].concat(n))),"_updateSelectedMonth",(function(t){e.props.updateDate(t)})),e}return t=a,(n=[{key:"render",value:function(){return l.a.createElement("div",{className:"rdtMonths"},l.a.createElement("table",null,l.a.createElement("thead",null,this.renderNavigation())),l.a.createElement("table",null,l.a.createElement("tbody",null,this.renderMonths())))}},{key:"renderNavigation",value:function(){var e=this,t=this.props.viewDate.year();return l.a.createElement(u,{onClickPrev:function(){return e.props.navigate(-1,"years")},onClickSwitch:function(){return e.props.showView("years")},onClickNext:function(){return e.props.navigate(1,"years")},switchContent:t,switchColSpan:"2"})}},{key:"renderMonths",value:function(e){for(var t=[[],[],[]],n=0;n<12;n++)this.getRow(t,n).push(this.renderMonth(n,this.props.selectedDate));return t.map((function(e,t){return l.a.createElement("tr",{key:t},e)}))}},{key:"renderMonth",value:function(e,t){var n,r="rdtMonth";this.isDisabledMonth(e)?r+=" rdtDisabled":n=this._updateSelectedMonth,t&&t.year()===this.props.viewDate.year()&&t.month()===e&&(r+=" rdtActive");var a={key:e,className:r,"data-value":e,onClick:n};return this.props.renderMonth?this.props.renderMonth(a,e,this.props.viewDate.year(),this.props.selectedDate&&this.props.selectedDate.clone()):l.a.createElement("td",a,this.getMonthText(e))}},{key:"getRow",value:function(e,t){return t<4?e[0]:t<8?e[1]:e[2]}},{key:"capitalize",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"isDisabledMonth",value:function(e){var t=this.props.isValidDate;if(!t)return!1;for(var n=this.props.viewDate.clone().set({month:e}),r=n.endOf("month").date()+1;r-- >1;)if(t(n.date(r)))return!1;return!0}},{key:"getMonthText",value:function(e){var t=this.props.viewDate,n=t.localeData().monthsShort(t.month(e));return this.capitalize(n.substring(0,3))}}])&&x(t.prototype,n),a}(l.a.Component);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(a,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var a=N(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return P(this,n)}}(a);function a(){var e;k(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return I(A(e=r.call.apply(r,[this].concat(n))),"disabledYearsCache",{}),I(A(e),"_updateSelectedYear",(function(t){e.props.updateDate(t)})),e}return t=a,(n=[{key:"render",value:function(){var e=10*parseInt(this.props.viewDate.year()/10,10);return l.a.createElement("div",{className:"rdtYears"},l.a.createElement("table",null,l.a.createElement("thead",null,this.renderNavigation(e))),l.a.createElement("table",null,l.a.createElement("tbody",null,this.renderYears(e))))}},{key:"renderNavigation",value:function(e){var t=this;return l.a.createElement(u,{onClickPrev:function(){return t.props.navigate(-10,"years")},onClickSwitch:function(){return t.props.showView("years")},onClickNext:function(){return t.props.navigate(10,"years")},switchContent:"".concat(e,"-").concat(e+9)})}},{key:"renderYears",value:function(e){for(var t=[[],[],[]],n=this.props.selectedDate&&this.props.selectedDate.year(),r=e-1;r<e+11;r++)this.getRow(t,r-e).push(this.renderYear(r,n));return t.map((function(e,t){return l.a.createElement("tr",{key:t},e)}))}},{key:"renderYear",value:function(e,t){var n,r="rdtYear";this.isDisabledYear(e)?r+=" rdtDisabled":n=this._updateSelectedYear,t===e&&(r+=" rdtActive");var a={key:e,className:r,"data-value":e,onClick:n};return this.props.renderYear?this.props.renderYear(a,e,this.props.selectedDate&&this.props.selectedDate.clone()):l.a.createElement("td",a,e)}},{key:"getRow",value:function(e,t){return t<3?e[0]:t<7?e[1]:e[2]}},{key:"isDisabledYear",value:function(e){var t=this.disabledYearsCache;if(void 0!==t[e])return t[e];var n=this.props.isValidDate;if(!n)return!1;for(var r=this.props.viewDate.clone().set({year:e}),a=r.endOf("year").dayOfYear()+1;a-- >1;)if(n(r.dayOfYear(a)))return t[e]=!1,!1;return t[e]=!0,!0}}])&&M(t.prototype,n),a}(l.a.Component);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?$(e):t}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W={hours:{min:0,max:23,step:1},minutes:{min:0,max:59,step:1},seconds:{min:0,max:59,step:1},milliseconds:{min:0,max:999,step:1}},Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(a,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var a=G(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q(this,n)}}(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),z($(t=r.call(this,e)),"padValues",{hours:1,minutes:2,seconds:2,milliseconds:3}),t.constraints=t.createConstraints(e),t.state=t.getTimeParts(e.selectedDate||e.viewDate),t}return t=a,(n=[{key:"createConstraints",value:function(e){var t={};return Object.keys(W).forEach((function(n){t[n]=U(U({},W[n]),e.timeConstraints[n]||{})})),t}},{key:"render",value:function(){var e=this,t=[],n=this.state;return this.getCounters().forEach((function(r,a){a&&"ampm"!==r&&t.push(l.a.createElement("div",{key:"sep".concat(a),className:"rdtCounterSeparator"},":")),t.push(e.renderCounter(r,n[r]))})),l.a.createElement("div",{className:"rdtTime"},l.a.createElement("table",null,this.renderHeader(),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{className:"rdtCounters"},t))))))}},{key:"renderCounter",value:function(e,t){var n=this;return"hours"===e&&this.isAMPM()&&0==(t=(t-1)%12+1)&&(t=12),"ampm"===e&&(t=-1!==this.props.timeFormat.indexOf(" A")?this.props.viewDate.format("A"):this.props.viewDate.format("a")),l.a.createElement("div",{key:e,className:"rdtCounter"},l.a.createElement("span",{className:"rdtBtn",onMouseDown:function(t){return n.onStartClicking(t,"increase",e)}},"▲"),l.a.createElement("div",{className:"rdtCount"},t),l.a.createElement("span",{className:"rdtBtn",onMouseDown:function(t){return n.onStartClicking(t,"decrease",e)}},"▼"))}},{key:"renderHeader",value:function(){var e=this;if(this.props.dateFormat){var t=this.props.selectedDate||this.props.viewDate;return l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"rdtSwitch",colSpan:"4",onClick:function(){return e.props.showView("days")}},t.format(this.props.dateFormat))))}}},{key:"onStartClicking",value:function(e,t,n){var r=this;if(!e||!e.button||0===e.button){if("ampm"===n)return this.toggleDayPart();var a={},o=document.body;a[n]=this[t](n),this.setState(a),this.timer=setTimeout((function(){r.increaseTimer=setInterval((function(){a[n]=r[t](n),r.setState(a)}),70)}),500),this.mouseUpListener=function(){clearTimeout(r.timer),clearInterval(r.increaseTimer),r.props.setTime(n,parseInt(r.state[n],10)),o.removeEventListener("mouseup",r.mouseUpListener),o.removeEventListener("touchend",r.mouseUpListener)},o.addEventListener("mouseup",this.mouseUpListener),o.addEventListener("touchend",this.mouseUpListener)}}},{key:"toggleDayPart",value:function(){var e=parseInt(this.state.hours,10);e>=12?e-=12:e+=12,this.props.setTime("hours",e)}},{key:"increase",value:function(e){var t=this.constraints[e],n=parseInt(this.state[e],10)+t.step;return n>t.max&&(n=t.min+(n-(t.max+1))),this.pad(e,n)}},{key:"decrease",value:function(e){var t=this.constraints[e],n=parseInt(this.state[e],10)-t.step;return n<t.min&&(n=t.max+1-(t.min-n)),this.pad(e,n)}},{key:"pad",value:function(e,t){for(var n=t+"";n.length<this.padValues[e];)n="0"+n;return n}},{key:"getCounters",value:function(){var e=[],t=this.props.timeFormat;return-1!==t.toLowerCase().indexOf("h")&&(e.push("hours"),-1!==t.indexOf("m")&&(e.push("minutes"),-1!==t.indexOf("s")&&(e.push("seconds"),-1!==t.indexOf("S")&&e.push("milliseconds")))),this.isAMPM()&&e.push("ampm"),e}},{key:"isAMPM",value:function(){return-1!==this.props.timeFormat.toLowerCase().indexOf(" a")}},{key:"getTimeParts",value:function(e){var t=e.hours();return{hours:this.pad("hours",t),minutes:this.pad("minutes",e.minutes()),seconds:this.pad("seconds",e.seconds()),milliseconds:this.pad("milliseconds",e.milliseconds()),ampm:t<12?"am":"pm"}}},{key:"componentDidUpdate",value:function(e){this.props.selectedDate?this.props.selectedDate!==e.selectedDate&&this.setState(this.getTimeParts(this.props.selectedDate)):e.viewDate!==this.props.viewDate&&this.setState(this.getTimeParts(this.props.viewDate))}}])&&H(t.prototype,n),a}(l.a.Component),X=n(3);function Q(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var K,Z,J=(void 0===K&&(K=0),function(){return++K}),ee={},te={},ne=["touchstart","touchmove"];function re(e,t){var n=null;return-1!==ne.indexOf(t)&&Z&&(n={passive:!e.props.preventDefault}),n}function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t,n){return t&&le(e.prototype,t),n&&le(e,n),e}function ue(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){var a=he(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?fe(e):t}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",(function(){return xe}));var be="years",me="months",ve="days",ye=a.a,Oe=function(){},Ce=ye.oneOfType([ye.instanceOf(i.a),ye.instanceOf(Date),ye.string]),xe=function(e){ue(n,e);var t=de(n);function n(e){var r;return se(this,n),ge(fe(r=t.call(this,e)),"_renderCalendar",(function(e){var t=r.props,n={viewDate:r.state.viewDate.clone(),selectedDate:r.getSelectedDate(),isValidDate:t.isValidDate,updateDate:r._updateDate,navigate:r._viewNavigate,moment:i.a,showView:r._showView};switch(e){case be:return n.renderYear=t.renderYear,l.a.createElement(F,n);case me:return n.renderMonth=t.renderMonth,l.a.createElement(T,n);case ve:return n.renderDay=t.renderDay,n.timeFormat=r.getFormat("time"),l.a.createElement(y,n);default:return n.dateFormat=r.getFormat("date"),n.timeFormat=r.getFormat("time"),n.timeConstraints=t.timeConstraints,n.setTime=r._setTime,l.a.createElement(Y,n)}})),ge(fe(r),"_showView",(function(e,t){var n=(t||r.state.viewDate).clone(),a=r.props.onBeforeNavigate(e,r.state.currentView,n);a&&r.state.currentView!==a&&(r.props.onNavigate(a),r.setState({currentView:a}))})),ge(fe(r),"viewToMethod",{days:"date",months:"month",years:"year"}),ge(fe(r),"nextView",{days:"time",months:"days",years:"months"}),ge(fe(r),"_updateDate",(function(e){var t=r.state.currentView,n=r.getUpdateOn(r.getFormat("date")),a=r.state.viewDate.clone();a[r.viewToMethod[t]](parseInt(e.target.getAttribute("data-value"),10)),"days"===t&&(a.month(parseInt(e.target.getAttribute("data-month"),10)),a.year(parseInt(e.target.getAttribute("data-year"),10)));var o={viewDate:a};t===n?(o.selectedDate=a.clone(),o.inputValue=a.format(r.getFormat("datetime")),void 0===r.props.open&&r.props.input&&r.props.closeOnSelect&&r._closeCalendar(),r.props.onChange(a.clone())):r._showView(r.nextView[t],a),r.setState(o)})),ge(fe(r),"_viewNavigate",(function(e,t){var n=r.state.viewDate.clone();n.add(e,t),e>0?r.props.onNavigateForward(e,t):r.props.onNavigateBack(-e,t),r.setState({viewDate:n})})),ge(fe(r),"_setTime",(function(e,t){var n=(r.getSelectedDate()||r.state.viewDate).clone();n[e](t),r.props.value||r.setState({selectedDate:n,viewDate:n.clone(),inputValue:n.format(r.getFormat("datetime"))}),r.props.onChange(n)})),ge(fe(r),"_openCalendar",(function(){r.isOpen()||r.setState({open:!0},r.props.onOpen)})),ge(fe(r),"_closeCalendar",(function(){r.isOpen()&&r.setState({open:!1},(function(){r.props.onClose(r.state.selectedDate||r.state.inputValue)}))})),ge(fe(r),"_handleClickOutside",(function(){var e=r.props;e.input&&r.state.open&&void 0===e.open&&e.closeOnClickOutside&&r._closeCalendar()})),ge(fe(r),"_onInputFocus",(function(e){r.callHandler(r.props.inputProps.onFocus,e)&&r._openCalendar()})),ge(fe(r),"_onInputChange",(function(e){if(r.callHandler(r.props.inputProps.onChange,e)){var t=e.target?e.target.value:e,n=r.localMoment(t,r.getFormat("datetime")),a={inputValue:t};n.isValid()?(a.selectedDate=n,a.viewDate=n.clone().startOf("month")):a.selectedDate=null,r.setState(a,(function(){r.props.onChange(n.isValid()?n:r.state.inputValue)}))}})),ge(fe(r),"_onInputKeyDown",(function(e){r.callHandler(r.props.inputProps.onKeyDown,e)&&9===e.which&&r.props.closeOnTab&&r._closeCalendar()})),ge(fe(r),"_onInputClick",(function(e){console.log("CLICKING 2!"),r.callHandler(r.props.inputProps.onClick,e)&&r._openCalendar()})),r.state=r.getInitialState(e),r}return ce(n,[{key:"render",value:function(){return l.a.createElement(we,{className:this.getClassName(),onClickOut:this._handleClickOutside},this.renderInput(),l.a.createElement("div",{className:"rdtPicker"},this.renderView(this.state.currentView,this._renderCalendar)))}},{key:"renderInput",value:function(){if(this.props.input){var e=ie(ie({type:"text",className:"form-control",value:this.getInputValue()},this.props.inputProps),{},{onFocus:this._onInputFocus,onChange:this._onInputChange,onKeyDown:this._onInputKeyDown,onClick:this._onInputClick});return this.props.renderInput?l.a.createElement("div",null,this.props.renderInput(e,this._openCalendar,this._closeCalendar)):l.a.createElement("input",e)}}},{key:"renderView",value:function(e,t){return this.props.renderView?this.props.renderView(e,(function(){return t(e)})):t(this.state.currentView)}},{key:"getInitialState",value:function(e){var t=e||this.props,n=this.getFormat("datetime"),r=this.parseDate(t.value||t.initialValue,n);return this.checkTZ(t),{open:!t.input,currentView:t.initialViewMode||this.getInitialView(this.getFormat("date")),viewDate:this.getInitialViewDate(t.initialViewDate,r,n),selectedDate:r&&r.isValid()?r:void 0,inputValue:this.getInitialInputValue(t,r,n)}}},{key:"getInitialViewDate",value:function(e,t,n){var r;if(e){if((r=this.parseDate(e,n))&&r.isValid())return r;this.log('The initialViewDated given "'+e+'" is not valid. Using current date instead.')}else if(t&&t.isValid())return t.clone();return this.getInitialDate()}},{key:"getInitialDate",value:function(){var e=this.localMoment();return e.hour(0).minute(0).second(0).millisecond(0),e}},{key:"getInitialView",value:function(e){return e?this.getUpdateOn(e):"time"}},{key:"parseDate",value:function(e,t){var n;return e&&"string"==typeof e?n=this.localMoment(e,t):e&&(n=this.localMoment(e)),n&&!n.isValid()&&(n=null),n}},{key:"getClassName",value:function(){var e="rdt",t=this.props,n=t.className;return Array.isArray(n)?e+=" "+n.join(" "):n&&(e+=" "+n),t.input||(e+=" rdtStatic"),this.isOpen()&&(e+=" rdtOpen"),e}},{key:"isOpen",value:function(){return!this.props.input||(void 0===this.props.open?this.state.open:this.props.open)}},{key:"getUpdateOn",value:function(e){return this.props.updateOnView?this.props.updateOnView:e.match(/[lLD]/)?ve:-1!==e.indexOf("M")?me:-1!==e.indexOf("Y")?be:ve}},{key:"getLocaleData",value:function(e){var t=e||this.props;return this.localMoment(t.value||t.defaultValue||new Date).localeData()}},{key:"getDateFormat",value:function(e){var t=this.props.dateFormat;return!0===t?e.longDateFormat("L"):t||""}},{key:"getTimeFormat",value:function(e){var t=this.props.timeFormat;return!0===t?e.longDateFormat("LT"):t||""}},{key:"getFormat",value:function(e){if("date"===e)return this.getDateFormat(this.getLocaleData());if("time"===e)return this.getTimeFormat(this.getLocaleData());var t=this.getLocaleData(),n=this.getDateFormat(t),r=this.getTimeFormat(t);return n&&r?n+" "+r:n||r}},{key:"updateTime",value:function(e,t,n,r){var a={},o=r?"selectedDate":"viewDate";a[o]=this.state[o].clone()[e](t,n),this.setState(a)}},{key:"localMoment",value:function(e,t,n){var r=null;return r=(n=n||this.props).utc?i.a.utc(e,t,n.strictParsing):n.displayTimeZone?i.a.tz(e,t,n.displayTimeZone):i()(e,t,n.strictParsing),n.locale&&r.locale(n.locale),r}},{key:"checkTZ",value:function(e){!e.displayTimeZone||this.tzWarning||i.a.tz||(this.tzWarning=!0,this.log('displayTimeZone prop with value "'+e.displayTimeZone+'" is used but moment.js timezone is not loaded.',"error"))}},{key:"componentDidUpdate",value:function(e){if(e!==this.props){var t=!1,n=this.props;["locale","utc","displayZone","dateFormat","timeFormat"].forEach((function(r){e[r]!==n[r]&&(t=!0)})),t&&this.regenerateDates(this.props),n.value&&n.value!==e.value&&this.setViewDate(n.value),this.checkTZ(this.props)}}},{key:"regenerateDates",value:function(e){var t=this.state.viewDate.clone(),n=this.state.selectedDate&&this.state.selectedDate.clone();e.locale&&(t.locale(e.locale),n&&n.locale(e.locale)),e.utc?(t.utc(),n&&n.utc()):e.displayTimeZone?(t.tz(e.displayTimeZone),n&&n.tz(e.displayTimeZone)):(t.locale(),n&&n.locale());var r={viewDate:t,selectedDate:n};n&&n.isValid()&&(r.inputValue=n.format(this.getFormat("datetime"))),this.setState(r)}},{key:"getSelectedDate",value:function(){if(void 0===this.props.value)return this.state.selectedDate;var e=this.parseDate(this.props.value,this.getFormat("datetime"));return!(!e||!e.isValid())&&e}},{key:"getInitialInputValue",value:function(e,t,n){return e.inputProps.value?e.inputProps.value:t&&t.isValid()?t.format(n):e.value&&"string"==typeof e.value?e.value:e.initialValue&&"string"==typeof e.initialValue?e.initialValue:""}},{key:"getInputValue",value:function(){var e=this.getSelectedDate();return e?e.format(this.getFormat("datetime")):this.state.inputValue}},{key:"setViewDate",value:function(e){var t,n=this;return e&&(t="string"==typeof e?this.localMoment(e,this.getFormat("datetime")):this.localMoment(e))&&t.isValid()?void this.setState({viewDate:t}):n.log("Invalid date passed to the `setViewDate` method: "+e)}},{key:"navigate",value:function(e){this._showView(e)}},{key:"log",value:function(e,t){var n="undefined"!=typeof window&&window.console;n&&(t||(t="warn"),n[t]("***react-datetime:"+e))}},{key:"callHandler",value:function(e,t){return!e||!1!==e(t)}}]),n}(l.a.Component);ge(xe,"propTypes",{value:Ce,initialValue:Ce,initialViewDate:Ce,initialViewMode:ye.oneOf([be,me,ve,"time"]),onOpen:ye.func,onClose:ye.func,onChange:ye.func,onNavigate:ye.func,onBeforeNavigate:ye.func,onNavigateBack:ye.func,onNavigateForward:ye.func,updateOnView:ye.string,locale:ye.string,utc:ye.bool,displayTimeZone:ye.string,input:ye.bool,dateFormat:ye.oneOfType([ye.string,ye.bool]),timeFormat:ye.oneOfType([ye.string,ye.bool]),inputProps:ye.object,timeConstraints:ye.object,isValidDate:ye.func,open:ye.bool,strictParsing:ye.bool,closeOnSelect:ye.bool,closeOnTab:ye.bool,renderView:ye.func,renderInput:ye.func,renderDay:ye.func,renderMonth:ye.func,renderYear:ye.func}),ge(xe,"defaultProps",{onOpen:Oe,onClose:Oe,onCalendarOpen:Oe,onCalendarClose:Oe,onChange:Oe,onNavigate:Oe,onBeforeNavigate:function(e){return e},onNavigateBack:Oe,onNavigateForward:Oe,dateFormat:!0,timeFormat:!0,utc:!1,className:"",input:!0,inputProps:{},timeConstraints:{},isValidDate:function(){return!0},strictParsing:!0,closeOnSelect:!1,closeOnTab:!0,closeOnClickOutside:!0}),ge(xe,"moment",i.a);var we=function(e,t){var n,r,a=e.displayName||e.name||"Component";return r=n=function(n){var r,o;function i(e){var r;return(r=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof r.__clickOutsideHandlerProp){var t=r.getInstance();if("function"!=typeof t.props.handleClickOutside){if("function"!=typeof t.handleClickOutside)throw new Error("WrappedComponent: "+a+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else r.__clickOutsideHandlerProp(e)},r.__getComponentNode=function(){var e=r.getInstance();return t&&"function"==typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"==typeof e.setClickOutsideRef?e.setClickOutsideRef():Object(X.findDOMNode)(e)},r.enableOnClickOutside=function(){if("undefined"!=typeof document&&!te[r._uid]){void 0===Z&&(Z=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),te[r._uid]=!0;var e=r.props.eventTypes;e.forEach||(e=[e]),ee[r._uid]=function(e){var t;null!==r.componentNode&&(r.props.preventDefault&&e.preventDefault(),r.props.stopPropagation&&e.stopPropagation(),r.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(Q(e,t,n))return!0;e=e.parentNode}return e}(e.target,r.componentNode,r.props.outsideClickIgnoreClass)===document&&r.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,ee[r._uid],re(r,e))}))}},r.disableOnClickOutside=function(){delete te[r._uid];var e=ee[r._uid];if(e&&"undefined"!=typeof document){var t=r.props.eventTypes;t.forEach||(t=[t]),t.forEach((function(t){return document.removeEventListener(t,e,re(r,t))})),delete ee[r._uid]}},r.getRef=function(e){return r.instanceRef=e},r._uid=J(),r}o=n,(r=i).prototype=Object.create(o.prototype),r.prototype.constructor=r,r.__proto__=o;var l=i.prototype;return l.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},l.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+a+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},l.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},l.componentWillUnmount=function(){this.disableOnClickOutside()},l.render=function(){var t=this.props,n=(t.excludeScrollbar,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,["excludeScrollbar"]));return e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(s.createElement)(e,n)},i}(s.Component),n.displayName="OnClickOutside("+a+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:"ignore-react-onclickoutside",preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},r}(function(e){ue(n,e);var t=de(n);function n(){var e;se(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return ge(fe(e=t.call.apply(t,[this].concat(a))),"container",l.a.createRef()),e}return ce(n,[{key:"render",value:function(){return l.a.createElement("div",{className:this.props.className,ref:this.container},this.props.children)}},{key:"handleClickOutside",value:function(e){this.props.onClickOut(e)}},{key:"setClickOutsideRef",value:function(){return this.container.current}}]),n}(l.a.Component))}])},163:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1341);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return d(r).default}});var a=n(1064);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return d(a).default}});var o=n(1344);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return d(o).default}});var i=n(1345);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return d(i).default}});var s=n(1347);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return d(s).default}});var l=n(1348);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return d(l).default}});var c=n(1065);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return d(c).default}});var u=n(1350);function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return d(u).default}})},169:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(0);var r=n(62),a=n(1);const o=r.c.img`
  z-index: 99;
  width: 50px;
  position: relative;
  margin: 10px;
  &.inline {
    margin: 0px;
    width: 30px;
  }
  &.floating {
    padding: 0;
    margin: 0;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
  }
`;function i({position:e="floating"}){return Object(a.f)(o,{className:`loading ${e}`,alt:"Loading...",src:"/static/assets/images/loading.gif"})}},177:function(e,t,n){"use strict";n.d(t,"n",(function(){return r})),n.d(t,"o",(function(){return a})),n.d(t,"q",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"m",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"l",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"h",(function(){return m})),n.d(t,"p",(function(){return v})),n.d(t,"b",(function(){return y}));const r={offline:"danger",failed:"danger",pending:"info",fetching:"info",running:"warning",stopped:"danger",success:"success"},a={success:"success",failed:"failed",running:"running",offline:"offline",pending:"pending"},o=["now","1 hour ago","1 day ago","7 days ago","28 days ago","90 days ago","1 year ago"],i=5,s=3,l=51,c=1024,u=2,d=864e5,p=5120,f=.9,h=8e3,g=100,b=90,m=60,v=55,y=50},178:function(e,t,n){"use strict";const r=n(10).r;t.a=r},186:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n(76),a=n.n(r),o=n(62),i=n(10);const s=Object(o.c)(i.u)`
  display: block;
`,l=Object(o.c)(s)`
  &.ant-select-single {
    .ant-select-selector {
      height: 36px;
      padding: 0 11px;
      background-color: ${({theme:e})=>e.colors.grayscale.light3};
      border: none;

      .ant-select-selection-search-input {
        height: 100%;
      }

      .ant-select-selection-item,
      .ant-select-selection-placeholder {
        line-height: 35px;
        color: ${({theme:e})=>e.colors.grayscale.dark1};
      }
    }
  }
`,c=i.u.Option,u=a()(s,{Option:c}),d=a()(l,{Option:c})},194:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(6),a=n.n(r),o=n(0),i=n.n(o),s=n(2),l=n.n(s),c=n(86),u=n(33),d=n(1);const p={dialogClassName:l.a.string,triggerNode:l.a.node.isRequired,modalTitle:l.a.node,modalBody:l.a.node,modalFooter:l.a.node,beforeOpen:l.a.func,onExit:l.a.func,isButton:l.a.bool,className:l.a.string,tooltip:l.a.string,width:l.a.string,maxWidth:l.a.string,responsive:l.a.bool};class f extends i.a.Component{constructor(e){var t,n;super(e),this.state={showModal:!1},this.open=a()(t=this.open).call(t,this),this.close=a()(n=this.close).call(n,this)}close(){this.setState(()=>({showModal:!1}))}open(e){e.preventDefault(),this.props.beforeOpen(),this.setState(()=>({showModal:!0}))}renderModal(){return Object(d.f)(c.b,{wrapClassName:this.props.dialogClassName,className:this.props.className,show:this.state.showModal,onHide:this.close,afterClose:this.props.onExit,title:this.props.modalTitle,footer:this.props.modalFooter,hideFooter:!this.props.modalFooter,width:this.props.width,maxWidth:this.props.maxWidth,responsive:this.props.responsive},this.props.modalBody)}render(){return this.props.isButton?Object(d.f)(i.a.Fragment,null,Object(d.f)(u.a,{className:"modal-trigger",tooltip:this.props.tooltip,onClick:this.open},this.props.triggerNode),this.renderModal()):Object(d.f)(i.a.Fragment,null,Object(d.f)("span",{onClick:this.open,role:"button"},this.props.triggerNode),this.renderModal())}}f.propTypes=p,f.defaultProps={beforeOpen:()=>{},onExit:()=>{},isButton:!1,className:"",modalTitle:""}},195:function(e,t,n){"use strict";n.d(t,"f",(function(){return w})),n.d(t,"c",(function(){return _})),n.d(t,"e",(function(){return j})),n.d(t,"g",(function(){return S})),n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return T})),n.d(t,"a",(function(){return D}));n(254),n(34);var r=n(23),a=n.n(r),o=n(159),i=n.n(o),s=n(245),l=n.n(s),c=n(213),u=n.n(c),d=n(63),p=n.n(d),f=n(5),h=n.n(f),g=n(61),b=n.n(g),m=n(0),v=n.n(m),y=n(354),O=n(1);const C={"mode/sql":()=>n.e(78).then(n.t.bind(null,1426,7)),"mode/markdown":()=>Promise.all([n.e(11),n.e(10),n.e(19),n.e(65)]).then(n.t.bind(null,1427,7)),"mode/css":()=>Promise.all([n.e(10),n.e(75)]).then(n.t.bind(null,1428,7)),"mode/json":()=>n.e(64).then(n.t.bind(null,1429,7)),"mode/yaml":()=>n.e(79).then(n.t.bind(null,1430,7)),"mode/html":()=>Promise.all([n.e(11),n.e(10),n.e(19),n.e(76)]).then(n.t.bind(null,1431,7)),"mode/javascript":()=>Promise.all([n.e(11),n.e(77)]).then(n.t.bind(null,1432,7)),"theme/textmate":()=>n.e(81).then(n.t.bind(null,1433,7)),"theme/github":()=>n.e(80).then(n.t.bind(null,1434,7)),"ext/language_tools":()=>n.e(74).then(n.t.bind(null,1435,7))};function x(e,{defaultMode:t,defaultTheme:r,defaultTabSize:o=2,placeholder:s}={}){return Object(y.a)(async()=>{var s,c;const{default:d}=await Promise.all([n.e(0),n.e(18)]).then(n.t.bind(null,1322,7)),{default:f}=await Promise.all([n.e(0),n.e(18),n.e(48)]).then(n.t.bind(null,1436,7));await b.a.all(h()(e).call(e,e=>C[e]()));const g=t||(null==(s=p()(e).call(e,e=>u()(e).call(e,"mode/")))?void 0:s.replace("mode/","")),m=r||(null==(c=p()(e).call(e,e=>u()(e).call(e,"theme/")))?void 0:c.replace("theme/",""));return v.a.forwardRef((function({keywords:e,mode:t=g,theme:n=m,tabSize:r=o,...s},c){if(e){const n={getCompletions:(n,r,a,o,s)=>{l()(i()(o,10))&&r.getMode().$id===`ace/mode/${t}`&&s(null,e)}};d.acequire("ace/ext/language_tools").setCompleters([n])}return Object(O.f)(f,a()({ref:c,mode:t,theme:n,tabSize:r},s))}))},s)}const w=x(["mode/sql","theme/github","ext/language_tools"]),_=x(["mode/sql","theme/github","ext/language_tools"],{placeholder:()=>Object(O.f)("div",{style:{height:"100%"}},Object(O.f)("div",{style:{width:41,height:"100%",background:"#e8e8e8"}}),Object(O.f)("div",{className:"ace_content"}))}),j=x(["mode/markdown","theme/textmate"]),S=x(["mode/markdown","mode/sql","mode/json","mode/html","mode/javascript","theme/textmate"]),E=x(["mode/css","theme/github"]),T=x(["mode/json","theme/github"]),D=x(["mode/json","mode/yaml","theme/github"])},2115:function(e,t,n){},2116:function(e,t,n){},2117:function(e,t,n){},229:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),a=n.n(r),o=n(2),i=n.n(o),s=n(7),l=n(451),c=n(1);const u={children:i.a.node.isRequired,onError:i.a.func,showMessage:i.a.bool};class d extends a.a.Component{constructor(e){super(e),this.state={error:null,info:null}}componentDidCatch(e,t){this.props.onError(e,t),this.setState({error:e,info:t})}render(){const{error:e,info:t}=this.state;if(e){const n=e.toString(),r=Object(c.f)("span",null,Object(c.f)("strong",null,Object(s.e)("Unexpected error")),n?`: ${n}`:"");return this.props.showMessage?Object(c.f)(l.a,{subtitle:r,copyText:r,stackTrace:t?t.componentStack:null}):null}return this.props.children}}d.propTypes=u,d.defaultProps={onError:()=>{},showMessage:!0}},241:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(102),a=n.n(r),o=n(87),i=n.n(o);function s(e){const t=new i.a;return a()(e,(e,n)=>{if("object"==typeof n&&null!==n){if(t.has(n))try{return JSON.parse(a()(n))}catch(e){return}t.add(n)}return n})}},242:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return l}));n(254);var r=n(5),a=n.n(r);const o=" : ",i=(e,t)=>`${e}${o}${t}`,s=(e,t)=>e.replace("T00:00:00","")||(t?"-∞":"∞"),l=(e,t)=>{var n;const r=e.split(o);if(1===r.length)return e;const i=a()(n=t||["unknown","unknown"]).call(n,e=>"inclusive"===e?"≤":"<");return`${s(r[0],!0)} ${i[0]} col ${i[1]} ${s(r[1])}`}},292:function(e,t,n){"use strict";n.d(t,"e",(function(){return L})),n.d(t,"c",(function(){return U})),n.d(t,"a",(function(){return H})),n.d(t,"d",(function(){return V})),n.d(t,"f",(function(){return $})),n.d(t,"b",(function(){return G}));var r={};n.r(r),n.d(r,"druidTimeSeries",(function(){return R})),n.d(r,"datasourceAndVizType",(function(){return P})),n.d(r,"colorScheme",(function(){return A})),n.d(r,"sqlaTimeSeries",(function(){return N})),n.d(r,"annotations",(function(){return I})),n.d(r,"NVD3TimeSeries",(function(){return F}));n(34);var a=n(28),o=n.n(a),i=n(79),s=n.n(i),l=n(145),c=n.n(l),u=n(56),d=n.n(u),p=n(65),f=n.n(p),h=n(24),g=n.n(h),b=n(5),m=n.n(b),v=n(1043),y=n.n(v),O=n(63),C=n.n(O),x=n(42),w=n.n(x),_=n(17),j=n.n(_),S=n(128),E=n(417),T=n(614),D=(n(0),n(7)),k=n(215),M=n(1);const R={label:Object(D.e)("Time"),expanded:!0,description:Object(D.e)("Time related form attributes"),controlSetRows:[["time_range"]]},P={label:Object(D.e)("Chart Type"),expanded:!0,controlSetRows:[["datasource"],["viz_type"],[{name:"slice_id",config:{type:"HiddenControl",label:Object(D.e)("Chart ID"),hidden:!0,description:Object(D.e)("The id of the active chart")}},{name:"cache_timeout",config:{type:"HiddenControl",label:Object(D.e)("Cache Timeout (seconds)"),hidden:!0,description:Object(D.e)("The number of seconds before expiring the cache")}},{name:"url_params",config:{type:"HiddenControl",label:Object(D.e)("URL Parameters"),hidden:!0,description:Object(D.e)("Extra parameters for use in jinja templated queries")}},{name:"time_range_endpoints",config:{type:"HiddenControl",label:Object(D.e)("Time range endpoints"),hidden:!0,description:Object(D.e)("Time range endpoints (SIP-15)")}}]]},A={label:Object(D.e)("Color Scheme"),controlSetRows:[["color_scheme","label_colors"]]},N={label:Object(D.e)("Time"),description:Object(D.e)("Time related form attributes"),expanded:!0,controlSetRows:[["granularity_sqla"],["time_range"]]},I={label:Object(D.e)("Annotations and Layers"),tabOverride:"data",expanded:!0,controlSetRows:[[{name:"annotation_layers",config:{type:"AnnotationLayerControl",label:"",default:[],description:"Annotation Layers",renderTrigger:!0,tabOverride:"data"}}]]},F=[{label:Object(D.e)("Query"),expanded:!0,controlSetRows:[["metrics"],["adhoc_filters"],["groupby"],["limit","timeseries_limit_metric"],[{name:"order_desc",config:{type:"CheckboxControl",label:Object(D.e)("Sort Descending"),default:!0,description:Object(D.e)("Whether to sort descending or ascending")}},{name:"contribution",config:{type:"CheckboxControl",label:Object(D.e)("Contribution"),default:!1,description:Object(D.e)("Compute the contribution to the total")}}],["row_limit",null]]},{label:Object(D.e)("Advanced Analytics"),tabOverride:"data",description:Object(D.e)("This section contains options that allow for advanced analytical post processing of query results"),controlSetRows:[[Object(M.f)("h1",{className:"section-header"},Object(D.e)("Rolling Window"))],[{name:"rolling_type",config:{type:"SelectControl",label:Object(D.e)("Rolling Function"),default:"None",choices:Object(k.a)(["None","mean","sum","std","cumsum"]),description:Object(D.e)("Defines a rolling window function to apply, works along with the [Periods] text box")}},{name:"rolling_periods",config:{type:"TextControl",label:Object(D.e)("Periods"),isInt:!0,description:Object(D.e)("Defines the size of the rolling window function, relative to the time granularity selected")}},{name:"min_periods",config:{type:"TextControl",label:Object(D.e)("Min Periods"),isInt:!0,description:Object(D.e)('The minimum number of rolling periods required to show a value. For instance if you do a cumulative sum on 7 days you may want your "Min Period" to be 7, so that all data points shown are the total of 7 periods. This will hide the "ramp up" taking place over the first 7 periods')}}],[Object(M.f)("h1",{className:"section-header"},Object(D.e)("Time Comparison"))],[{name:"time_compare",config:{type:"SelectControl",multi:!0,freeForm:!0,label:Object(D.e)("Time Shift"),choices:Object(k.a)(["1 day","1 week","28 days","30 days","52 weeks","1 year","104 weeks","2 years"]),description:Object(D.e)("Overlay one or more timeseries from a relative time period. Expects relative time deltas in natural language (example:  24 hours, 7 days, 52 weeks, 365 days). Free text is supported.")}},{name:"comparison_type",config:{type:"SelectControl",label:Object(D.e)("Calculation type"),default:"values",choices:[["values","Actual Values"],["absolute","Absolute difference"],["percentage","Percentage change"],["ratio","Ratio"]],description:Object(D.e)("How to display time shifts: as individual lines; as the absolute difference between the main time series and each time shift; as the percentage change; or as the ratio between series and time shifts.")}}],[Object(M.f)("h1",{className:"section-header"},Object(D.e)("Python Functions"))],[Object(M.f)("h2",{className:"section-header"},"pandas.resample")],[{name:"resample_rule",config:{type:"SelectControl",freeForm:!0,label:Object(D.e)("Rule"),default:null,choices:Object(k.a)(["1T","1H","1D","7D","1M","1AS"]),description:Object(D.e)("Pandas resample rule")}},{name:"resample_method",config:{type:"SelectControl",freeForm:!0,label:Object(D.e)("Method"),default:null,choices:Object(k.a)(["asfreq","bfill","ffill","median","mean","sum"]),description:Object(D.e)("Pandas resample method")}}]]}];function L(e){var t;const n={};return j()(t=w()(e)).call(t,t=>{const r=e[t];n[t]=r.value}),n}const B=Object(S.a)((e,t)=>{const{controlOverrides:n={},controlPanelSections:r=[]}=t,a=Object(T.a)(function(e,t){var n,r,a;return null!=(n=C()(r=y()(a=m()(e).call(e,e=>e.controlSetRows)).call(a,2)).call(r,e=>t===e||null!==e&&"object"==typeof e&&e.name===t))?n:null}(r,e),n);return(null==a?void 0:a.config)||a}),U=function(e,t){const n=Object(E.a)().get(t)||{};return B(e,n)};function H(e,t){const{mapStateToProps:n}=e;let r={...e},{value:a}=r;return n&&t&&(r={...e,...n(t,e)},a=a||r.value),"function"==typeof r.default&&(r.default=r.default(r,t),"function"==typeof r.default&&delete r.default),r.default&&void 0===a&&(a=r.default),a&&r.multi&&!d()(a)&&(a=[a]),r.value=a,function(e,t){const{validators:n}=e,r=[];return n&&n.length>0&&j()(n).call(n,n=>{const a=n.call(e,e.value,t);a&&r.push(a)}),{...e,validationErrors:r}}(function(e){const{value:t}=e;if("SelectControl"===e.type&&!e.freeForm&&e.choices&&t){var n;const r={...e},a=m()(n=e.choices).call(n,e=>e[0]);if(e.multi&&t.length>0)return r.value=g()(t).call(t,e=>f()(a).call(a,e)>-1),r;if(!e.multi&&f()(a).call(a,t)<0)return r.value=null,r}return e}(r),r)}function V(e,t,n){if(!e)return null;const r={...e,value:n};return t&&t.controls||null===t?H(r,t):r}const q=Object(S.a)((e,t)=>{var n,a,i,l;const{sectionOverrides:u={},controlOverrides:d,controlPanelSections:p=[]}=t,f={...r};j()(n=c()(u)).call(n,([e,t])=>{"object"==typeof t&&t.constructor===Object?f[e]={...f[e],...t}:f[e]=t});const{datasourceAndVizType:h}=f,b="table"===e?["granularity","druid_time_origin"]:["granularity_sqla","time_grain_sqla"];return m()(a=g()(i=s()(l=[]).call(l,h,p)).call(i,e=>!!e)).call(a,e=>{const{controlSetRows:t}=e;return{...e,controlSetRows:(null==t?void 0:m()(t).call(t,e=>{var t;return m()(t=g()(e).call(e,e=>!o()(b).call(b,e))).call(t,e=>Object(T.a)(e,d))}))||[]}})}),$=function(e,t){const n=Object(E.a)().get(e)||{};return q(t,n)};function G(e,t,n,r){var a;const o={};return j()(a=$(e,t)).call(a,e=>{var t;return j()(t=e.controlSetRows).call(t,e=>j()(e).call(e,e=>{if(e&&e.config&&e.name){const{config:t,name:a}=e;o[a]=V(t,n,r[a])}}))}),o}},318:function(e,t,n){"use strict";n.r(t),n.d(t,"LOG_EVENT",(function(){return r})),n.d(t,"logEvent",(function(){return a}));const r="LOG_EVENT";function a(e,t){return n=>n({type:r,payload:{eventName:e,eventData:t}})}},334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.red=void 0;var r=o(n(1727)),a=o(n(1211));function o(e){return e&&e.__esModule?e:{default:e}}t.default={simpleCheckForValidColor:function(e){var t=0,n=0;return(0,r.default)(["r","g","b","a","h","s","l","v"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e},toState:function(e,t){var n=e.hex?(0,a.default)(e.hex):(0,a.default)(e),r=n.toHsl(),o=n.toHsv(),i=n.toRgb(),s=n.toHex();return 0===r.s&&(r.h=t||0,o.h=t||0),{hsl:r,hex:"000000"===s&&0===i.a?"transparent":"#"+s,rgb:i,hsv:o,oldHue:e.h||t||r.h,source:e.source}},isValidHex:function(e){var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,a.default)(e).isValid()},getContrastingColor:function(e){if(!e)return"#fff";var t=this.toState(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"}};t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},354:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n(34);var r=n(23),a=n.n(r),o=n(61),i=n.n(o),s=n(0),l=n.n(s),c=n(169),u=n(1);function d({width:e,height:t,showLoadingForImport:n=!1,placeholderStyle:r}){return t&&Object(u.f)("div",{key:"async-asm-placeholder",style:{width:e,height:t,...r}},n&&Object(u.f)(c.a,{position:"floating"}))||null}function p(e,t=d){let n,r;function o(){return n||(n=e instanceof i.a?e:e()),r||n.then(e=>{r=e.default||e}),n}const c=l.a.forwardRef((function(e,n){const[i,l]=Object(s.useState)(void 0!==r);Object(s.useEffect)(()=>{let e=!0;return i||o().then(()=>{e&&l(!0)}),()=>{e=!1}});const c=r||t;return c?Object(u.f)(c,a()({ref:c===r?n:null},e)):null}));return c.preload=o,c}},403:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n(628),a=n.n(r),o=n(17),i=n.n(o),s=n(87),l=n.n(s),c=n(40);const u=function(){var e;const t=document.getElementById("app");if(!t)return[];const n=JSON.parse(t.getAttribute("data-bootstrap"));Object(c.b)(null==n?void 0:null==(e=n.common)?void 0:e.feature_flags);const r=new l.a([window.location.hostname]);var o;return Object(c.c)(c.a.ALLOW_DASHBOARD_DOMAIN_SHARDING)&&n&&n.common&&n.common.conf&&n.common.conf.SUPERSET_WEBSERVER_DOMAINS&&i()(o=n.common.conf.SUPERSET_WEBSERVER_DOMAINS).call(o,e=>{r.add(e)}),a()(r)}(),d=u.length>1},418:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));var r,a=n(42),o=n.n(a),i=n(79),s=n.n(i),l=n(17),c=n.n(l),u=n(417),d=n(292),p=n(567);function f(e,t){const n={...t},r=n.viz_type||"table";!function(e){e.y_axis_zero&&(e.y_axis_bounds=[0,null])}(n);const a=Object(d.b)(r,e.datasource.type,e,n),o=Object(u.a)().get(r)||{};return o.onInit?o.onInit(a):a}function h(e){var t,n;const r=e.datasource.split("__")[1],a=e.viz_type,i=Object(d.b)(a,r,null,{...e}),l=Object(d.e)(i),u={};return c()(t=s()(n=o()(i)).call(n,o()(e))).call(t,t=>{void 0===e[t]?u[t]=l[t]:u[t]=e[t]}),u}const g={...p.a};c()(r=o()(p.a)).call(r,e=>{g[e].value=p.a[e].default});Object(d.e)(g)},425:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1067);Object.defineProperty(t,"DragDropContext",{enumerable:!0,get:function(){return l(r).default}});var a=n(1399);Object.defineProperty(t,"DragDropContextProvider",{enumerable:!0,get:function(){return l(a).default}});var o=n(1400);Object.defineProperty(t,"DragLayer",{enumerable:!0,get:function(){return l(o).default}});var i=n(1401);Object.defineProperty(t,"DragSource",{enumerable:!0,get:function(){return l(i).default}});var s=n(1411);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"DropTarget",{enumerable:!0,get:function(){return l(s).default}})},426:function(e,t,n){"use strict";var r=n(5),a=n.n(r),o=n(79),i=n.n(o),s=n(177);const l=["AND","AS","ASC","AVG","BY","CASE","COUNT","CREATE","CROSS","DATABASE","DEFAULT","DELETE","DESC","DISTINCT","DROP","ELSE","END","FOREIGN","FROM","GRANT","GROUP","HAVING","IF","INNER","INSERT","JOIN","KEY","LEFT","LIMIT","MAX","MIN","NATURAL","NOT","NULL","OFFSET","ON","OR","ORDER","OUTER","PRIMARY","REFERENCES","RIGHT","SELECT","SUM","TABLE","THEN","TYPE","UNION","UPDATE","WHEN","WHERE"],c=i()(l).call(l,["BIGINT","BINARY","BIT","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","MONEY","NUMBER","NUMERIC","REAL","SET","TEXT","TIMESTAMP","VARCHAR"]),u=a()(c).call(c,e=>({meta:"sql",name:e,score:s.l,value:e}));t.a=u},451:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n.n(r),o=n(7),i=n(317),s=n(164),l=n(1);const c=Object(o.e)("Unexpected Error");function u({title:e=c,error:t,subtitle:n,copyText:r,link:o,stackTrace:u,source:d}){if(t){const e=Object(i.a)().get(t.error_type);if(e)return Object(l.f)(e,{error:t,source:d})}return Object(l.f)(s.a,{level:"warning",title:e,subtitle:n,copyText:r,source:d,body:o||u?Object(l.f)(a.a.Fragment,null,o&&Object(l.f)("a",{href:o,target:"_blank",rel:"noopener noreferrer"},"(Request Access)"),Object(l.f)("br",null),u&&Object(l.f)("pre",null,u)):void 0})}},470:function(e,t,n){"use strict";var r=n(23),a=n.n(r),o=n(6),i=n.n(o),s=n(0),l=n.n(s),c=n(2),u=n.n(c),d=n(70),p=n(7),f=n(72),h=n(66),g=n(1);const b={dataEndpoint:u.a.string.isRequired,onChange:u.a.func.isRequired,mutator:u.a.func.isRequired,onAsyncError:u.a.func,value:u.a.oneOfType([u.a.number,u.a.arrayOf(u.a.number)]),valueRenderer:u.a.func,placeholder:u.a.string,autoSelect:u.a.bool},m={placeholder:Object(p.e)("Select ..."),onAsyncError:()=>{}};class v extends l.a.PureComponent{constructor(e){var t;super(e),this.state={isLoading:!1,options:[]},this.onChange=i()(t=this.onChange).call(t,this)}componentDidMount(){this.fetchOptions()}onChange(e){this.props.onChange(e)}fetchOptions(){this.setState({isLoading:!0});const{mutator:e,dataEndpoint:t}=this.props;return f.a.get({endpoint:t}).then(({json:t})=>{const n=e?e(t):t;this.setState({options:n,isLoading:!1}),!this.props.value&&this.props.autoSelect&&n.length>0&&this.onChange(n[0])}).catch(e=>Object(h.a)(e).then(e=>{this.props.onAsyncError(e.error||e.statusText||e),this.setState({isLoading:!1})}))}render(){return Object(g.f)(d.f,a()({placeholder:this.props.placeholder,options:this.state.options,value:this.props.value,isLoading:this.state.isLoading,onChange:this.onChange,valueRenderer:this.props.valueRenderer},this.props))}}v.propTypes=b,v.defaultProps=m,t.a=v},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return m})),n.d(t,"o",(function(){return v})),n.d(t,"p",(function(){return y})),n.d(t,"n",(function(){return O})),n.d(t,"m",(function(){return C})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return w}));var r=n(87),a=n.n(r),o=n(74),i=n.n(o),s=n(7);const l={AVG:"AVG",COUNT:"COUNT",COUNT_DISTINCT:"COUNT_DISTINCT",MAX:"MAX",MIN:"MIN",SUM:"SUM"},c=i()(l),u={"==":"==","!=":"!=",">":">","<":"<",">=":">=","<=":"<=",IN:"IN","NOT IN":"NOT IN",LIKE:"LIKE",REGEX:"REGEX","IS NOT NULL":"IS NOT NULL","IS NULL":"IS NULL","LATEST PARTITION":"LATEST PARTITION"},d=i()(u),p=[u.LIKE],f=[u.REGEX],h=[u["=="],u["!="],u[">"],u["<"],u[">="],u["<="]],g=new a.a([u.in,u["not in"],u.IN,u["NOT IN"]]),b=new a.a([u["LATEST PARTITION"]]),m=[u["IS NOT NULL"],u["IS NULL"],u["LATEST PARTITION"]],v=/^(sum|min|max|avg|count|count_distinct)__.*$/i,y=/^(LONG|DOUBLE|FLOAT)?(SUM|AVG|MAX|MIN|COUNT)\([A-Z0-9_."]*\)$/i,O=/^(LONG|DOUBLE|FLOAT)?(SUM|MAX|MIN|COUNT)\([A-Z0-9_."]*\)$/i,C={time_range:Object(s.e)("Time Range"),granularity_sqla:Object(s.e)("Time Column"),time_grain_sqla:Object(s.e)("Time Grain"),druid_time_origin:Object(s.e)("Origin"),granularity:Object(s.e)("Time Granularity")},x={DEFAULT_VALUE:"defaultValue",MULTIPLE:"multiple",SEARCH_ALL_OPTIONS:"searchAllOptions",CLEARABLE:"clearable"},w=1e3},535:function(e,t,n){"use strict";n.r(t),n.d(t,"TIME_FILTER_MAP",(function(){return Re})),n.d(t,"TIME_RANGE",(function(){return Pe}));var r=n(87),a=n.n(r),o=n(42),i=n.n(o),s=n(17),l=n.n(s),c=n(213),u=n.n(c),d=n(250),p=n.n(d),f=n(24),h=n.n(f),g=n(63),b=n.n(g),m=n(5),v=n.n(m),y=n(56),O=n.n(y),C=n(6),x=n.n(C),w=n(208),_=n.n(w),j=n(0),S=n.n(j),E=n(2),T=n.n(E),D=n(253),k=n(70),M=n(33),R=n(72),P=n(7),A=n(568),N=n(125),I=(n(254),n(34),n(23)),F=n.n(I),L=n(65),B=n.n(L),U=n(1307),H=n.n(U),V=n(571),q=n(3064),$=n(537),G=n(3043),z=n(60),W=n(178),Y=n(10),X=n(1612),Q=n.n(X),K=(n(2115),n(16)),Z=n.n(K),J=n(62),ee=n(187),te=n(127),ne=n(242),re=n(135),ae=(n(2116),n(103)),oe=n(408),ie=n(1);const se=H()({DEFAULTS:"defaults",CUSTOM_START_END:"custom_start_end",CUSTOM_RANGE:"custom_range"}),le=H()({DEFAULTS:"defaults",CUSTOM:"custom"}),ce=H()({LAST:"Last",NEXT:"Next"}),ue=["Last day","Last week","Last month","Last quarter","Last year","No filter"],de=["seconds","minutes","hours","days","weeks","months","years"],pe="YYYY-MM-DD[T]HH:mm:ss",fe=Z()().utc().startOf("day").subtract(7,"days").format(pe),he=Z()().utc().startOf("day").format(pe),ge=Object(P.e)("Superset supports smart date parsing. Strings like `3 weeks ago`, `last sunday`, or `2 weeks from now` can be used."),be={animation:T.a.bool,name:T.a.string.isRequired,label:T.a.string,description:T.a.string,onChange:T.a.func,value:T.a.string,height:T.a.number,onOpenDateFilterControl:T.a.func,onCloseDateFilterControl:T.a.func,endpoints:T.a.arrayOf(T.a.string)},me={animation:!0,onChange:()=>{},value:"Last week",onOpenDateFilterControl:()=>{},onCloseDateFilterControl:()=>{}};function ve(e){return e===Z()(e,pe).format(pe)}function ye(e){const[t,n]=e.split(" : ",2);return{since:t,until:n,type:se.CUSTOM_START_END,tab:le.CUSTOM}}function Oe(e){const t=`${e.split(" ")[1]}s`;let n;return n="No filter"===e?"":"years"===t?Z()().utc().startOf(t).subtract(1,t):Z()().utc().startOf("day").subtract(1,t),{tab:le.DEFAULTS,type:se.DEFAULTS,common:e,since:""===n?"":n.format(pe),until:""===n?"":n.add(1,t).format(pe)}}function Ce(e){const[t,n,r]=e.split(" ",3);let a,o;return t===ce.LAST?(o=Z()().utc().startOf("day").format(pe),a=Z()().utc().startOf("day").subtract(n,r).format(pe)):(o=Z()().utc().startOf("day").add(n,r).format(pe),a=Z()().startOf("day").format(pe)),{tab:le.CUSTOM,type:se.CUSTOM_RANGE,common:null,rel:t,num:n,grain:r,since:a,until:o}}const xe=J.c.div`
  .radio {
    margin: ${({theme:e})=>e.gridUnit}px 0;
  }
`,we=J.c.div`
  width: ${({theme:e})=>60*e.gridUnit}px;

  .timeframes-container {
    margin-left: ${({theme:e})=>2*e.gridUnit}px;
  }

  .relative-timerange-container {
    display: flex;
    margin-top: ${({theme:e})=>2*e.gridUnit}px;
  }

  .timerange-input {
    width: ${({theme:e})=>15*e.gridUnit}px;
    margin: 0 ${({theme:e})=>e.gridUnit}px;
  }

  .datetime {
    margin: ${({theme:e})=>e.gridUnit}px 0;
  }

  .ant-tabs {
    overflow: visible;
    & > .ant-tabs-content-holder {
      overflow: visible;
    }
  }
`;class _e extends S.a.Component{constructor(e){var t,n,r,a,o,i,s,l,c,u,d,p,f;super(e),this.state={type:se.DEFAULTS,tab:le.DEFAULTS,common:ue[0],rel:ce.LAST,num:"7",grain:de[3],since:fe,until:he,showSinceCalendar:!1,showUntilCalendar:!1,sinceViewMode:"days",untilViewMode:"days",popoverVisible:!1};const{value:h}=e;h&&B()(h).call(h," : ")>=0?this.state={...this.state,...ye(h)}:B()(ue).call(ue,h)>=0?this.state={...this.state,...Oe(h)}:h&&(this.state={...this.state,...Ce(h)}),this.close=x()(t=this.close).call(t,this),this.handleClick=x()(n=this.handleClick).call(n,this),this.isValidSince=x()(r=this.isValidSince).call(r,this),this.isValidUntil=x()(a=this.isValidUntil).call(a,this),this.onEnter=x()(o=this.onEnter).call(o,this),this.renderInput=x()(i=this.renderInput).call(i,this),this.setCustomRange=x()(s=this.setCustomRange).call(s,this),this.setCustomStartEnd=x()(l=this.setCustomStartEnd).call(l,this),this.setTypeCustomRange=x()(c=this.setTypeCustomRange).call(c,this),this.setTypeCustomStartEnd=x()(u=this.setTypeCustomStartEnd).call(u,this),this.toggleCalendar=x()(d=this.toggleCalendar).call(d,this),this.changeTab=x()(p=this.changeTab).call(p,this),this.handleVisibleChange=x()(f=this.handleVisibleChange).call(f,this)}componentDidMount(){document.addEventListener("click",this.handleClick)}componentWillUnmount(){document.removeEventListener("click",this.handleClick)}onEnter(e){"Enter"===e.key&&this.close()}setCustomRange(e,t){const n={...this.state,[e]:t},r=[n.rel,n.num,n.grain].join(" ");this.setState(Ce(r))}setCustomStartEnd(e,t){const n="since"===e&&"days"===this.state.sinceViewMode||"until"===e&&"days"===this.state.untilViewMode;this.setState(r=>({type:se.CUSTOM_START_END,[e]:"string"==typeof t?t:t.format(pe),showSinceCalendar:r.showSinceCalendar&&!n,showUntilCalendar:r.showUntilCalendar&&!n,sinceViewMode:n?"days":r.sinceViewMode,untilViewMode:n?"days":r.untilViewMode}))}setTypeCustomRange(){this.setState({type:se.CUSTOM_RANGE})}setTypeCustomStartEnd(){this.setState({type:se.CUSTOM_START_END})}changeTab(){const{tab:e}=this.state;e===le.CUSTOM?this.setState({tab:le.DEFAULTS}):e===le.DEFAULTS&&this.setState({tab:le.CUSTOM})}handleClick(e){const{target:t}=e;this.startEndSectionRef&&this.startEndSectionRef.contains(t)&&this.setTypeCustomStartEnd(),"popover-trigger"!==t.getAttribute("name")&&this.popoverContainer&&!this.popoverContainer.contains(t)&&this.props.onCloseDateFilterControl()}close(){let e;e=this.state.type===se.DEFAULTS||this.state.tab===le.DEFAULTS?this.state.common:this.state.type===se.CUSTOM_RANGE?`${this.state.rel} ${this.state.num} ${this.state.grain}`:[this.state.since,this.state.until].join(" : "),this.props.onCloseDateFilterControl(),this.props.onChange(e),this.setState({showSinceCalendar:!1,showUntilCalendar:!1,popoverVisible:!1})}isValidSince(e){return!ve(this.state.until)||e<=Z()(this.state.until,pe)}isValidUntil(e){return!ve(this.state.since)||e>=Z()(this.state.since,pe)}toggleCalendar(e){const t={};"showSinceCalendar"===e?(t.showSinceCalendar=!this.state.showSinceCalendar,this.state.showSinceCalendar||(t.showUntilCalendar=!1)):"showUntilCalendar"===e&&(t.showUntilCalendar=!this.state.showUntilCalendar,this.state.showUntilCalendar||(t.showSinceCalendar=!1)),this.setState(t)}handleVisibleChange(e){e?this.props.onOpenDateFilterControl():this.props.onCloseDateFilterControl(),this.setState({popoverVisible:e})}renderInput(e,t){return Object(ie.f)(V.a,null,Object(ie.f)(q.a,{bsSize:"small"},Object(ie.f)($.a,F()({},e,{type:"text",onKeyPress:this.onEnter,onFocus:this.setTypeCustomStartEnd,onClick:()=>{}})),Object(ie.f)(q.a.Button,{onClick:()=>this.toggleCalendar(t)},Object(ie.f)(M.a,null,Object(ie.f)("i",{className:"fa fa-calendar"})))))}renderPopover(){const e=v()(de).call(de,e=>Object(ie.f)(Y.u.Option,{key:e,value:e,active:e===this.state.grain},e)),t=v()(ue).call(ue,e=>{const t=Oe(e),n=Object(ne.b)(t.since,t.until);return Object(ie.f)(xe,{key:e},Object(ie.f)(z.a,{id:`tooltip-${e}`,key:e,placement:"right",title:Object(ne.c)(n,this.props.endpoints)},Object(ie.f)("div",{style:{display:"inline-block"}},Object(ie.f)(G.a,{key:e.replace(" ","").toLowerCase(),checked:this.state.common===e,onChange:()=>this.setState(t)},e))))});return Object(ie.f)(we,{id:"filter-popover",ref:e=>{this.popoverContainer=e}},Object(ie.f)(te.c,{defaultActiveKey:this.state.tab===le.DEFAULTS?"1":"2",id:"type",className:"time-filter-tabs",onChange:this.changeTab},Object(ie.f)(te.c.TabPane,{key:"1",tab:"Defaults",forceRender:!0},Object(ie.f)("div",{className:"timeframes-container"},Object(ie.f)(V.a,null,t))),Object(ie.f)(te.c.TabPane,{key:"2",tab:"Custom"},Object(ie.f)(V.a,null,Object(ie.f)(oe.a,{title:"Relative to today",isSelected:this.state.type===se.CUSTOM_RANGE,onSelect:this.setTypeCustomRange},Object(ie.f)("div",{className:"relative-timerange-container clearfix centered"},Object(ie.f)(Y.u,{value:this.state.rel,onSelect:e=>this.setCustomRange("rel",e),onFocus:this.setTypeCustomRange},Object(ie.f)(Y.u.Option,{value:ce.LAST},"Last"),Object(ie.f)(Y.u.Option,{value:ce.NEXT},"Next")),Object(ie.f)(Y.m,{className:"timerange-input",type:"text",onChange:e=>this.setCustomRange("num",e.target.value),onFocus:this.setTypeCustomRange,onPressEnter:this.close,value:this.state.num}),Object(ie.f)(Y.u,{value:this.state.grain,onFocus:this.setTypeCustomRange,onSelect:e=>this.setCustomRange("grain",e),dropdownMatchSelectWidth:!1},e))),Object(ie.f)(oe.a,{title:"Start / end",isSelected:this.state.type===se.CUSTOM_START_END,onSelect:this.setTypeCustomStartEnd,info:ge},Object(ie.f)("div",{ref:e=>{this.startEndSectionRef=e}},Object(ie.f)(q.a,null,Object(ie.f)(Q.a,{className:"datetime",inputProps:{"data-test":"date-from-input"},value:this.state.since,defaultValue:this.state.since,viewDate:this.state.since,onChange:e=>this.setCustomStartEnd("since",e),isValidDate:this.isValidSince,onClick:this.setTypeCustomStartEnd,renderInput:e=>this.renderInput(e,"showSinceCalendar"),open:this.state.showSinceCalendar,viewMode:this.state.sinceViewMode,onViewModeChange:e=>this.setState({sinceViewMode:e})}),Object(ie.f)(Q.a,{className:"datetime",inputProps:{"data-test":"date-to-input"},value:this.state.until,defaultValue:this.state.until,viewDate:this.state.until,onChange:e=>this.setCustomStartEnd("until",e),isValidDate:this.isValidUntil,onClick:this.setTypeCustomStartEnd,renderInput:e=>this.renderInput(e,"showUntilCalendar"),open:this.state.showUntilCalendar,viewMode:this.state.untilViewMode,onViewModeChange:e=>this.setState({untilViewMode:e})}))))))),Object(ie.f)("div",{className:"clearfix"},Object(ie.f)(M.a,{buttonSize:"small",className:"float-right ok",buttonStyle:"primary",onClick:this.close},"Ok")))}render(){const e=this.props.value||me.value;return Object(ie.f)("div",null,Object(ie.f)(ae.a,this.props),Object(ie.f)(W.a,{trigger:"click",placement:"right",content:this.renderPopover(),visible:this.state.popoverVisible,onVisibleChange:this.handleVisibleChange},Object(ie.f)(re.a,{name:"popover-trigger",className:"pointer"},Object(ne.c)(e,this.props.endpoints))))}}var je=Object(ee.c)(_e);_e.propTypes=be,_e.defaultProps=me;var Se=n(1040),Ee=n(880),Te=n(567),De=n(136),ke=n(424),Me=n(53);n(2117);const Re={time_range:"__time_range",granularity_sqla:"__time_col",time_grain_sqla:"__time_grain",druid_time_origin:"__time_origin",granularity:"__granularity"},Pe=Re.time_range,Ae={chartId:T.a.number.isRequired,origSelectedValues:T.a.object,datasource:T.a.object.isRequired,instantFiltering:T.a.bool,filtersFields:T.a.arrayOf(T.a.shape({field:T.a.string,label:T.a.string})),filtersChoices:T.a.objectOf(T.a.arrayOf(T.a.shape({id:T.a.string,text:T.a.string,filter:T.a.string,metric:T.a.number}))),onChange:T.a.func,onFilterMenuOpen:T.a.func,onFilterMenuClose:T.a.func,showDateFilter:T.a.bool,showSqlaTimeGrain:T.a.bool,showSqlaTimeColumn:T.a.bool,showDruidTimeGrain:T.a.bool,showDruidTimeOrigin:T.a.bool};class Ne extends S.a.PureComponent{constructor(e){var t,n,r,a;super(e),this.onCloseDateFilterControl=()=>this.onFilterMenuClose(Pe),this.state={selectedValues:e.origSelectedValues,hasChanged:!1},this.debouncerCache={},this.maxValueCache={},this.changeFilter=x()(t=this.changeFilter).call(t,this),this.onFilterMenuOpen=x()(n=this.onFilterMenuOpen).call(n,this),this.onOpenDateFilterControl=x()(r=this.onOpenDateFilterControl).call(r,this),this.onFilterMenuClose=x()(a=this.onFilterMenuClose).call(a,this)}onFilterMenuOpen(e){return this.props.onFilterMenuOpen(this.props.chartId,e)}onFilterMenuClose(e){return this.props.onFilterMenuClose(this.props.chartId,e)}onOpenDateFilterControl(){return this.onFilterMenuOpen(Pe)}getControlData(e){const{selectedValues:t}=this.state,n={...Te.a[e],name:e,key:`control-${e}`,value:t[Re[e]],actions:{setControlValue:this.changeFilter}},r=n.mapStateToProps;return r?{...n,...r(this.props)}:n}getKnownMax(e,t){return this.maxValueCache[e]=Math.max(this.maxValueCache[e]||0,Object(D.max)(t||this.props.filtersChoices[e]||[],e=>e.metric)),this.maxValueCache[e]}clickApply(){const{selectedValues:e}=this.state;this.setState({hasChanged:!1},()=>{this.props.onChange(e,!1)})}changeFilter(e,t){const n=Re[e]||e;let r=null;null!==t&&(r=O()(t)?v()(t).call(t,e=>"string"==typeof e?e:e.value):t.value?t.value:t),this.setState(e=>({selectedValues:{...e.selectedValues,[n]:r},hasChanged:!0}),()=>{this.props.instantFiltering&&this.props.onChange({[n]:r},!1)})}debounceLoadOptions(e){return e in this.debouncerCache||(this.debouncerCache[e]=_()((t,n)=>{this.loadOptions(e,t).then(n)},500)),this.debouncerCache[e]}transformOptions(e,t){const n=void 0===t?Object(D.max)(e,e=>e.metric):t;return v()(e).call(e,e=>{const t=Math.round(e.metric/n*100),r={backgroundImage:`linear-gradient(to right, lightgrey, lightgrey ${t}%, rgba(0,0,0,0) ${t}%`};let a=e.id;return!0===a?a=A.b:!1===a&&(a=A.a),{value:e.id,label:a,style:r}})}async loadOptions(e,t=""){var n,r,a;const o=t.toLowerCase(),i=b()(n=this.props.filtersFields).call(n,t=>t.key===e).asc,s={...this.props.rawFormData,adhoc_filters:t?[{clause:"WHERE",comparator:null,expressionType:"SQL",sqlExpression:`lower(${e}) like '%${o}%'`}]:null},{json:l}=await R.a.get({url:Object(De.h)({formData:s,endpointType:"json",method:"GET"})}),c=h()(r=(null==l?void 0:null==(a=l.data)?void 0:a[e])||[]).call(r,e=>e.id);return c&&0!==c.length?(o&&p()(c).call(c,(e,t)=>{const n=e.id.toLowerCase(),r=t.id.toLowerCase(),a=u()(r).call(r,o)-u()(n).call(n,o);return 0===a?(e.metric-t.metric)*(i?1:-1):a}),this.transformOptions(c,this.getKnownMax(e,c))):[]}renderDateFilter(){const{showDateFilter:e}=this.props,t=Me.m.time_range;return e?Object(ie.f)("div",{className:"row space-1"},Object(ie.f)("div",{className:"col-lg-12 col-xs-12 filter-container"},Object(ie.f)(je,{name:Pe,label:t,description:Object(P.e)("Select start and end date"),onChange:e=>{this.changeFilter(Pe,e)},onOpenDateFilterControl:this.onOpenDateFilterControl,onCloseDateFilterControl:this.onCloseDateFilterControl,value:this.state.selectedValues[Pe]||"No filter"}))):null}renderDatasourceFilters(){const{showSqlaTimeGrain:e,showSqlaTimeColumn:t,showDruidTimeGrain:n,showDruidTimeOrigin:r}=this.props,a=[],o=[],i=[];return e&&o.push("time_grain_sqla"),t&&o.push("granularity_sqla"),n&&i.push("granularity"),r&&i.push("druid_time_origin"),o.length&&a.push(Object(ie.f)(Se.a,{key:"sqla-filters",className:"control-row",controls:v()(o).call(o,e=>Object(ie.f)(Ee.a,this.getControlData(e)))})),i.length&&a.push(Object(ie.f)(Se.a,{key:"druid-filters",className:"control-row",controls:v()(i).call(i,e=>Object(ie.f)(Ee.a,this.getControlData(e)))})),a}renderSelect(e){var t,n;const{filtersChoices:r}=this.props,{selectedValues:o}=this.state;this.debouncerCache={},this.maxValueCache={},l()(t=h()(n=i()(o)).call(n,e=>o.hasOwnProperty(e)&&e in r)).call(t,e=>{var t;const n=r[e]||(r[e]=[]),i=new a.a(v()(n).call(n,e=>e.id)),s=O()(o[e])?o[e]:[o[e]];l()(t=h()(s).call(s,e=>null!==e&&!i.has(e))).call(t,t=>{n.unshift({filter:e,id:t,text:t,metric:0})})});const{key:s,label:c}=e,u=r[s]||[];let d=o[s]||null;return void 0===d&&e[Me.f.DEFAULT_VALUE]&&(d=e[Me.f.MULTIPLE]?e[Me.f.DEFAULT_VALUE].split(";"):e[Me.f.DEFAULT_VALUE]),Object(ie.f)(ke.a,{cacheOptions:!0,loadOptions:this.debounceLoadOptions(s),defaultOptions:this.transformOptions(u),key:s,placeholder:Object(P.e)("Type or Select [%s]",c),isMulti:e[Me.f.MULTIPLE],isClearable:e[Me.f.CLEARABLE],value:d,options:this.transformOptions(u),onChange:e=>{e!==d&&this.changeFilter(s,e)},onMenuOpen:()=>this.onFilterMenuOpen(s),onBlur:()=>this.onFilterMenuClose(s),onMenuClose:()=>this.onFilterMenuClose(s),selectWrap:e[Me.f.SEARCH_ALL_OPTIONS]&&u.length>=Me.g?k.a:k.c,noResultsText:Object(P.e)("No results found"),forceOverflow:!0})}renderFilters(){const{filtersFields:e=[]}=this.props;return v()(e).call(e,e=>{const{label:t,key:n}=e;return Object(ie.f)("div",{key:n,className:"m-b-5 filter-container"},Object(ie.f)(N.a,{htmlFor:`LABEL-${n}`},t),this.renderSelect(e))})}render(){var e;const{instantFiltering:t,width:n,height:r}=this.props;return Object(ie.f)("div",{style:{width:n,height:r,overflow:"auto"}},this.renderDateFilter(),this.renderDatasourceFilters(),this.renderFilters(),!t&&Object(ie.f)(M.a,{buttonSize:"small",buttonStyle:"primary",onClick:x()(e=this.clickApply).call(e,this),disabled:!this.state.hasChanged},Object(P.e)("Apply")))}}Ne.propTypes=Ae,Ne.defaultProps={origSelectedValues:{},onChange:()=>{},onFilterMenuOpen:()=>{},onFilterMenuClose:()=>{},showDateFilter:!1,showSqlaTimeGrain:!1,showSqlaTimeColumn:!1,showDruidTimeGrain:!1,showDruidTimeOrigin:!1,instantFiltering:!1};t.default=Ne},567:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(310),a=n.n(r),o=n(243),i=n.n(o),s=n(5),l=n.n(s),c=(n(250),n(24)),u=n.n(c),d=n(65),p=n.n(d),f=(n(0),n(308)),h=n(463),g=n(7),b=n(989),m=n(840),v=n(198),y=n(215),O=n(53),C=n(1);const x=Object(f.a)(),w=Object(h.a)(),_={verbose_name:"Time",column_name:"__timestamp",description:Object(g.e)("A reference to the [Time] configuration, taking granularity into account")},j={type:"SelectControl",multi:!0,freeForm:!0,label:Object(g.e)("Group by"),default:[],includeTime:!1,description:Object(g.e)("One or many controls to group by"),optionRenderer:e=>Object(C.f)(v.a,{column:e,showType:!0}),valueRenderer:e=>Object(C.f)(v.a,{column:e}),valueKey:"column_name",allowAll:!0,filterOption:({data:e},t)=>{var n,r;return e.column_name&&p()(n=e.column_name.toLowerCase()).call(n,t.toLowerCase())>=0||e.verbose_name&&p()(r=e.verbose_name.toLowerCase()).call(r,t.toLowerCase())>=0},promptTextCreator:e=>e,mapStateToProps:(e,t)=>{const n={};var r;e.datasource&&(n.options=u()(r=e.datasource.columns).call(r,e=>e.groupby),t&&t.includeTime&&n.options.push(_));return n},commaChoosesOption:!1},S={type:"MetricsControl",multi:!0,label:Object(g.e)("Metrics"),validators:[b.a],default:e=>{const t=Object(y.d)(e.savedMetrics);return t?[t]:null},mapStateToProps:e=>{const{datasource:t}=e;return{columns:t?t.columns:[],savedMetrics:t?t.metrics:[],datasourceType:t&&t.type}},description:Object(g.e)("One or many metrics to display")},E={...S,multi:!1,label:Object(g.e)("Metric"),description:Object(g.e)("Metric"),default:e=>Object(y.d)(e.savedMetrics)};const T={metrics:S,metric:E,datasource:{type:"DatasourceControl",label:Object(g.e)("Dataset"),default:null,description:null,mapStateToProps:({datasource:e})=>({datasource:e,isEditable:!!e})},viz_type:{type:"VizTypeControl",label:Object(g.e)("Visualization Type"),default:"table",description:Object(g.e)("The type of visualization to display")},color_picker:{label:Object(g.e)("Fixed Color"),description:Object(g.e)("Use this to define a static color for all circles"),type:"ColorPickerControl",default:{r:0,g:122,b:135,a:1},renderTrigger:!0},metric_2:{...E,label:Object(g.e)("Right Axis Metric"),clearable:!0,description:Object(g.e)("Choose a metric for right axis")},linear_color_scheme:{type:"ColorSchemeControl",label:Object(g.e)("Linear Color Scheme"),choices:()=>{var e;return l()(e=i()(w).call(w)).call(e,e=>[e.id,e.label])},default:w.getDefaultKey(),clearable:!1,description:"",renderTrigger:!0,schemes:()=>w.getMap(),isLinear:!0},secondary_metric:{...E,label:Object(g.e)("Color Metric"),default:null,validators:[],description:Object(g.e)("A metric to use for color")},groupby:j,columns:{...j,label:Object(g.e)("Columns"),description:Object(g.e)("One or many controls to pivot as columns")},druid_time_origin:{type:"SelectControl",freeForm:!0,label:O.m.druid_time_origin,choices:[["","default"],["now","now"]],default:null,description:Object(g.e)("Defines the origin where time buckets start, accepts natural dates as in `now`, `sunday` or `1970-01-01`")},granularity:{type:"SelectControl",freeForm:!0,label:O.m.granularity,default:"one day",choices:[[null,"all"],["PT5S","5 seconds"],["PT30S","30 seconds"],["PT1M","1 minute"],["PT5M","5 minutes"],["PT30M","30 minutes"],["PT1H","1 hour"],["PT6H","6 hour"],["P1D","1 day"],["P7D","7 days"],["P1W","week"],["week_starting_sunday","week starting Sunday"],["week_ending_saturday","week ending Saturday"],["P1M","month"],["P3M","quarter"],["P1Y","year"]],description:Object(g.e)("The time granularity for the visualization. Note that you can type and use simple natural language as in `10 seconds`, `1 day` or `56 weeks`")},granularity_sqla:{type:"SelectControl",label:O.m.granularity_sqla,description:Object(g.e)("The time column for the visualization. Note that you can define arbitrary expression that return a DATETIME column in the table. Also note that the filter below is applied against this column or expression"),clearable:!1,optionRenderer:e=>Object(C.f)(v.a,{column:e,showType:!0}),valueRenderer:e=>Object(C.f)(v.a,{column:e}),valueKey:"column_name",mapStateToProps:e=>{const t={};return e.datasource&&(t.choices=e.datasource.granularity_sqla,t.default=null,e.datasource.main_dttm_col?t.default=e.datasource.main_dttm_col:t.choices&&t.choices.length>0&&(t.default=t.choices[0].column_name)),t}},time_grain_sqla:{type:"SelectControl",label:O.m.time_grain_sqla,default:"P1D",description:Object(g.e)("The time granularity for the visualization. This applies a date transformation to alter your time column and defines a new time granularity. The options here are defined on a per database engine basis in the Superset source code."),mapStateToProps:e=>({choices:e.datasource?e.datasource.time_grain_sqla:null})},time_range:{type:"DateFilterControl",freeForm:!0,label:O.m.time_range,default:Object(g.e)("Last week"),description:Object(g.e)('The time range for the visualization. All relative times, e.g. "Last month", "Last 7 days", "now", etc. are evaluated on the server using the server\'s local time (sans timezone). All tooltips and placeholder times are expressed in UTC (sans timezone). The timestamps are then evaluated by the database using the engine\'s local timezone. Note one can explicitly set the timezone per the ISO 8601 format if specifying either the start and/or end time.'),mapStateToProps:e=>({endpoints:e.form_data?e.form_data.time_range_endpoints:null})},row_limit:{type:"SelectControl",freeForm:!0,label:Object(g.e)("Row limit"),validators:[m.a],default:1e4,choices:Object(y.a)([10,50,100,250,500,1e3,5e3,1e4,5e4])},limit:{type:"SelectControl",freeForm:!0,label:Object(g.e)("Series limit"),validators:[m.a],choices:Object(y.a)([0,5,10,25,50,100,500]),description:Object(g.e)("Limits the number of time series that get displayed. A sub query (or an extra phase where sub queries are not supported) is applied to limit the number of time series that get fetched and displayed. This feature is useful when grouping by high cardinality dimension(s).")},timeseries_limit_metric:{type:"MetricsControl",label:Object(g.e)("Sort By"),default:null,clearable:!0,description:Object(g.e)("Metric used to define the top series"),mapStateToProps:e=>({columns:e.datasource?e.datasource.columns:[],savedMetrics:e.datasource?e.datasource.metrics:[],datasourceType:e.datasource&&e.datasource.type})},series:{...j,label:Object(g.e)("Series"),multi:!1,default:null,description:Object(g.e)("Defines the grouping of entities. Each series is shown as a specific color on the chart and has a legend toggle")},entity:{...j,label:Object(g.e)("Entity"),default:null,multi:!1,validators:[b.a],description:Object(g.e)("This defines the element to be plotted on the chart")},x:{...E,label:Object(g.e)("X Axis"),description:Object(g.e)("Metric assigned to the [X] axis"),default:null},y:{...E,label:Object(g.e)("Y Axis"),default:null,description:Object(g.e)("Metric assigned to the [Y] axis")},size:{...E,label:Object(g.e)("Bubble Size"),default:null},y_axis_format:{type:"SelectControl",freeForm:!0,label:Object(g.e)("Y Axis Format"),renderTrigger:!0,default:"SMART_NUMBER",choices:[["SMART_NUMBER","Adaptative formating"],["~g","Original value"],[",d",",d (12345.432 => 12,345)"],[".1s",".1s (12345.432 => 10k)"],[".3s",".3s (12345.432 => 12.3k)"],[",.1%",",.1% (12345.432 => 1,234,543.2%)"],[".3%",".3% (12345.432 => 1234543.200%)"],[".4r",".4r (12345.432 => 12350)"],[",.3f",",.3f (12345.432 => 12,345.432)"],["+,","+, (12345.432 => +12,345.432)"],["$,.2f","$,.2f (12345.432 => $12,345.43)"],["DURATION","Duration in ms (66000 => 1m 6s)"],["DURATION_SUB","Duration in ms (100.40008 => 100ms 400µs 80ns)"]],description:"D3 format syntax: https://github.com/d3/d3-format",mapStateToProps:e=>{const t=e.controls&&e.controls.comparison_type&&"percentage"===e.controls.comparison_type.value;return{warning:t?Object(g.e)('When `Calculation type` is set to "Percentage change", the Y Axis Format is forced to `.1%`'):null,disabled:t}}},adhoc_filters:{type:"AdhocFilterControl",label:Object(g.e)("Filters"),default:null,description:"",mapStateToProps:e=>{var t;return{columns:e.datasource?u()(t=e.datasource.columns).call(t,e=>e.filterable):[],savedMetrics:e.datasource?e.datasource.metrics:[],datasource:e.datasource}},provideFormDataToProps:!0},color_scheme:{type:"ColorSchemeControl",label:Object(g.e)("Color Scheme"),default:x.getDefaultKey(),renderTrigger:!0,choices:()=>{var e;return l()(e=a()(x).call(x)).call(e,e=>[e,e])},description:Object(g.e)("The color scheme for rendering chart"),schemes:()=>x.getMap()},label_colors:{type:"ColorMapControl",label:Object(g.e)("Color Map"),default:{},renderTrigger:!0,mapStateToProps:e=>({colorNamespace:e.form_data.color_namespace,colorScheme:e.form_data.color_scheme})}}},568:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));const r="YYYY-MM-DD HH:mm:ssZ",a="HH:mm:ss.SSS",o="True",i="False"},58:function(e,t,n){"use strict";n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return C})),n.d(t,"d",(function(){return x})),n.d(t,"j",(function(){return w})),n.d(t,"h",(function(){return _})),n.d(t,"i",(function(){return j})),n.d(t,"k",(function(){return S})),n.d(t,"m",(function(){return E})),n.d(t,"l",(function(){return D})),n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return R}));n(34);var r=n(45),a=n.n(r),o=n(61),i=n.n(o),s=n(79),l=n.n(s),c=n(5),u=n.n(c),d=n(72),p=n(7),f=n(216),h=n(62),g=n(82),b=n.n(g),m=n(66);const v=e=>(t,n,r,a)=>async(o="",i,s)=>{const c=`/api/v1/${t}/${e}/${n}`,p=a&&0===i?[{label:"me",value:a}]:[];try{var f;const e=b.a.encode({...i?{page:i}:{},...s?{page_size:s}:{},...o?{filter:o}:{}}),{json:t={}}=await d.a.get({endpoint:`${c}?q=${e}`}),n=null==t?void 0:null==(f=t.result)?void 0:u()(f).call(f,({text:e,value:t})=>({label:e,value:t}));return l()(p).call(p,n)}catch(e){r(e)}return[]},y=(e,t,n)=>{const r=e=>{const t={order_column:"changed_on_delta_humanized",order_direction:"desc",page:0,page_size:3,filters:e};return e||delete t.filters,b.a.encode(t)},o={edited:[{col:"changed_by",opr:"rel_o_m",value:`${e}`}],created:[{col:"created_by",opr:"rel_o_m",value:`${e}`}]},s=[d.a.get({endpoint:t}),d.a.get({endpoint:`/api/v1/dashboard/?q=${r(o.edited)}`}),d.a.get({endpoint:`/api/v1/chart/?q=${r(o.edited)}`}),d.a.get({endpoint:`/api/v1/dashboard/?q=${r(o.created)}`}),d.a.get({endpoint:`/api/v1/chart/?q=${r(o.created)}`}),d.a.get({endpoint:`/api/v1/saved_query/?q=${r(o.created)}`})];return i.a.all(s).then(([e,t,o,s,l,c])=>{var u,f,h,g,b,m,v,y,O,C;const x={editedDash:null==(u=t.json)?void 0:a()(f=u.result).call(f,0,3),editedChart:null==(h=o.json)?void 0:a()(g=h.result).call(g,0,3),createdByDash:null==(b=s.json)?void 0:a()(m=b.result).call(m,0,3),createdByChart:null==(v=l.json)?void 0:a()(y=v.result).call(y,0,3),createdByQuery:null==(O=c.json)?void 0:a()(C=O.result).call(C,0,3)};if(0===e.json.length){const e=[d.a.get({endpoint:`/api/v1/chart/?q=${r()}`}),d.a.get({endpoint:`/api/v1/dashboard/?q=${r()}`})];return i.a.all(e).then(([e,t])=>(x.examples=[...e.json.result,...t.json.result],x)).catch(e=>n(Object(p.e)("There was an error fetching your recent activity:"),e))}return x.viewed=e.json,x})},O=v("related"),C=v("distinct");function x(e){return async t=>{const n=await Object(m.a)(t);f.a.error(t),e(n.message||n.error)}}function w({id:e,slice_name:t},n,r,a,o,i){const s={pageIndex:0,pageSize:3,sortBy:[{id:"changed_on_delta_humanized",desc:!0}],filters:[{id:"created_by",operator:"rel_o_m",value:`${i}`}]};d.a.delete({endpoint:`/api/v1/chart/${e}`}).then(()=>{"Mine"===o?a(s):a(),n(Object(p.e)("Deleted: %s",t))},()=>{r(Object(p.e)("There was an issue deleting: %s",t))})}function _(e){return window.location.assign(`/api/v1/chart/export/?q=${b.a.encode(u()(e).call(e,({id:e})=>e))}`)}function j(e){return window.location.assign(`/api/v1/dashboard/export/?q=${b.a.encode(u()(e).call(e,({id:e})=>e))}`)}function S({id:e,dashboard_title:t},n,r,a,o,i){return d.a.delete({endpoint:`/api/v1/dashboard/${e}`}).then(()=>{"Mine"===o?n({pageIndex:0,pageSize:3,sortBy:[{id:"changed_on_delta_humanized",desc:!0}],filters:[{id:"owners",operator:"rel_m_m",value:`${i}`}]}):n(),r(Object(p.e)("Deleted: %s",t))},x(e=>a(Object(p.e)("There was an issue deleting %s: %s",t,e))))}function E(e,t){let n=e.split("\n");return n.length>=t&&(n=a()(n).call(n,0,t),n.push("...")),n.join("\n")}const T=[576,768,992,1200],D=u()(T).call(T,e=>`@media (max-width: ${e}px)`),k=h.c.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(31%, 31%));
  ${[D[3]]} {
    grid-template-columns: repeat(auto-fit, minmax(31%, 31%));
  }

  ${[D[2]]} {
    grid-template-columns: repeat(auto-fit, minmax(48%, 48%));
  }

  ${[D[1]]} {
    grid-template-columns: repeat(auto-fit, minmax(50%, 80%));
  }
  grid-gap: ${({theme:e})=>8*e.gridUnit}px;
  justify-content: left;
  padding: ${({theme:e})=>6*e.gridUnit}px;
  padding-top: ${({theme:e})=>2*e.gridUnit}px;
`,M=h.c.div`
  cursor: pointer;
  a {
    text-decoration: none;
  }
`,R=h.c.div`
  svg {
    vertical-align: -7px;
    color: ${({theme:e})=>e.colors.primary.dark1};
  }
`},781:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n(34);var r=n(5),a=n.n(r),o=n(6),i=n.n(o),s=n(566),l=n.n(s),c=n(0),u=n.n(c),d=n(2),p=n.n(d),f=n(70),h=n(103),g=n(119),b=(n(1080),n(1));const m={description:p.a.string,label:p.a.string.isRequired,name:p.a.string.isRequired,onChange:p.a.func,value:p.a.string,clearable:p.a.bool,default:p.a.string,choices:p.a.oneOfType([p.a.arrayOf(p.a.array),p.a.func]),schemes:p.a.oneOfType([p.a.object,p.a.func]),isLinear:p.a.bool};class v extends u.a.PureComponent{constructor(e){var t,n;super(e),this.onChange=i()(t=this.onChange).call(t,this),this.renderOption=i()(n=this.renderOption).call(n,this)}onChange(e){const t=e?e.value:null;this.props.onChange(t)}renderOption(e){const{isLinear:t}=this.props,n=this.schemes[e.value];let r=[];return n&&(r=t?n.getColors(10):n.colors),Object(b.f)(g.a,{label:`${n.id}-tooltip`,tooltip:n.label},Object(b.f)("ul",{className:"color-scheme-container"},a()(r).call(r,(e,t)=>Object(b.f)("li",{key:`${n.id}-${t}`,style:{backgroundColor:e,border:`1px solid ${"white"===e?"black":e}`}}," "))))}render(){var e;const{schemes:t,choices:n}=this.props;this.schemes=l()(t)?t():t;const r=a()(e=l()(n)?n():n).call(e,([e,t])=>{var n;return{value:e,label:(null==(n=this.schemes[e])?void 0:n.label)||t}}),o={multi:!1,name:`select-${this.props.name}`,placeholder:`Select (${r.length})`,default:this.props.default,options:r,value:this.props.value,autosize:!1,clearable:this.props.clearable,onChange:this.onChange,optionRenderer:this.renderOption,valueRenderer:this.renderOption};return Object(b.f)("div",null,Object(b.f)(h.a,this.props),Object(b.f)(f.f,o))}}v.propTypes=m,v.defaultProps={choices:[],schemes:{},clearable:!1,onChange:()=>{}}},806:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.END_DRAG=t.DROP=t.HOVER=t.PUBLISH_DRAG_SOURCE=t.BEGIN_DRAG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.beginDrag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0,clientOffset:null},n=t.publishSource,r=t.clientOffset,s=t.getSourceClientOffset;(0,a.default)((0,o.default)(e),"Expected sourceIds to be an array.");var l=this.getMonitor(),u=this.getRegistry();(0,a.default)(!l.isDragging(),"Cannot call beginDrag while dragging.");for(var d=0;d<e.length;d++)(0,a.default)(u.getSource(e[d]),"Expected sourceIds to be registered.");for(var p=null,f=e.length-1;f>=0;f--)if(l.canDragSource(e[f])){p=e[f];break}if(null===p)return;var h=null;r&&((0,a.default)("function"==typeof s,"When clientOffset is provided, getSourceClientOffset must be a function."),h=s(p));var g=u.getSource(p),b=g.beginDrag(l,p);(0,a.default)((0,i.default)(b),"Item must be an object."),u.pinSource(p);var m=u.getSourceType(p);return{type:c,itemType:m,item:b,sourceId:p,clientOffset:r,sourceClientOffset:h,isSourcePublic:n}},t.publishDragSource=function(){if(!this.getMonitor().isDragging())return;return{type:u}},t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.clientOffset,r=void 0===n?null:n;(0,a.default)((0,o.default)(e),"Expected targetIds to be an array.");var i=e.slice(0),l=this.getMonitor(),c=this.getRegistry();(0,a.default)(l.isDragging(),"Cannot call hover while not dragging."),(0,a.default)(!l.didDrop(),"Cannot call hover after drop.");for(var u=0;u<i.length;u++){var p=i[u];(0,a.default)(i.lastIndexOf(p)===u,"Expected targetIds to be unique in the passed array.");var f=c.getTarget(p);(0,a.default)(f,"Expected targetIds to be registered.")}for(var h=l.getItemType(),g=i.length-1;g>=0;g--){var b=i[g],m=c.getTargetType(b);(0,s.default)(m,h)||i.splice(g,1)}for(var v=0;v<i.length;v++){var y=i[v],O=c.getTarget(y);O.hover(l,y)}return{type:d,targetIds:i,clientOffset:r}},t.drop=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.getMonitor(),o=this.getRegistry();(0,a.default)(n.isDragging(),"Cannot call drop while not dragging."),(0,a.default)(!n.didDrop(),"Cannot call drop twice during one drag operation.");var s=n.getTargetIds().filter(n.canDropOnTarget,n);s.reverse(),s.forEach((function(s,l){var c=o.getTarget(s).drop(n,s);(0,a.default)(void 0===c||(0,i.default)(c),"Drop result must either be an object or undefined."),void 0===c&&(c=0===l?{}:n.getDropResult()),e.store.dispatch({type:p,dropResult:r({},t,c)})}))},t.endDrag=function(){var e=this.getMonitor(),t=this.getRegistry();(0,a.default)(e.isDragging(),"Cannot call endDrag while not dragging.");var n=e.getSourceId();return t.getSource(n,true).endDrag(e,n),t.unpinSource(),{type:f}};var a=l(n(137)),o=l(n(235)),i=l(n(440)),s=l(n(1069));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",u=t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",d=t.HOVER="dnd-core/HOVER",p=t.DROP="dnd-core/DROP",f=t.END_DRAG="dnd-core/END_DRAG"},807:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSource=function(e){return{type:r,sourceId:e}},t.addTarget=function(e){return{type:a,targetId:e}},t.removeSource=function(e){return{type:o,sourceId:e}},t.removeTarget=function(e){return{type:i,targetId:e}};var r=t.ADD_SOURCE="dnd-core/ADD_SOURCE",a=t.ADD_TARGET="dnd-core/ADD_TARGET",o=t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",i=t.REMOVE_TARGET="dnd-core/REMOVE_TARGET"},808:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){0}},836:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEmptyImage=t.NativeTypes=void 0,t.default=function(e){return new r.default(e)};var r=i(n(1416)),a=i(n(1422)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(941));function i(e){return e&&e.__esModule?e:{default:e}}t.NativeTypes=o,t.getEmptyImage=a.default},864:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(6),a=n.n(r),o=n(208),i=n.n(o),s=n(0),l=n.n(s),c=n(2),u=n.n(c),d=n(571),p=n(537),f=n(7),h=n(33),g=n(195),b=n(194),m=n(103),v=n(1);const y={name:u.a.string,onChange:u.a.func,value:u.a.string,height:u.a.number,minLines:u.a.number,maxLines:u.a.number,offerEditInModal:u.a.bool,language:u.a.oneOf([null,"json","html","sql","markdown","javascript"]),aboveEditorSection:u.a.node,readOnly:u.a.bool};class O extends l.a.Component{constructor(){super(),this.onAceChangeDebounce=i()(e=>{this.onAceChange(e)},300)}onControlChange(e){this.props.onChange(e.target.value)}onAceChange(e){this.props.onChange(e)}renderEditor(e=!1){var t;const n=this.props.value||"",r=e?40:this.props.minLines||12;if(this.props.language){const t={border:"1px solid #CCC"};return this.props.readOnly&&(t.backgroundColor="#f2f2f2"),Object(v.f)(g.g,{mode:this.props.language,style:t,minLines:r,maxLines:e?1e3:this.props.maxLines,onChange:this.onAceChangeDebounce,width:"100%",height:`${r}em`,editorProps:{$blockScrolling:!0},value:n,readOnly:this.props.readOnly})}return Object(v.f)(d.a,{controlId:"formControlsTextarea"},Object(v.f)(p.a,{componentClass:"textarea",placeholder:Object(f.e)("textarea"),onChange:a()(t=this.onControlChange).call(t,this),value:n,disabled:this.props.readOnly,style:{height:this.props.height}}))}renderModalBody(){return Object(v.f)("div",null,Object(v.f)("div",null,this.props.aboveEditorSection),this.renderEditor(!0))}render(){const e=Object(v.f)(m.a,this.props);return Object(v.f)("div",null,e,this.renderEditor(),this.props.offerEditInModal&&Object(v.f)(b.a,{modalTitle:e,triggerNode:Object(v.f)(h.a,{buttonSize:"small",className:"m-t-5"},Object(f.e)("Edit")," ",Object(v.f)("strong",null,this.props.language)," ",Object(f.e)("in modal")),modalBody:this.renderModalBody(!0),responsive:!0}))}}O.propTypes=y,O.defaultProps={onChange:()=>{},value:"",height:250,minLines:3,maxLines:10,offerEditInModal:!0,readOnly:!1}},871:function(e,t,n){"use strict";n(34);var r=n(45),a=n.n(r),o=n(28),i=n.n(o),s=n(1039),l=n.n(s),c=n(5),u=n.n(c),d=n(79),p=n.n(d),f=n(24),h=n.n(f),g=n(87),b=n.n(g),m=n(0),v=n.n(m),y=n(2),O=n.n(y),C=n(1201),x=n(1005),w=n(537),_=n(345),j=n(7),S=n(336),E=n(60),T=n(86),D=n(135),k=n(103),M=(n(1078),n(1));const R={description:O.a.string,label:O.a.string,name:O.a.string.isRequired,onChange:O.a.func,value:O.a.string.isRequired,labelBsStyle:O.a.string},P=Object(_.a)(),A=["line","big_number","table","filter_box","dist_bar","area","bar","deck_polygon","pie","time_table","pivot_table","histogram","big_number_total","deck_scatter","deck_hex","time_pivot","deck_arc","heatmap","deck_grid","dual_line","deck_screengrid","line_multi","treemap","box_plot","sunburst","sankey","word_cloud","mapbox","kepler","cal_heatmap","rose","bubble","deck_geojson","horizon","deck_multi","compare","partition","event_flow","deck_path","directed_force","world_map","paired_ttest","para","country_map"],N=new b.a(A);function I({vizType:e}){return Object(S.c)().loading||P.has(e)?null:Object(M.f)("div",{className:"text-danger"},Object(M.f)("i",{className:"fa fa-exclamation-circle text-danger"})," ",Object(M.f)("small",null,Object(j.e)("This visualization type is not supported.")))}const F=e=>{var t,n,r,o,s,c;const[d,f]=Object(m.useState)(!1),[g,b]=Object(m.useState)(""),y=Object(m.useRef)(null);Object(m.useEffect)(()=>{var e;d&&(null==y||null==(e=y.current)||e.focus())},[d]);const O=()=>{f(e=>!e)},_=t=>{const{value:n}=e,{key:r,value:a}=t,o=r===n;return Object(M.f)("div",{role:"button",tabIndex:0,className:`viztype-selector-container ${o?"selected":""}`,onClick:()=>{return t=r,e.onChange(t),void f(!1);var t}},Object(M.f)("img",{alt:a.name,width:"100%",className:`viztype-selector ${o?"selected":""}`,src:a.thumbnail}),Object(M.f)("div",{className:"viztype-label"},a.name))},{value:S,labelBsStyle:R}=e,F=g.toLowerCase(),L=h()(t=p()(n=u()(r=h()(o=h()(A).call(A,e=>P.has(e))).call(o,e=>!P.get(e).isNativeFilter)).call(r,e=>({key:e,value:P.get(e)}))).call(n,h()(s=h()(c=l()(P).call(P)).call(c,e=>!e.value.isNativeFilter)).call(s,({key:e})=>!N.has(e)))).call(t,e=>{var t;return i()(t=e.value.name.toLowerCase()).call(t,F)}),B=[];for(let e=0;e<=L.length;e+=6){var U;B.push(Object(M.f)(C.a,{key:`row-${e}`},u()(U=a()(L).call(L,e,e+6)).call(U,e=>Object(M.f)(x.a,{md:2,key:`grid-col-${e.key}`},_(e)))))}return Object(M.f)("div",null,Object(M.f)(k.a,e),Object(M.f)(E.a,{id:"error-tooltip",placement:"right",title:Object(j.e)("Click to change visualization type")},Object(M.f)(v.a.Fragment,null,Object(M.f)(D.a,{onClick:O,bsStyle:R},P.has(S)?P.get(S).name:`${S}`),Object(M.f)(I,{vizType:S}))),Object(M.f)(T.b,{show:d,onHide:O,onEnter:()=>{y&&y.focus()},title:Object(j.e)("Select a visualization type"),responsive:!0,hideFooter:!0,forceRender:!0},Object(M.f)("div",{className:"viztype-control-search-box"},Object(M.f)(w.a,{inputRef:e=>{y.current=e},type:"text",value:g,placeholder:Object(j.e)("Search"),onChange:e=>{b(e.target.value)}})),B))};F.propTypes=R,F.defaultProps={onChange:()=>{},labelBsStyle:"default"},t.a=F},872:function(e,t,n){"use strict";n(34);var r=n(5),a=n.n(r),o=n(102),i=n.n(o),s=n(0),l=n.n(s),c=n(1719),u=n(33),d=n(62),p=n(72),f=n(7),h=n(86),g=n(354),b=n(40),m=n(66),v=n(75),y=n(1);const O=Object(g.a)(()=>Promise.all([n.e(0),n.e(13),n.e(44)]).then(n.bind(null,1725))),C=Object(d.c)(h.b)`
  .modal-content {
    height: 900px;
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }

  .modal-header {
    flex: 0 1 auto;
  }
  .modal-body {
    flex: 1 1 auto;
    overflow: auto;
  }

  .modal-footer {
    flex: 0 1 auto;
  }
`;function x(e){var t,n;return null!=e&&e.certified_by||null!=e&&e.certification_details?i()({certification:{certified_by:null!=(t=null==e?void 0:e.certified_by)?t:null,details:null!=(n=null==e?void 0:e.certification_details)?n:null}}):null}t.a=Object(v.a)(({addSuccessToast:e,datasource:t,onDatasourceSave:n,onHide:r,show:o})=>{const[i,d]=Object(s.useState)(t),[g,v]=Object(s.useState)([]),[w,_]=Object(s.useState)(!1),j=Object(s.useRef)(null),[S,E]=h.b.useModal(),T=()=>{var t,o,s;const l=(null==(t=i.tableSelector)?void 0:t.schema)||(null==(o=i.databaseSelector)?void 0:o.schema)||i.schema;_(!0),p.a.post({endpoint:"/datasource/save/",postPayload:{data:{...i,schema:l,metrics:null==i?void 0:null==(s=i.metrics)?void 0:a()(s).call(s,e=>({...e,extra:x(e)})),type:i.type||i.datasource_type}}}).then(({json:t})=>{e(Object(f.e)("The dataset has been saved")),n(t),r()}).catch(e=>{_(!1),Object(m.a)(e).then(({error:e})=>{S.error({title:"Error",content:e||Object(f.e)("An error has occurred"),okButtonProps:{danger:!0,className:"btn-danger"}})})})},D=()=>{var e;null==(e=j.current)||e.destroy()};return Object(y.f)(C,{show:o,onHide:r,title:Object(y.f)("span",null,Object(f.e)("Edit Dataset "),Object(y.f)("strong",null,i.table_name)),footer:Object(y.f)(l.a.Fragment,null,Object(b.c)(b.a.ENABLE_REACT_CRUD_VIEWS)&&Object(y.f)(u.a,{buttonSize:"sm",buttonStyle:"default",className:"m-r-5",onClick:()=>{window.location.href=i.edit_url||i.url}},Object(f.e)("Use Legacy Datasource Editor")),Object(y.f)(u.a,{buttonSize:"sm",buttonStyle:"primary",className:"m-r-5",onClick:()=>{j.current=S.confirm({title:Object(f.e)("Confirm save"),content:Object(y.f)("div",null,Object(y.f)(c.a,{bsStyle:"warning",className:"pointer",onClick:D},Object(y.f)("div",null,Object(y.f)("i",{className:"fa fa-exclamation-triangle"})," ",Object(f.e)("The dataset configuration exposed here\n                affects all the charts using this dataset.\n                Be mindful that changing settings\n                here may affect other charts\n                in undesirable ways."))),Object(f.e)("Are you sure you want to save and apply changes?")),onOk:T,icon:null})},disabled:w||g.length>0},Object(f.e)("Save")),Object(y.f)(u.a,{buttonSize:"sm",onClick:r},Object(f.e)("Cancel"))),responsive:!0},Object(y.f)(O,{showLoadingForImport:!0,height:500,datasource:i,onChange:(e,t)=>{var n;d({...e,metrics:null==e?void 0:a()(n=e.metrics).call(n,e=>({...e,is_certified:(null==e?void 0:e.certified_by)||(null==e?void 0:e.certification_details)}))}),v(t)}}),E)})},880:function(e,t,n){"use strict";n.d(t,"a",(function(){return La}));var r=n(23),a=n.n(r),o=n(6),i=n.n(o),s=n(0),l=n.n(s),c=(n(34),n(24)),u=n.n(c),d=n(5),p=n.n(d),f=n(28),h=n.n(f),g=n(42),b=n.n(g),m=n(2),v=n.n(m),y=n(1715),O=n(3042),C=n(80),x=n(7),w=n(187),_=n(144),j=n(178),S=n(354),E=n(136),T=n(121),D=n(1);const k=Object(S.a)(()=>n.e(58).then(n.bind(null,3593)),()=>Object(D.f)("div",{style:{width:450,height:368}})),M={colorScheme:v.a.string.isRequired,annotationError:v.a.object,annotationQuery:v.a.object,vizType:v.a.string,validationErrors:v.a.array,name:v.a.string.isRequired,actions:v.a.object,value:v.a.arrayOf(v.a.object),onChange:v.a.func,refreshAnnotationData:v.a.func};class R extends l.a.PureComponent{constructor(e){var t,n,r;super(e),this.state={popoverVisible:{},addedAnnotationIndex:null},this.addAnnotationLayer=i()(t=this.addAnnotationLayer).call(t,this),this.removeAnnotationLayer=i()(n=this.removeAnnotationLayer).call(n,this),this.handleVisibleChange=i()(r=this.handleVisibleChange).call(r,this)}componentDidMount(){k.preload()}UNSAFE_componentWillReceiveProps(e){const{name:t,annotationError:n,validationErrors:r,value:a}=e;b()(n).length&&!r.length&&this.props.actions.setControlValue(t,a,b()(n)),!b()(n).length&&r.length&&this.props.actions.setControlValue(t,a,[])}addAnnotationLayer(e,t){let n=this.props.value;h()(n).call(n,e)?n=p()(n).call(n,n=>n===e?t:n):(n=[...n,t],this.setState({addedAnnotationIndex:n.length-1})),this.props.refreshAnnotationData(t),this.props.onChange(n)}handleVisibleChange(e,t){this.setState(n=>({popoverVisible:{...n.popoverVisible,[t]:e}}))}removeAnnotationLayer(e){var t;const n=u()(t=this.props.value).call(t,t=>t!==e);this.props.onChange(n)}renderPopover(e,t,n){const r=(null==t?void 0:t.name)||"_new";return Object(D.f)("div",{id:`annotation-pop-${r}`},Object(D.f)(k,a()({},t,{error:n,colorScheme:this.props.colorScheme,vizType:this.props.vizType,addAnnotationLayer:e=>this.addAnnotationLayer(t,e),removeAnnotationLayer:()=>this.removeAnnotationLayer(t),close:()=>{this.handleVisibleChange(!1,e),this.setState({addedAnnotationIndex:null})}})))}renderInfo(e){const{annotationError:t,annotationQuery:n}=this.props;return n[e.name]?Object(D.f)("i",{className:"fa fa-refresh",style:{color:"orange"},"aria-hidden":!0}):t[e.name]?Object(D.f)(_.a,{label:"validation-errors",bsStyle:"danger",tooltip:t[e.name]}):e.show?"":Object(D.f)("span",{style:{color:"red"}}," Hidden ")}render(){var e;const{addedAnnotationIndex:t}=this.state,n=this.props.value[t],r=p()(e=this.props.value).call(e,(e,t)=>Object(D.f)(j.a,{key:t,trigger:"click",placement:"right",title:Object(x.e)("Edit Annotation Layer"),content:this.renderPopover(t,e,this.props.annotationError[e.name]),visible:this.state.popoverVisible[t],onVisibleChange:e=>this.handleVisibleChange(e,t)},Object(D.f)(y.a,null,Object(D.f)("span",null,e.name),Object(D.f)("span",{style:{float:"right"}},this.renderInfo(e)))));return Object(D.f)("div",null,Object(D.f)(O.a,null,r,Object(D.f)(j.a,{trigger:"click",placement:"right",content:this.renderPopover("add",n),title:Object(x.e)("Add Annotation Layer"),visible:this.state.popoverVisible.add,destroyTooltipOnHide:!0,onVisibleChange:e=>this.handleVisibleChange(e,"add")},Object(D.f)(y.a,null,Object(D.f)("i",{className:"fa fa-plus"})," ","  ",Object(x.e)("Add Annotation Layer")))))}}R.propTypes=M,R.defaultProps={vizType:"",value:[],annotationError:{},annotationQuery:{},onChange:()=>{}};const P=Object(w.c)(R);var A=Object(C.b)((function({charts:e,explore:t}){var n,r;const a=e[Object(E.f)(t)]||e[0]||{};return{colorScheme:null==(n=t.controls)?void 0:null==(r=n.color_scheme)?void 0:r.value,annotationError:a.annotationError,annotationQuery:a.annotationQuery,vizType:t.controls.viz_type.value}}),(function(e){return{refreshAnnotationData:t=>e(Object(T.runAnnotationQuery)(t))}}))(P),N=n(481),I=n.n(N),F=n(245),L=n.n(F),B=n(571),U=n(1201),H=n(1005),V=n(537),q=n(103);const $={onChange:v.a.func,value:v.a.array};class G extends l.a.Component{constructor(e){var t,n,r;super(e),this.state={minMax:[null===e.value[0]?"":e.value[0],null===e.value[1]?"":e.value[1]]},this.onChange=i()(t=this.onChange).call(t,this),this.onMinChange=i()(n=this.onMinChange).call(n,this),this.onMaxChange=i()(r=this.onMaxChange).call(r,this)}onMinChange(e){const t=e.target.value;this.setState(e=>({minMax:[t,e.minMax[1]]}),this.onChange)}onMaxChange(e){const t=e.target.value;this.setState(e=>({minMax:[e.minMax[0],t]}),this.onChange)}onChange(){const e=this.state.minMax,t=[];e[0]&&L()(Number(e[0]))&&t.push(Object(x.e)("`Min` value should be numeric or empty")),e[1]&&L()(Number(e[1]))&&t.push(Object(x.e)("`Max` value should be numeric or empty")),0===t.length?this.props.onChange([I()(e[0]),I()(e[1])],t):this.props.onChange([null,null],t)}render(){return Object(D.f)("div",null,Object(D.f)(q.a,this.props),Object(D.f)(B.a,{bsSize:"small"},Object(D.f)(U.a,null,Object(D.f)(H.a,{xs:6},Object(D.f)(V.a,{type:"text",placeholder:Object(x.e)("Min"),onChange:this.onMinChange,value:this.state.minMax[0]})),Object(D.f)(H.a,{xs:6},Object(D.f)(V.a,{type:"text",placeholder:Object(x.e)("Max"),onChange:this.onMaxChange,value:this.state.minMax[1]})))))}}G.propTypes=$,G.defaultProps={onChange:()=>{},value:[null,null]};var z=n(394),W=n(79),Y=n.n(W),X=n(76),Q=n.n(X),K=n(124),Z=n.n(K),J=n(320);n(1333);const ee={name:v.a.string.isRequired,label:v.a.string,description:v.a.string,placeholder:v.a.string,addTooltip:v.a.string,itemGenerator:v.a.func,keyAccessor:v.a.func,onChange:v.a.func,value:v.a.oneOfType([v.a.array]),isFloat:v.a.bool,isInt:v.a.bool,controlName:v.a.string.isRequired},te={label:null,description:null,onChange:()=>{},placeholder:"Empty collection",itemGenerator:()=>({key:Z.a.generate()}),keyAccessor:e=>e.key,value:[],addTooltip:"Add an item"},ne=Object(J.b)(y.a),re=Object(J.a)(O.a),ae=Object(J.c)(()=>Object(D.f)("i",{className:"fa fa-bars text-primary",style:{cursor:"ns-resize"}}));class oe extends l.a.Component{constructor(e){var t;super(e),this.onAdd=i()(t=this.onAdd).call(t,this)}onChange(e,t){Q()(this.props.value[e],t),this.props.onChange(this.props.value)}onAdd(){var e;this.props.onChange(Y()(e=this.props.value).call(e,[this.props.itemGenerator()]))}onSortEnd({oldIndex:e,newIndex:t}){this.props.onChange(Object(J.d)(this.props.value,e,t))}removeItem(e){var t;this.props.onChange(u()(t=this.props.value).call(t,(t,n)=>e!==n))}renderList(){var e,t;if(0===this.props.value.length)return Object(D.f)("div",{className:"text-muted"},this.props.placeholder);const n=Fa[this.props.controlName];return Object(D.f)(re,{useDragHandle:!0,lockAxis:"y",onSortEnd:i()(e=this.onSortEnd).call(e,this)},p()(t=this.props.value).call(t,(e,t)=>{var r,o;const{label:s,...l}=this.props;return Object(D.f)(ne,{className:"clearfix",key:this.props.keyAccessor(e),index:t},Object(D.f)("div",{className:"pull-left m-r-5"},Object(D.f)(ae,null)),Object(D.f)("div",{className:"pull-left"},Object(D.f)(n,a()({},l,e,{onChange:i()(r=this.onChange).call(r,this,t)}))),Object(D.f)("div",{className:"pull-right"},Object(D.f)(_.a,{icon:"times",label:"remove-item",tooltip:"remove item",bsStyle:"primary",onClick:i()(o=this.removeItem).call(o,this,t)})))}))}render(){return Object(D.f)("div",{className:"CollectionControl"},Object(D.f)(q.a,this.props),this.renderList(),Object(D.f)(_.a,{icon:"plus-circle",label:"add-item",tooltip:this.props.addTooltip,bsStyle:"primary",className:"fa-lg",onClick:this.onAdd}))}}oe.propTypes=ee,oe.defaultProps=te;var ie=n(17),se=n.n(ie),le=n(1437);const ce={onChange:v.a.func,value:v.a.object,colorScheme:v.a.string,colorNamespace:v.a.string},ue={onChange:()=>{},value:{},colorScheme:void 0,colorNamespace:void 0};class de extends l.a.PureComponent{constructor(e){var t;super(e),se()(t=b()(this.props.value)).call(t,e=>{le.b.getScale(this.props.colorScheme,this.props.colorNamespace).setColor(e,this.props.value[e])})}render(){return null}}de.propTypes=ce,de.defaultProps=ue;var pe=n(1081),fe=n(308);const he={onChange:v.a.func,value:v.a.object},ge={position:"absolute",width:"50px",height:"20px",top:"0px",left:"0px",right:"0px",bottom:"0px"},be={swatch:{width:"50px",height:"20px",position:"relative",padding:"5px",borderRadius:"1px",display:"inline-block",cursor:"pointer",boxShadow:"rgba(0, 0, 0, 0.15) 0px 0px 0px 1px inset, rgba(0, 0, 0, 0.25) 0px 0px 4px inset"},color:{...ge,borderRadius:"2px"},checkboard:{...ge,background:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==") left center'}};class me extends l.a.Component{constructor(e){var t;super(e),this.onChange=i()(t=this.onChange).call(t,this)}onChange(e){this.props.onChange(e.rgb)}renderPopover(){var e;const t=u()(e=Object(fe.a)().get().colors).call(e,(e,t)=>t<7);return Object(D.f)("div",{id:"filter-popover",className:"color-popover"},Object(D.f)(pe.SketchPicker,{color:this.props.value,onChange:this.onChange,presetColors:t}))}render(){const e=this.props.value||{r:0,g:0,b:0,a:0},t={...be.color,background:`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`};return Object(D.f)("div",null,Object(D.f)(q.a,this.props),Object(D.f)(j.a,{trigger:"click",placement:"right",content:this.renderPopover()},Object(D.f)("div",{style:be.swatch},Object(D.f)("div",{style:be.checkboard}),Object(D.f)("div",{style:t}))))}}me.propTypes=he,me.defaultProps={onChange:()=>{}};var ve,ye=n(781),Oe=n(62),Ce=n(10),xe=n(60),we=n(31),_e=n(1719),je=n(72),Se=n(382),Ee=n(86),Te=n(33),De=n(154),ke=n(66),Me=n(169),Re=n(75);const Pe=Object(x.e)("Warning! Changing the dataset may break the chart if the metadata does not exist."),Ae=Object(x.e)("Changing the dataset may break the chart if the chart relies on columns or metadata that does not exist in the target dataset"),Ne=Oe.c.div`
  .btn-container {
    display: flex;
    justify-content: flex-end;
    padding: 0px 15px;
    margin: 10px 0 0 0;
  }

  .confirm-modal-container {
    margin: 9px;
  }
`,Ie=Oe.c.span`
  cursor: pointer;
  color: ${({theme:e})=>e.colors.primary.dark1};
  &: hover {
    color: ${({theme:e})=>e.colors.primary.dark2};
  }
`,Fe=p()(ve=["name","type","schema","connection","creator"]).call(ve,e=>({accessor:e,Header:e})),Le={pageIndex:0,pageSize:20,filters:[],sortBy:[{id:"changed_on_delta_humanized"}]};var Be=Object(Re.a)(({addDangerToast:e,addSuccessToast:t,onChange:n,onDatasourceSave:r,onHide:a,show:o})=>{const[i,c]=Object(s.useState)(void 0),[u,d]=Object(s.useState)(!1),[f,h]=Object(s.useState)();let g=Object(s.useRef)(null);const{state:{loading:b,resourceCollection:m},fetchData:v}=Object(De.e)("dataset",Object(x.e)("dataset"),e),y=Object(s.useCallback)(e=>{d(!0),h(e)},[]);Object(E.n)(()=>{v({...Le,...i&&{filters:[{id:"table_name",operator:"ct",value:i}]}})},1e3,[i]),Object(s.useEffect)(()=>{o&&(async()=>{g&&g.current&&g.current.focus()})()},[e,v,n,r,a,y,o]);return Object(D.f)(Ee.b,{show:o,onHide:a,responsive:!0,title:Object(x.e)("Change Dataset"),height:"350px",footer:Object(D.f)(l.a.Fragment,null,u&&Object(D.f)(Ne,null,Object(D.f)("div",{className:"btn-container"},Object(D.f)(Te.a,{onClick:()=>{d(!1)}},"Cancel"),Object(D.f)(Te.a,{className:"proceed-btn",buttonStyle:"primary",onClick:()=>{je.a.get({endpoint:`/datasource/get/${null==f?void 0:f.type}/${null==f?void 0:f.id}`}).then(({json:e})=>{r(e),n(`${null==f?void 0:f.id}__table`)}).catch(t=>{Object(ke.a)(t).then(({error:t,message:n})=>{const r=t?t.error||t.statusText||t:n;e(r)})}),a(),t("Successfully changed dataset!")}},"Proceed"))))},Object(D.f)(l.a.Fragment,null,!u&&Object(D.f)(l.a.Fragment,null,Object(D.f)(_e.a,{bsStyle:"warning"},Object(D.f)("strong",null,Object(x.e)("Warning!"))," ",Ae),Object(D.f)("div",null,Object(D.f)(V.a,{inputRef:e=>{(e=>{g=e})(e)},type:"text",bsSize:"sm",value:i,placeholder:Object(x.e)("Search / Filter"),onChange:e=>{var t,n;const r=null!=(t=null==(n=e.currentTarget)?void 0:n.value)?t:"";c(r)}})),b&&Object(D.f)(Me.a,null),!b&&Object(D.f)(Se.b,{columns:Fe,data:p()(m).call(m,e=>({rawName:e.table_name,connection:e.database.database_name,schema:e.schema,name:Object(D.f)(Ie,{role:"button",tabIndex:0,onClick:()=>y({type:"table",...e})},e.table_name),type:e.kind})),pageSize:20,className:"table-condensed",emptyWrapperType:Se.a.Small})),u&&Object(D.f)(l.a.Fragment,null,Pe)))}),Ue=n(872);const He={actions:v.a.object.isRequired,onChange:v.a.func,value:v.a.string,datasource:v.a.object.isRequired,isEditable:v.a.bool,onDatasourceSave:v.a.func},Ve=Oe.c.div`
  .data-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid ${({theme:e})=>e.colors.grayscale.light2};
    padding: ${({theme:e})=>2*e.gridUnit}px;
  }
  .ant-dropdown-trigger {
    margin-left: ${({theme:e})=>2*e.gridUnit}px;
    box-shadow: none;
    &:active {
      box-shadow: none;
    }
  }
  .btn-group .open .dropdown-toggle {
    box-shadow: none;
    &.button-default {
      background: none;
    }
  }
  i.angle {
    color: ${({theme:e})=>e.colors.primary.base};
  }
  svg.datasource-modal-trigger {
    color: ${({theme:e})=>e.colors.primary.base};
    cursor: pointer;
  }
  .title-select {
    flex: 1 1 100%;
    display: inline-block;
    background-color: ${({theme:e})=>e.colors.grayscale.light3};
    padding: ${({theme:e})=>2*e.gridUnit}px;
    border-radius: ${({theme:e})=>e.borderRadius}px;
    text-align: center;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
  .dataset-svg {
    margin-right: ${({theme:e})=>2*e.gridUnit}px;
  }
`;class qe extends l.a.PureComponent{constructor(e){var t,n,r,a,o;super(e),this.state={showEditDatasourceModal:!1,showChangeDatasourceModal:!1},this.onDatasourceSave=i()(t=this.onDatasourceSave).call(t,this),this.toggleChangeDatasourceModal=i()(n=this.toggleChangeDatasourceModal).call(n,this),this.toggleEditDatasourceModal=i()(r=this.toggleEditDatasourceModal).call(r,this),this.toggleShowDatasource=i()(a=this.toggleShowDatasource).call(a,this),this.handleMenuItemClick=i()(o=this.handleMenuItemClick).call(o,this)}onDatasourceSave(e){this.props.actions.setDatasource(e),this.props.onDatasourceSave&&this.props.onDatasourceSave(e)}toggleShowDatasource(){this.setState(({showDatasource:e})=>({showDatasource:!e}))}toggleChangeDatasourceModal(){this.setState(({showChangeDatasourceModal:e})=>({showChangeDatasourceModal:!e}))}toggleEditDatasourceModal(){this.setState(({showEditDatasourceModal:e})=>({showEditDatasourceModal:!e}))}handleMenuItemClick({key:e}){if("change_dataset"===e&&this.toggleChangeDatasourceModal(),"edit_dataset"===e&&this.toggleEditDatasourceModal(),"view_in_sql_lab"===e){const{datasource:e}=this.props,t={datasourceKey:`${e.id}__${e.type}`,sql:e.sql};Object(E.l)("/superset/sqllab",t)}}render(){const{showChangeDatasourceModal:e,showEditDatasourceModal:t}=this.state,{datasource:n,onChange:r}=this.props,a=Object(D.f)(Ce.o,{onClick:this.handleMenuItemClick},this.props.isEditable&&Object(D.f)(Ce.o.Item,{key:"edit_dataset"},Object(x.e)("Edit Dataset")),Object(D.f)(Ce.o.Item,{key:"change_dataset"},Object(x.e)("Change Dataset")),Object(D.f)(Ce.o.Item,{key:"view_in_sql_lab"},Object(x.e)("View in SQL Lab"))),{health_check_message:o}=n;return Object(D.f)(Ve,{className:"DatasourceControl"},Object(D.f)("div",{className:"data-container"},Object(D.f)(we.a,{name:"dataset-physical",className:"dataset-svg"}),Object(D.f)(xe.a,{title:n.name},Object(D.f)("span",{className:"title-select"},n.name)),o&&Object(D.f)(xe.a,{title:o},Object(D.f)(we.a,{name:"alert-solid",color:Oe.d.colors.warning.base})),Object(D.f)(Ce.j,{overlay:a,trigger:["click"]},Object(D.f)(xe.a,{title:Object(x.e)("More dataset related options")},Object(D.f)(we.a,{className:"datasource-modal-trigger",name:"more-horiz"})))),t&&Object(D.f)(Ue.a,{datasource:n,show:t,onDatasourceSave:this.onDatasourceSave,onHide:this.toggleEditDatasourceModal}),e&&Object(D.f)(Be,{onDatasourceSave:this.onDatasourceSave,onHide:this.toggleChangeDatasourceModal,show:e,onChange:r}))}}qe.propTypes=He,qe.defaultProps={onChange:()=>{},onDatasourceSave:null,value:null,isEditable:!0};var $e=qe,Ge=n(213),ze=n.n(Ge),We=n(82),Ye=n.n(We),Xe=n(242),Qe=n(135),Ke=n(70),Ze=n(45),Je=n.n(Ze),et=n(87),tt=n.n(et),nt=n(16),rt=n.n(nt);const at=[{value:"Common",label:Object(x.e)("Last")},{value:"Calendar",label:Object(x.e)("Previous")},{value:"Custom",label:Object(x.e)("Custom")},{value:"Advanced",label:Object(x.e)("Advanced")},{value:"No Filter",label:Object(x.e)("No Filter")}],ot=[{value:"Last day",label:Object(x.e)("last day")},{value:"Last week",label:Object(x.e)("last week")},{value:"Last month",label:Object(x.e)("last month")},{value:"Last quarter",label:Object(x.e)("last quarter")},{value:"Last year",label:Object(x.e)("last year")}],it=new tt.a(p()(ot).call(ot,({value:e})=>e)),st=[{value:"previous calendar week",label:Object(x.e)("previous calendar week")},{value:"previous calendar month",label:Object(x.e)("previous calendar month")},{value:"previous calendar year",label:Object(x.e)("previous calendar year")}],lt=new tt.a(p()(st).call(st,({value:e})=>e)),ct=[{value:"second",label:e=>`${Object(x.e)("Seconds")} ${e}`},{value:"minute",label:e=>`${Object(x.e)("Minutes")} ${e}`},{value:"hour",label:e=>`${Object(x.e)("Hours")} ${e}`},{value:"day",label:e=>`${Object(x.e)("Days")} ${e}`},{value:"week",label:e=>`${Object(x.e)("Weeks")} ${e}`},{value:"month",label:e=>`${Object(x.e)("Months")} ${e}`},{value:"quarter",label:e=>`${Object(x.e)("Quarters")} ${e}`},{value:"year",label:e=>`${Object(x.e)("Years")} ${e}`}],ut=p()(ct).call(ct,e=>({value:e.value,label:e.label(Object(x.e)("Before"))})),dt=p()(ct).call(ct,e=>({value:e.value,label:e.label(Object(x.e)("After"))})),pt=[{value:"specific",label:Object(x.e)("Specific Date/Time")},{value:"relative",label:Object(x.e)("Relative Date/Time")},{value:"now",label:Object(x.e)("Now")},{value:"today",label:Object(x.e)("Midnight")}],ft=Je()(pt).call(pt),ht=new tt.a(["Last day","Last week","Last month","Last quarter","Last year"]),gt=new tt.a(["previous calendar week","previous calendar month","previous calendar year"]),bt="YYYY-MM-DD[T]HH:mm:ss",mt=rt()().utc().startOf("day").subtract(7,"days").format(bt),vt=rt()().utc().startOf("day").format(bt);var yt=n(159),Ot=n.n(yt),Ct=n(536),xt=n.n(Ct);const wt=xt.a`\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.\d+)?(?:(?:[+-]\d\d:\d\d)|Z)?`,_t=xt.a`TODAY|NOW`,jt=xt.a`[+-]?[1-9][0-9]*`,St=xt.a`YEAR|QUARTER|MONTH|WEEK|DAY|HOUR|MINUTE|SECOND`,Et=RegExp(xt.a`^DATEADD\(DATETIME\("(${wt}|${_t})"\),\s(${jt}),\s(${St})\)$`,"i"),Tt=RegExp(xt.a`^${wt}$|^${_t}$`,"i"),Dt=["now","today"],kt={sinceDatetime:mt,sinceMode:"relative",sinceGrain:"day",sinceGrainValue:-7,untilDatetime:vt,untilMode:"specific",untilGrain:"day",untilGrainValue:7,anchorMode:"now",anchorValue:"now"},Mt=["specific","today","now"],Rt=e=>{const t=e.split(Xe.a);if(2===t.length){const[e,n]=t;if(Tt.test(e)&&Tt.test(n)){const t=h()(Dt).call(Dt,e)?e:"specific",r=h()(Dt).call(Dt,n)?n:"specific";return{customRange:{...kt,sinceDatetime:e,untilDatetime:n,sinceMode:t,untilMode:r},matchedFlag:!0}}const r=e.match(Et);if(r&&Tt.test(n)&&h()(e).call(e,n)){const[e,t,a]=Je()(r).call(r,1),o=h()(Dt).call(Dt,n)?n:"specific";return{customRange:{...kt,sinceGrain:a,sinceGrainValue:Ot()(t,10),untilDatetime:e,sinceMode:"relative",untilMode:o},matchedFlag:!0}}const a=n.match(Et);if(Tt.test(e)&&a&&h()(n).call(n,e)){const[t,n,r]=[...Je()(a).call(a,1)],o=h()(Dt).call(Dt,e)?e:"specific";return{customRange:{...kt,untilGrain:r,untilGrainValue:Ot()(n,10),sinceDatetime:t,untilMode:"relative",sinceMode:o},matchedFlag:!0}}if(r&&a){const[e,t,n]=[...Je()(r).call(r,1)],[o,i,s]=[...Je()(a).call(a,1)];if(e===o)return{customRange:{...kt,sinceGrain:n,sinceGrainValue:Ot()(t,10),untilGrain:s,untilGrainValue:Ot()(i,10),anchorValue:e,sinceMode:"relative",untilMode:"relative",anchorMode:"now"===e?"now":"specific"},matchedFlag:!0}}}return{customRange:kt,matchedFlag:!1}},Pt=e=>{const{sinceDatetime:t,sinceMode:n,sinceGrain:r,sinceGrainValue:a,untilDatetime:o,untilMode:i,untilGrain:s,untilGrainValue:l,anchorValue:c}={...e};if(h()(Mt).call(Mt,n)&&h()(Mt).call(Mt,i)){return`${"specific"===n?t:n} : ${"specific"===i?o:i}`}if(h()(Mt).call(Mt,n)&&"relative"===i){const e="specific"===n?t:n;return`${e} : ${`DATEADD(DATETIME("${e}"), ${l}, ${s})`}`}if("relative"===n&&h()(Mt).call(Mt,i)){const e="specific"===i?o:i;return`${`DATEADD(DATETIME("${e}"), ${-Math.abs(a)}, ${r})`} : ${e}`}return`${`DATEADD(DATETIME("${c}"), ${-Math.abs(a)}, ${r})`} : ${`DATEADD(DATETIME("${c}"), ${l}, ${s})`}`};function At(e){let t="Last week";return ht.has(e.value)?t=e.value:e.onChange(t),Object(D.f)(l.a.Fragment,null,Object(D.f)("div",{className:"section-title"},Object(x.e)("Configure Time Range: Last...")),Object(D.f)(Ce.s.Group,{value:t,onChange:t=>e.onChange(t.target.value)},p()(ot).call(ot,({value:e,label:t})=>Object(D.f)(Ce.s,{key:e,value:e,className:"vertical-radio"},t))))}function Nt(e){let t="previous calendar week";return gt.has(e.value)?t=e.value:e.onChange(t),Object(D.f)(l.a.Fragment,null,Object(D.f)("div",{className:"section-title"},Object(x.e)("Configure Time Range: Previous...")),Object(D.f)(Ce.s.Group,{value:t,onChange:t=>e.onChange(t.target.value)},p()(st).call(st,({value:e,label:t})=>Object(D.f)(Ce.s,{key:e,value:e,className:"vertical-radio"},t))))}var It=n(1270),Ft=n.n(It);const Lt=e=>"now"===e?rt()().utc().startOf("second"):"today"===e?rt()().utc().startOf("day"):rt()(e);function Bt(e){const{customRange:t,matchedFlag:n}=Rt(e.value);n||e.onChange(Pt(t));const{sinceDatetime:r,sinceMode:a,sinceGrain:o,sinceGrainValue:i,untilDatetime:s,untilMode:l,untilGrain:c,untilGrainValue:d,anchorValue:p,anchorMode:f}={...t};function h(n,r){e.onChange(Pt({...t,[n]:r}))}function g(n,r){Ft()(r)&&r>0&&e.onChange(Pt({...t,[n]:r}))}return Object(D.f)("div",null,Object(D.f)("div",{className:"section-title"},Object(x.e)("Configure Custom Time Range")),Object(D.f)(Ce.t,{gutter:24},Object(D.f)(Ce.f,{span:12},Object(D.f)("div",{className:"control-label"},Object(x.e)("START")),Object(D.f)(Ke.f,{options:pt,value:u()(pt).call(pt,e=>e.value===a),onChange:e=>h("sinceMode",e.value)}),"specific"===a&&Object(D.f)(Ce.t,null,Object(D.f)(Ce.h,{showTime:!0,value:Lt(r),onChange:e=>h("sinceDatetime",e.format(bt)),allowClear:!1})),"relative"===a&&Object(D.f)(Ce.t,{gutter:8},Object(D.f)(Ce.f,{span:11},Object(D.f)(Ce.n,{placeholder:Object(x.e)("Relative quantity"),value:Math.abs(i),min:1,defaultValue:1,onChange:e=>g("sinceGrainValue",e||1),onStep:e=>g("sinceGrainValue",e||1)})),Object(D.f)(Ce.f,{span:13},Object(D.f)(Ke.f,{options:ut,value:u()(ut).call(ut,e=>e.value===o),onChange:e=>h("sinceGrain",e.value)})))),Object(D.f)(Ce.f,{span:12},Object(D.f)("div",{className:"control-label"},Object(x.e)("END")),Object(D.f)(Ke.f,{options:ft,value:u()(ft).call(ft,e=>e.value===l),onChange:e=>h("untilMode",e.value)}),"specific"===l&&Object(D.f)(Ce.t,null,Object(D.f)(Ce.h,{showTime:!0,value:Lt(s),onChange:e=>h("untilDatetime",e.format(bt)),allowClear:!1})),"relative"===l&&Object(D.f)(Ce.t,{gutter:8},Object(D.f)(Ce.f,{span:11},Object(D.f)(Ce.n,{placeholder:Object(x.e)("Relative quantity"),value:d,min:1,defaultValue:1,onChange:e=>g("untilGrainValue",e||1),onStep:e=>g("untilGrainValue",e||1)})),Object(D.f)(Ce.f,{span:13},Object(D.f)(Ke.f,{options:dt,value:u()(dt).call(dt,e=>e.value===c),onChange:e=>h("untilGrain",e.value)}))))),"relative"===a&&"relative"===l&&Object(D.f)("div",{className:"control-anchor-to"},Object(D.f)("div",{className:"control-label"},Object(x.e)("ANCHOR TO")),Object(D.f)(Ce.t,{align:"middle"},Object(D.f)(Ce.f,null,Object(D.f)(Ce.s.Group,{onChange:function(n){const r=n.target.value;"now"===r?e.onChange(Pt({...t,anchorValue:"now",anchorMode:r})):e.onChange(Pt({...t,anchorValue:vt,anchorMode:r}))},defaultValue:"now",value:f},Object(D.f)(Ce.s,{key:"now",value:"now"},Object(x.e)("NOW")),Object(D.f)(Ce.s,{key:"specific",value:"specific"},Object(x.e)("Date/Time")))),"now"!==f&&Object(D.f)(Ce.f,null,Object(D.f)(Ce.h,{showTime:!0,value:Lt(p),onChange:e=>h("anchorValue",e.format(bt)),allowClear:!1,className:"control-anchor-to-datetime"})))))}function Ut(e){const[t,n]=function(e){if(h()(e).call(e,Xe.a))return e;if(ze()(e).call(e,"Last"))return[e,""].join(Xe.a);if(ze()(e).call(e,"Next"))return["",e].join(Xe.a);return Xe.a}(e.value||"").split(Xe.a);function r(r,a){"since"===r?e.onChange(`${a}${Xe.a}${n}`):e.onChange(`${t}${Xe.a}${a}`)}return Object(D.f)(l.a.Fragment,null,Object(D.f)("div",{className:"section-title"},Object(x.e)("Configure Advanced Time Range")),Object(D.f)("div",{className:"control-label"},Object(x.e)("START")),Object(D.f)(Ce.m,{key:"since",value:t,onChange:e=>r("since",e.target.value)}),Object(D.f)("div",{className:"control-label"},Object(x.e)("END")),Object(D.f)(Ce.m,{key:"until",value:n,onChange:e=>r("until",e.target.value)}))}const Ht=e=>it.has(e)?"Common":lt.has(e)?"Calendar":"No filter"===e?"No Filter":Rt(e).matchedFlag?"Custom":"Advanced",Vt=async(e,t)=>{const n=`/api/v1/time_range/?q=${Ye.a.encode(e)}`;try{var r,a,o,i;const e=await je.a.get({endpoint:n}),s=Object(Xe.b)((null==e?void 0:null==(r=e.json)?void 0:null==(a=r.result)?void 0:a.since)||"",(null==e?void 0:null==(o=e.json)?void 0:null==(i=o.result)?void 0:i.until)||"");return{value:Object(Xe.c)(s,t)}}catch(e){const t=await Object(ke.a)(e);return{error:t.message||t.error}}},qt=Object(Oe.c)(j.a)``,$t=Oe.c.div`
  .ant-row {
    margin-top: 8px;
  }

  .ant-input-number {
    width: 100%;
  }

  .frame-dropdown {
    width: 272px;
  }

  .ant-picker {
    padding: 4px 17px 4px;
    border-radius: 4px;
    width: 100%;
  }

  .ant-divider-horizontal {
    margin: 16px 0;
  }

  .control-label {
    font-size: 11px;
    font-weight: 500;
    color: #b2b2b2;
    line-height: 16px;
    text-transform: uppercase;
    margin: 8px 0;
  }

  .vertical-radio {
    display: block;
    height: 40px;
    line-height: 40px;
  }

  .section-title {
    font-style: normal;
    font-weight: 500;
    font-size: 15px;
    line-height: 24px;
    margin-bottom: 8px;
  }

  .control-anchor-to {
    margin-top: 16px;
  }

  .control-anchor-to-datetime {
    width: 217px;
  }

  .footer {
    text-align: right;
  }
`,Gt=Oe.c.span`
  svg {
    margin-right: ${({theme:e})=>2*e.gridUnit}px;
    vertical-align: middle;
  }
  .text {
    vertical-align: middle;
  }
  .error {
    color: ${({theme:e})=>e.colors.error.base};
  }
`;var zt=n(3057),Wt=n(391),Yt=n(65),Xt=n.n(Yt),Qt=n(1271),Kt=n.n(Qt),Zt=n(64),Jt=n.n(Zt),en=n(63),tn=n.n(en),nn=n(338),rn=n.n(nn),an=n(56),on=n.n(an),sn=n(881),ln=n.n(sn),cn=n(319),un=n.n(cn),dn=n(613),pn=n(198),fn=n(299),hn=v.a.shape({aggregate_name:v.a.string.isRequired});const gn={aggregate:hn,showType:v.a.bool};function bn({aggregate:e,showType:t}){return Object(D.f)("div",null,t&&Object(D.f)(fn.a,{type:"aggregate"}),Object(D.f)("span",{className:"m-r-5 option-label"},e.aggregate_name))}bn.propTypes=gn;var mn=v.a.shape({column_name:v.a.string.isRequired,type:v.a.string}),vn=v.a.shape({metric_name:v.a.string.isRequired,verbose_name:v.a.string,expression:v.a.string.isRequired});const yn={option:v.a.oneOfType([mn,vn,hn]).isRequired,addWarningToast:v.a.func.isRequired};function On({option:e,addWarningToast:t}){return e.metric_name?Object(D.f)(dn.a,{metric:e,showType:!0}):e.column_name?Object(D.f)(pn.a,{column:e,showType:!0}):e.aggregate_name?Object(D.f)(bn,{aggregate:e,showType:!0}):(t("You must supply either a saved metric, column or aggregate to MetricDefinitionOption"),null)}On.propTypes=yn;var Cn=Object(Re.a)(On),xn=n(1272),wn=n.n(xn),_n=n(53);const jn="SIMPLE",Sn="SQL";function En(e){if(e.sqlExpression&&_n.p.test(e.sqlExpression)){var t,n;const r=Xt()(t=e.sqlExpression).call(t,")"),a=wn()(n=e.sqlExpression.substring(0,r)).call(n,"(");if(r>0&&a>0)return e.sqlExpression.substring(a+1,r)}return null}function Tn(e){if(e.sqlExpression&&_n.p.test(e.sqlExpression)){var t;const n=Xt()(t=e.sqlExpression).call(t,"(");if(n>0)return e.sqlExpression.substring(0,n)}return null}class Dn{constructor(e){if(this.expressionType=e.expressionType||jn,this.expressionType===jn){const t=En(e);this.column=e.column||t&&{column_name:t},this.aggregate=e.aggregate||Tn(e),this.sqlExpression=null}else this.expressionType===Sn&&(this.sqlExpression=e.sqlExpression,this.column=null,this.aggregate=null);this.isNew=!!e.isNew,this.hasCustomLabel=!(!e.hasCustomLabel||!e.label),this.label=this.hasCustomLabel?e.label:this.getDefaultLabel(),this.optionName=e.optionName||`metric_${Math.random().toString(36).substring(2,15)}_${Math.random().toString(36).substring(2,15)}`}getDefaultLabel(){const e=this.translateToSql();return e.length<43?e:`${e.substring(0,40)}...`}translateToSql(){if(this.expressionType===jn){var e;return(this.aggregate||"")+(null!=(e=this.column)&&e.column_name?`(${this.column.column_name})`:"")}return this.expressionType===Sn?this.sqlExpression:""}duplicateWith(e){return new Dn({...this,isNew:!1,...e})}equals(e){return e.label===this.label&&e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.aggregate===this.aggregate&&(e.column&&e.column.column_name)===(this.column&&this.column.column_name)}isValid(){return this.expressionType===jn?!(!this.column||!this.aggregate):this.expressionType===Sn&&!!this.sqlExpression}inferSqlExpressionAggregate(){return Tn(this)}inferSqlExpressionColumn(){return En(this)}}var kn=n(11),Mn=n(425);const Rn=Oe.c.div`
  margin-bottom: ${({theme:e})=>e.gridUnit}px;
  :last-child {
    margin-bottom: 0;
  }
`,Pn=Oe.c.div`
  display: flex;
  align-items: center;
  width: 100%;
  font-size: ${({theme:e})=>e.typography.sizes.s}px;
  height: ${({theme:e})=>6*e.gridUnit}px;
  background-color: ${({theme:e})=>e.colors.grayscale.light3};
  border-radius: 3px;
  cursor: ${({isAdhoc:e})=>e?"pointer":"default"};
`,An=Oe.c.div`
  display: inline-block;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  align-items: center;
  white-space: nowrap;
  padding-left: ${({theme:e})=>e.gridUnit}px;
  svg {
    margin-right: ${({theme:e})=>e.gridUnit}px;
  }
  .option-label {
    display: inline;
  }
`,Nn=Oe.c.div`
  height: 100%;
  border-left: solid 1px ${({theme:e})=>e.colors.grayscale.dark2}0C;
  margin-left: auto;
`,In=Oe.c.div`
  height: 100%;
  width: ${({theme:e})=>6*e.gridUnit}px;
  border-right: solid 1px ${({theme:e})=>e.colors.grayscale.dark2}0C;
  cursor: pointer;
`,Fn=Oe.c.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
`,Ln=Oe.c.div`
  padding: ${({theme:e})=>e.gridUnit}px;
  border: solid 1px ${({theme:e})=>e.colors.grayscale.light2};
  border-radius: ${({theme:e})=>e.gridUnit}px;
`,Bn=Oe.c.div`
  display: flex;
  align-items: center;
  width: 100%;
  height: ${({theme:e})=>6*e.gridUnit}px;
  padding-left: ${({theme:e})=>e.gridUnit}px;
  font-size: ${({theme:e})=>e.typography.sizes.s}px;
  color: ${({theme:e})=>e.colors.grayscale.light1};
  border: dashed 1px ${({theme:e})=>e.colors.grayscale.light2};
  border-radius: ${({theme:e})=>e.gridUnit}px;
  cursor: pointer;

  :hover {
    background-color: ${({theme:e})=>e.colors.grayscale.light4};
  }

  :active {
    background-color: ${({theme:e})=>e.colors.grayscale.light3};
  }
`,Un=Oe.c.button`
  display: flex;
  align-items: center;
  justify-content: center;
  height: ${({theme:e})=>4*e.gridUnit}px;
  width: ${({theme:e})=>4*e.gridUnit}px;
  padding: 0;
  background-color: ${({theme:e})=>e.colors.primary.dark1};
  border: none;
  border-radius: 2px;

  :disabled {
    cursor: not-allowed;
    background-color: ${({theme:e})=>e.colors.grayscale.light1};
  }
`,Hn={beginDrag:({index:e,type:t})=>({index:e,type:t})},Vn={hover(e,t,n){var r;const{index:a,type:o}=t.getItem(),{index:i,type:s}=e;if(a===i||o!==s)return;const l=null==(r=Object(kn.findDOMNode)(n))?void 0:r.getBoundingClientRect(),c=(l.bottom-l.top)/2,u=t.getClientOffset().y-l.top;a<i&&u<c||a>i&&u>c||(null==e.onMoveLabel||e.onMoveLabel(a,i),t.getItem().index=i)},drop:e=>null==e.onDropLabel?void 0:e.onDropLabel()},qn=Object(Mn.DropTarget)("label-dnd",Vn,e=>({connectDropTarget:e.dropTarget()}))(Object(Mn.DragSource)("label-dnd",Hn,e=>({connectDragSource:e.dragSource(),isDraggable:!0}))(({label:e,savedMetric:t,onRemove:n,isAdhoc:r,isFunction:o,isDraggable:i,connectDragSource:s,connectDropTarget:l,...c})=>{const u=Object(Oe.e)(),d=()=>Object(D.f)(Pn,a()({isAdhoc:r},c),Object(D.f)(In,{role:"button",onClick:n},Object(D.f)(we.a,{name:"x-small",color:u.colors.grayscale.light1})),Object(D.f)(An,null,o&&Object(D.f)(we.a,{name:"function",viewBox:"0 0 16 11"}),(()=>{if(null!=t&&t.metric_name){const e={...t,column_name:""};return e.verbose_name||(e.verbose_name=e.metric_name),Object(D.f)(pn.a,{column:e})}return e})()),r&&Object(D.f)(Nn,null,Object(D.f)(we.a,{name:"caret-right",color:u.colors.grayscale.light1})));return Object(D.f)(Rn,null,i?s(l(Object(D.f)("div",null,d()))):d())}));qn.displayName="DraggableOptionControlLabel";const $n={title:v.a.shape({label:v.a.string,hasCustomLabel:v.a.bool}),onChange:v.a.func.isRequired};class Gn extends l.a.Component{constructor(e){var t,n,r,a,o;super(e),this.onMouseOver=i()(t=this.onMouseOver).call(t,this),this.onMouseOut=i()(n=this.onMouseOut).call(n,this),this.onClick=i()(r=this.onClick).call(r,this),this.onBlur=i()(a=this.onBlur).call(a,this),this.onInputBlur=i()(o=this.onInputBlur).call(o,this),this.state={isHovered:!1,isEditable:!1}}onMouseOver(){this.setState({isHovered:!0})}onMouseOut(){this.setState({isHovered:!1})}onClick(){this.setState({isEditable:!0})}onBlur(){this.setState({isEditable:!1})}onInputBlur(e){""===e.target.value&&this.props.onChange(e),this.onBlur()}render(){const{title:e,onChange:t}=this.props;return this.state.isEditable?Object(D.f)(V.a,{className:"metric-edit-popover-label-input",type:"text",placeholder:e.label,value:e.hasCustomLabel?e.label:"",autoFocus:!0,onChange:t,onBlur:this.onInputBlur}):Object(D.f)(xe.a,{placement:"top",title:"Click to edit label"},Object(D.f)("span",{className:"AdhocMetricEditPopoverTitle inline-editable",onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onClick:this.onClick,onBlur:this.onBlur,role:"button",tabIndex:0},e.hasCustomLabel?e.label:"My Metric"," ",Object(D.f)("i",{className:"fa fa-pencil",style:{color:this.state.isHovered?"black":"grey"}})))}}Gn.propTypes=$n;var zn=n(149),Wn=n.n(zn),Yn=n(127),Xn=n(186),Qn=n(125),Kn=n(195),Zn=n(426);const Jn={adhocMetric:v.a.instanceOf(Dn).isRequired,onChange:v.a.func.isRequired,onClose:v.a.func.isRequired,onResize:v.a.func.isRequired,columns:v.a.arrayOf(mn),savedMetrics:v.a.arrayOf(vn),savedMetric:vn,datasourceType:v.a.string,title:v.a.shape({label:v.a.string,hasCustomLabel:v.a.bool})},er=Oe.c.i`
  margin-left: ${({theme:e})=>2*e.gridUnit}px;
`,tr=Oe.c.span`
  .option-label {
    display: inline;
  }
`;class nr extends l.a.Component{constructor(e){var t,n,r,a,o,s,l,c,u,d,p;super(e),this.onSave=i()(t=this.onSave).call(t,this),this.onResetStateAndClose=i()(n=this.onResetStateAndClose).call(n,this),this.onColumnChange=i()(r=this.onColumnChange).call(r,this),this.onAggregateChange=i()(a=this.onAggregateChange).call(a,this),this.onSavedMetricChange=i()(o=this.onSavedMetricChange).call(o,this),this.onSqlExpressionChange=i()(s=this.onSqlExpressionChange).call(s,this),this.onDragDown=i()(l=this.onDragDown).call(l,this),this.onMouseMove=i()(c=this.onMouseMove).call(c,this),this.onMouseUp=i()(u=this.onMouseUp).call(u,this),this.handleAceEditorRef=i()(d=this.handleAceEditorRef).call(d,this),this.refreshAceEditor=i()(p=this.refreshAceEditor).call(p,this),this.state={adhocMetric:this.props.adhocMetric,savedMetric:this.props.savedMetric,width:320,height:240},document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)}onSave(){var e;const{title:t}=this.props,{hasCustomLabel:n}=t;let{label:r}=t;const{adhocMetric:a,savedMetric:o}=this.state,i=a.label;n||(r=i);const s=null!=o&&o.metric_name?o:a,l=null!=(e=this.props.savedMetric)&&e.metric_name?this.props.savedMetric:this.props.adhocMetric;this.props.onChange({...s,label:r,hasCustomLabel:n},l),this.props.onClose()}onResetStateAndClose(){this.setState({adhocMetric:this.props.adhocMetric,savedMetric:this.props.savedMetric},this.props.onClose)}onColumnChange(e){var t;const n=tn()(t=this.props.columns).call(t,t=>t.id===e);this.setState(e=>({adhocMetric:e.adhocMetric.duplicateWith({column:n,expressionType:jn}),savedMetric:void 0}))}onAggregateChange(e){this.setState(t=>({adhocMetric:t.adhocMetric.duplicateWith({aggregate:e,expressionType:jn}),savedMetric:void 0}))}onSavedMetricChange(e){var t;const n=tn()(t=this.props.savedMetrics).call(t,t=>t.id===e);this.setState(e=>({savedMetric:n,adhocMetric:e.adhocMetric.duplicateWith({column:void 0,aggregate:void 0,sqlExpression:void 0,expressionType:jn})}))}onSqlExpressionChange(e){this.setState(t=>({adhocMetric:t.adhocMetric.duplicateWith({sqlExpression:e,expressionType:Sn}),savedMetric:void 0}))}onDragDown(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener("mousemove",this.onMouseMove)}onMouseMove(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),320),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),240)})}onMouseUp(){document.removeEventListener("mousemove",this.onMouseMove)}handleAceEditorRef(e){e&&(this.aceEditorRef=e)}refreshAceEditor(){Wn()(()=>{this.aceEditorRef&&this.aceEditorRef.editor.resize()},0)}renderColumnOption(e){const t={...e};return t.metric_name&&!t.verbose_name&&(t.verbose_name=t.metric_name),Object(D.f)(tr,null,Object(D.f)(pn.a,{column:t,showType:!0}))}render(){var e;const{adhocMetric:t,savedMetric:n,columns:r,savedMetrics:o,onChange:i,onClose:s,onResize:l,datasourceType:c,...d}=this.props,{adhocMetric:f,savedMetric:h}=this.state,g=Y()(Zn.a).call(Zn.a,p()(r).call(r,e=>({name:e.column_name,value:e.column_name,score:50,meta:"column"}))),b=f.column&&f.column.column_name||f.inferSqlExpressionColumn(),m={placeholder:Object(x.e)("%s column(s)",r.length),value:b,onChange:this.onColumnChange,allowClear:!0,showSearch:!0,autoFocus:!b,filterOption:(e,t)=>{var n;return Xt()(n=t.filterBy.toLowerCase()).call(n,e.toLowerCase())>=0}},v={placeholder:Object(x.e)("%s aggregates(s)",_n.b.length),value:f.aggregate||f.inferSqlExpressionAggregate(),onChange:this.onAggregateChange,allowClear:!0,autoFocus:!!b,showSearch:!0},y={placeholder:Object(x.e)("%s saved metric(s)",null!=(e=null==o?void 0:o.length)?e:0),value:(null==h?void 0:h.verbose_name)||(null==h?void 0:h.metric_name),onChange:this.onSavedMetricChange,allowClear:!0,showSearch:!0,autoFocus:!0,filterOption:(e,t)=>{var n;return Xt()(n=t.filterBy.toLowerCase()).call(n,e.toLowerCase())>=0}};var O;"druid"===this.props.datasourceType&&(v.options=u()(O=v.options).call(O,e=>"AVG"!==e));const C=f.isValid()||(null==h?void 0:h.metric_name),w=!f.equals(t)||!(void 0===(null==h?void 0:h.metric_name)&&void 0===(null==n?void 0:n.metric_name))&&(null==h?void 0:h.metric_name)!==(null==n?void 0:n.metric_name);return Object(D.f)("div",a()({id:"metrics-edit-popover"},d),Object(D.f)(Yn.c,{id:"adhoc-metric-edit-tabs",defaultActiveKey:n.metric_name?"SAVED":f.expressionType,className:"adhoc-metric-edit-tabs",style:{height:this.state.height,width:this.state.width},onChange:this.refreshAceEditor,allowOverflow:!0},Object(D.f)(Yn.c.TabPane,{key:jn,tab:Object(x.e)("Simple")},Object(D.f)(B.a,null,Object(D.f)(Qn.a,null,Object(D.f)("strong",null,Object(x.e)("column"))),Object(D.f)(Xn.b,a()({name:"select-column"},m),p()(r).call(r,e=>Object(D.f)(Xn.b.Option,{value:e.id,filterBy:e.verbose_name||e.column_name,key:e.id},this.renderColumnOption(e))))),Object(D.f)(B.a,null,Object(D.f)(Qn.a,null,Object(D.f)("strong",null,Object(x.e)("aggregate"))),Object(D.f)(Xn.b,a()({name:"select-aggregate"},v),p()(_n.b).call(_n.b,e=>Object(D.f)(Xn.b.Option,{value:e,key:e},e))))),Object(D.f)(Yn.c.TabPane,{key:"SAVED",tab:Object(x.e)("Saved")},Object(D.f)(B.a,null,Object(D.f)(Qn.a,null,Object(D.f)("strong",null,Object(x.e)("Saved metric"))),Object(D.f)(Xn.b,a()({name:"select-saved"},y),on()(o)&&p()(o).call(o,e=>Object(D.f)(Xn.b.Option,{value:e.id,filterBy:e.verbose_name||e.metric_name,key:e.id},this.renderColumnOption(e)))))),Object(D.f)(Yn.c.TabPane,{key:Sn,tab:Object(x.e)("Custom SQL")},"druid"!==this.props.datasourceType?Object(D.f)(B.a,null,Object(D.f)(Kn.f,{showLoadingForImport:!0,ref:this.handleAceEditorRef,keywords:g,height:`${this.state.height-80}px`,onChange:this.onSqlExpressionChange,width:"100%",showGutter:!1,value:f.sqlExpression||f.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:"adhoc-filter-sql-editor",wrapEnabled:!0})):Object(D.f)("div",{className:"custom-sql-disabled-message"},"Custom SQL Metrics are not available on druid datasources"))),Object(D.f)("div",null,Object(D.f)(Te.a,{buttonSize:"small",onClick:this.onResetStateAndClose,cta:!0},Object(x.e)("Close")),Object(D.f)(Te.a,{disabled:!C,buttonStyle:w&&C?"primary":"default",buttonSize:"small",onClick:this.onSave,cta:!0},Object(x.e)("Save")),Object(D.f)(er,{role:"button","aria-label":"Resize",tabIndex:0,onMouseDown:this.onDragDown,className:"fa fa-expand edit-popover-resize text-muted"})))}}nr.propTypes=Jn,nr.defaultProps={columns:[]};class rr extends l.a.PureComponent{constructor(e){var t,n,r,a;super(e),this.onPopoverResize=i()(t=this.onPopoverResize).call(t,this),this.onLabelChange=i()(n=this.onLabelChange).call(n,this),this.closePopover=i()(r=this.closePopover).call(r,this),this.togglePopover=i()(a=this.togglePopover).call(a,this),this.state={popoverVisible:!1,title:{label:e.adhocMetric.label,hasCustomLabel:e.adhocMetric.hasCustomLabel},labelModified:!1}}onLabelChange(e){const t=e.target.value;this.setState({title:{label:t||this.props.adhocMetric.label,hasCustomLabel:!!t},labelModified:!0})}onPopoverResize(){this.forceUpdate()}closePopover(){this.togglePopover(!1),this.setState({labelModified:!1})}togglePopover(e){this.setState({popoverVisible:e})}render(){const{adhocMetric:e}=this.props,{label:t,hasCustomLabel:n}=e,r=this.state.labelModified?this.state.title:{label:t,hasCustomLabel:n},a=Object(D.f)(nr,{adhocMetric:e,title:r,columns:this.props.columns,savedMetrics:this.props.savedMetrics,savedMetric:this.props.savedMetric,datasourceType:this.props.datasourceType,onResize:this.onPopoverResize,onClose:this.closePopover,onChange:this.props.onMetricEdit}),o=Object(D.f)(Gn,{title:r,onChange:this.onLabelChange});return Object(D.f)(j.a,{placement:"right",trigger:"click",content:a,defaultVisible:this.state.popoverVisible,visible:this.state.popoverVisible,onVisibleChange:this.togglePopover,title:o,destroyTooltipOnHide:this.props.createNew},this.props.children)}}var ar=rr;const or={metric:"metric",filter:"filter"},ir={adhocMetric:v.a.instanceOf(Dn),onMetricEdit:v.a.func.isRequired,onRemoveMetric:v.a.func,columns:v.a.arrayOf(mn),savedMetrics:v.a.arrayOf(vn),savedMetric:vn,datasourceType:v.a.string,onMoveLabel:v.a.func,onDropLabel:v.a.func,index:v.a.number};class sr extends l.a.PureComponent{constructor(e){var t;super(e),this.onRemoveMetric=i()(t=this.onRemoveMetric).call(t,this)}onRemoveMetric(e){e.stopPropagation(),this.props.onRemoveMetric()}render(){const{adhocMetric:e,onMetricEdit:t,columns:n,savedMetrics:r,savedMetric:a,datasourceType:o,onMoveLabel:i,onDropLabel:s,index:l}=this.props;return Object(D.f)(ar,{adhocMetric:e,onMetricEdit:t,columns:n,savedMetrics:r,savedMetric:a,datasourceType:o},Object(D.f)(xe.a,{placement:"top",title:a.expression||e.label},Object(D.f)(qn,{savedMetric:a,label:e.label,onRemove:this.onRemoveMetric,onMoveLabel:i,onDropLabel:s,index:l,type:or.metric,isAdhoc:!0,isFunction:!0})))}}var lr=sr;sr.propTypes=ir;var cr=v.a.oneOfType([v.a.shape({expressionType:v.a.oneOf([jn]).isRequired,column:mn.isRequired,aggregate:v.a.oneOf(b()(_n.a)).isRequired,label:v.a.string.isRequired}),v.a.shape({expressionType:v.a.oneOf([Sn]).isRequired,sqlExpression:v.a.string.isRequired,label:v.a.string.isRequired})]);const ur={option:v.a.oneOfType([vn,cr]).isRequired,index:v.a.number.isRequired,onMetricEdit:v.a.func,onRemoveMetric:v.a.func,onMoveLabel:v.a.func,onDropLabel:v.a.func,columns:v.a.arrayOf(mn),savedMetrics:v.a.arrayOf(vn),multi:v.a.bool,datasourceType:v.a.string};function dr({option:e,onMetricEdit:t,onRemoveMetric:n,columns:r,savedMetrics:a,datasourceType:o,onMoveLabel:i,onDropLabel:s,index:l}){let c;var u;if(e.metric_name?c=e:"string"==typeof e&&(u=e,c=tn()(a).call(a,e=>e.metric_name===u)),e instanceof Dn||c){var d;const u=e instanceof Dn?e:new Dn({}),p={onMetricEdit:t,onRemoveMetric:n,columns:r,savedMetrics:a,datasourceType:o,adhocMetric:u,onMoveLabel:i,onDropLabel:s,index:l,savedMetric:null!=(d=c)?d:{}};return Object(D.f)(lr,p)}return"string"==typeof e?Object(D.f)(qn,{label:e,onRemove:n,onMoveLabel:i,onDropLabel:s,type:or.metric,index:l,isFunction:!0}):null}dr.propTypes=ur;var pr=n(836),fr=n.n(pr),hr=Object(Mn.DragDropContext)(fr.a);const gr={name:v.a.string.isRequired,onChange:v.a.func,value:v.a.oneOfType([v.a.arrayOf(v.a.oneOfType([v.a.string,cr])),v.a.oneOfType([v.a.string,cr])]),columns:v.a.arrayOf(mn),savedMetrics:v.a.arrayOf(vn),isLoading:v.a.bool,multi:v.a.bool,clearable:v.a.bool,datasourceType:v.a.string};function br(e){return e&&!(e instanceof Dn)&&e.expressionType}function mr(e){return e?on()(e)?p()(e).call(e,e=>br(e)?new Dn(e):e):br(e)?[new Dn(e)]:[e]:[]}class vr extends l.a.PureComponent{constructor(e){var t,n,r,a,o,s,l,c,u;super(e),this.onChange=i()(t=this.onChange).call(t,this),this.onMetricEdit=i()(n=this.onMetricEdit).call(n,this),this.onNewMetric=i()(r=this.onNewMetric).call(r,this),this.onRemoveMetric=i()(a=this.onRemoveMetric).call(a,this),this.moveLabel=i()(o=this.moveLabel).call(o,this),this.checkIfAggregateInInput=i()(s=this.checkIfAggregateInInput).call(s,this),this.optionsForSelect=i()(l=this.optionsForSelect).call(l,this),this.selectFilterOption=i()(c=this.selectFilterOption).call(c,this),this.isAutoGeneratedMetric=i()(u=this.isAutoGeneratedMetric).call(u,this),this.optionRenderer=e=>Object(D.f)(Cn,{option:e}),this.valueRenderer=(e,t)=>Object(D.f)(dr,{key:t,index:t,option:e,onMetricEdit:this.onMetricEdit,onRemoveMetric:()=>this.onRemoveMetric(t),columns:this.props.columns,savedMetrics:this.props.savedMetrics,datasourceType:this.props.datasourceType,onMoveLabel:this.moveLabel,onDropLabel:()=>this.props.onChange(this.state.value)}),this.select=null,this.selectRef=e=>{this.select=e?e.select:null},this.state={aggregateInInput:null,options:this.optionsForSelect(this.props),value:mr(this.props.value)}}UNSAFE_componentWillReceiveProps(e){const{value:t}=this.props;if(!un()(this.props.columns,e.columns)||!un()(this.props.savedMetrics,e.savedMetrics)){this.setState({options:this.optionsForSelect(e)}),function(e,t){var n,r,a,o,i;const s=new tt.a(p()(n=[...t.columns||[],...t.savedMetrics||[]]).call(n,({column_name:e,metric_name:t})=>e||t));return ln()(r=u()(a=p()(o=u()(i=on()(e)?e:[e]).call(i,e=>e)).call(o,e=>e.column?e.column.column_name:e.column_name||e)).call(a,e=>e&&"string"==typeof e)).call(r,e=>s.has(e))}(t,e)||this.props.onChange([])}t!==e.value&&this.setState({value:mr(e.value)})}onNewMetric(e){this.setState(t=>({...t,value:[...t.value,e]}),()=>{this.onChange(this.state.value)})}onMetricEdit(e,t){this.setState(n=>{var r;return{value:p()(r=n.value).call(r,n=>n===t.metric_name||n.optionName===t.optionName?e:n)}},()=>{this.onChange(this.state.value)})}onRemoveMetric(e){if(!on()(this.state.value))return;const t=[...this.state.value];rn()(t).call(t,e,1),this.setState(e=>({...e,value:t})),this.props.onChange(t)}onChange(e){var t;if(null===e)return void this.props.onChange(null);let n;n=on()(e)?e:e?[e]:[];const r=u()(t=p()(n).call(n,e=>e.metric_name?e.metric_name:e)).call(t,e=>e);this.props.onChange(this.props.multi?r:r[0])}moveLabel(e,t){const{value:n}=this.state,r=[...n];[r[t],r[e]]=[r[e],r[t]],this.setState({value:r})}isAddNewMetricDisabled(){return!this.props.multi&&this.state.value.length>0}addNewMetricPopoverTrigger(e){return this.isAddNewMetricDisabled()?e:Object(D.f)(ar,{adhocMetric:new Dn({}),onMetricEdit:this.onNewMetric,columns:this.props.columns,savedMetrics:this.props.savedMetrics,savedMetric:{},datasourceType:this.props.datasourceType,createNew:!0},e)}checkIfAggregateInInput(e){const t=e.toLowerCase(),n=tn()(_n.b).call(_n.b,e=>ze()(t).call(t,`${e.toLowerCase()}(`))||null;this.clearedAggregateInInput=this.state.aggregateInInput,this.setState({aggregateInInput:n})}optionsForSelect(e){const{columns:t,savedMetrics:n}=e,r=[...t||[],...t&&t.length?p()(_n.b).call(_n.b,e=>({aggregate_name:e})):[],...n||[]];return Jt()(r).call(r,(e,t)=>(t.metric_name?e.push({...t,optionName:t.metric_name}):t.column_name?e.push({...t,optionName:`_col_${t.column_name}`}):t.aggregate_name&&e.push({...t,optionName:`_aggregate_${t.aggregate_name}`}),e),[])}isAutoGeneratedMetric(e){return"druid"===this.props.datasourceType?_n.n.test(e.verbose_name):_n.o.test(e.metric_name)}selectFilterOption({data:e},t){var n,r;if(this.state.aggregateInInput){var a;let n=t.length;Kt()(t).call(t,")")&&(n=t.length-1);const r=t.substring(Xt()(t).call(t,"(")+1,n);return e.column_name&&Xt()(a=e.column_name.toLowerCase()).call(a,r)>=0}return e.optionName&&(!e.metric_name||!this.isAutoGeneratedMetric(e)||e.verbose_name)&&(Xt()(n=e.optionName.toLowerCase()).call(n,t)>=0||e.verbose_name&&Xt()(r=e.verbose_name.toLowerCase()).call(r,t)>=0)}render(){var e;const{theme:t}=this.props;return Object(D.f)("div",{className:"metrics-select"},Object(D.f)(Fn,null,Object(D.f)(q.a,this.props),this.addNewMetricPopoverTrigger(Object(D.f)(Un,{disabled:this.isAddNewMetricDisabled()},Object(D.f)(we.a,{name:"plus-large",width:3*t.gridUnit,height:3*t.gridUnit,color:t.colors.grayscale.light5})))),Object(D.f)(Ln,null,this.state.value.length>0?p()(e=this.state.value).call(e,(e,t)=>this.valueRenderer(e,t)):this.addNewMetricPopoverTrigger(Object(D.f)(Bn,null,Object(D.f)(we.a,{name:"plus-small",color:t.colors.grayscale.light1}),Object(x.e)("Add metric")))))}}vr.propTypes=gr,vr.defaultProps={onChange:()=>{},clearable:!0,savedMetrics:[],columns:[]};var yr=hr(Object(w.c)(vr)),Or=n(408);const Cr="fix",xr="metric",wr={onChange:v.a.func,value:v.a.object,isFloat:v.a.bool,datasource:v.a.object.isRequired,default:v.a.shape({type:v.a.oneOf(["fix","metric"]),value:v.a.oneOfType([v.a.string,v.a.number])})},_r={onChange:()=>{},default:{type:Cr,value:5}};class jr extends l.a.Component{constructor(e){var t,n,r,a,o;super(e),this.onChange=i()(t=this.onChange).call(t,this),this.setType=i()(n=this.setType).call(n,this),this.setFixedValue=i()(r=this.setFixedValue).call(r,this),this.setMetric=i()(a=this.setMetric).call(a,this),this.toggle=i()(o=this.toggle).call(o,this);const s=(e.value?e.value.type:e.default.type)||Cr,l=(e.value?e.value.value:e.default.value)||"100";this.state={type:s,fixedValue:s===Cr?l:"",metricValue:s===xr?l:null}}onChange(){this.props.onChange({type:this.state.type,value:this.state.type===Cr?this.state.fixedValue:this.state.metricValue})}setType(e){this.setState({type:e},this.onChange)}setFixedValue(e){this.setState({fixedValue:e},this.onChange)}setMetric(e){this.setState({metricValue:e},this.onChange)}toggle(){this.setState(e=>({expanded:!e.expanded}))}render(){const e=(this.props.value||this.props.default).type||Cr,t=this.props.datasource?this.props.datasource.columns:null,n=this.props.datasource?this.props.datasource.metrics:null;return Object(D.f)("div",null,Object(D.f)(q.a,this.props),Object(D.f)(Qe.a,{onClick:this.toggle},this.state.type===Cr&&Object(D.f)("span",null,this.state.fixedValue),this.state.type===xr&&Object(D.f)("span",null,Object(D.f)("span",{style:{fontWeight:"normal"}},"metric: "),Object(D.f)("strong",null,this.state.metricValue?this.state.metricValue.label:null))),Object(D.f)(zt.a,{className:"panel-spreaded",collapsible:!0,expanded:this.state.expanded,onToggle:this.toggle},Object(D.f)(zt.a.Collapse,null,Object(D.f)(zt.a.Body,null,Object(D.f)("div",{className:"well"},Object(D.f)(Or.a,{title:"Fixed",isSelected:e===Cr,onSelect:()=>{this.setType(Cr)}},Object(D.f)(Wt.a,{isFloat:!0,onChange:this.setFixedValue,onFocus:()=>{this.setType(Cr)},value:this.state.fixedValue})),Object(D.f)(Or.a,{title:"Based on a metric",isSelected:e===xr,onSelect:()=>{this.setType(xr)}},Object(D.f)(yr,{name:"metric",columns:t,savedMetrics:n,multi:!1,onFocus:()=>{this.setType(xr)},onChange:this.setMetric,value:this.state.metricValue})))))))}}jr.propTypes=wr,jr.defaultProps=_r;const Sr={onChange:v.a.func,value:v.a.oneOfType([v.a.string,v.a.number,v.a.object,v.a.bool,v.a.array,v.a.func])};function Er(e){return Object(D.f)(V.a,{type:"hidden",value:e.value})}Er.propTypes=Sr,Er.defaultProps={onChange:()=>{}};var Tr=n(1083),Dr=n(449),kr=n(1206),Mr=n.n(kr);n(1319),n(1423);function Rr(e){return Object(D.f)("span",{className:"BootstrapSliderWrapper"},Object(D.f)(Mr.a,e))}const Pr={onChange:v.a.func,value:v.a.oneOfType([v.a.string,v.a.number])};function Ar(e){return Object(D.f)("div",null,Object(D.f)(q.a,e),Object(D.f)(Rr,a()({},e,{change:t=>{e.onChange(t.target.value)}})))}Ar.propTypes=Pr,Ar.defaultProps={onChange:()=>{}};var Nr=n(1085),Ir=n(864);const Fr={label:v.a.string,tooltip:v.a.string,colType:v.a.string,width:v.a.string,height:v.a.string,timeLag:v.a.oneOfType([v.a.string,v.a.number]),timeRatio:v.a.string,comparisonType:v.a.string,showYAxis:v.a.bool,yAxisBounds:v.a.array,bounds:v.a.array,d3format:v.a.string,dateFormat:v.a.string,onChange:v.a.func},Lr={label:Object(x.e)("Time Series Columns"),tooltip:"",colType:"",width:"",height:"",timeLag:"",timeRatio:"",comparisonType:"",showYAxis:!1,yAxisBounds:[null,null],bounds:[null,null],d3format:"",dateFormat:"",onChange:()=>{}},Br=[{value:"value",label:"Actual value"},{value:"diff",label:"Difference"},{value:"perc",label:"Percentage"},{value:"perc_change",label:"Percentage Change"}],Ur=[{value:"time",label:"Time Comparison"},{value:"contrib",label:"Contribution"},{value:"spark",label:"Sparkline"},{value:"avg",label:"Period Average"}];class Hr extends l.a.Component{constructor(e){var t;super(e);const n={label:this.props.label,tooltip:this.props.tooltip,colType:this.props.colType,width:this.props.width,height:this.props.height,timeLag:this.props.timeLag||0,timeRatio:this.props.timeRatio,comparisonType:this.props.comparisonType,showYAxis:this.props.showYAxis,yAxisBounds:this.props.yAxisBounds,bounds:this.props.bounds,d3format:this.props.d3format,dateFormat:this.props.dateFormat};delete n.onChange,this.state=n,this.onChange=i()(t=this.onChange).call(t,this)}onChange(){this.props.onChange(this.state)}onSelectChange(e,t){this.setState({[e]:t.value},this.onChange)}onTextInputChange(e,t){this.setState({[e]:t.target.value},this.onChange)}onCheckboxChange(e,t){this.setState({[e]:t},this.onChange)}onBoundsChange(e){this.setState({bounds:e},this.onChange)}onYAxisBoundsChange(e){this.setState({yAxisBounds:e},this.onChange)}setType(){}textSummary(){return`${this.state.label}`}edit(){}formRow(e,t,n,r){return Object(D.f)(U.a,{style:{marginTop:"5px"}},Object(D.f)(H.a,{md:5},`${e} `,Object(D.f)(_.a,{placement:"top",tooltip:t,label:n})),Object(D.f)(H.a,{md:7},r))}renderPopover(){var e,t,n,r,a,o,s,l,c,u,d,p,f,h,g;return Object(D.f)("div",{id:"ts-col-popo",style:{width:300}},this.formRow("Label","The column header label","time-lag",Object(D.f)(V.a,{value:this.state.label,onChange:i()(e=this.onTextInputChange).call(e,this,"label"),bsSize:"small",placeholder:"Label"})),this.formRow("Tooltip","Column header tooltip","col-tooltip",Object(D.f)(V.a,{value:this.state.tooltip,onChange:i()(t=this.onTextInputChange).call(t,this,"tooltip"),bsSize:"small",placeholder:"Tooltip"})),this.formRow("Type","Type of comparison, value difference or percentage","col-type",Object(D.f)(Ke.g,{value:this.state.colType,clearable:!1,onChange:i()(n=this.onSelectChange).call(n,this,"colType"),options:Ur})),Object(D.f)("hr",null),"spark"===this.state.colType&&this.formRow("Width","Width of the sparkline","spark-width",Object(D.f)(V.a,{value:this.state.width,onChange:i()(r=this.onTextInputChange).call(r,this,"width"),bsSize:"small",placeholder:"Width"})),"spark"===this.state.colType&&this.formRow("Height","Height of the sparkline","spark-width",Object(D.f)(V.a,{value:this.state.height,onChange:i()(a=this.onTextInputChange).call(a,this,"height"),bsSize:"small",placeholder:"height"})),Xt()(o=["time","avg"]).call(o,this.state.colType)>=0&&this.formRow("Time Lag","Number of periods to compare against","time-lag",Object(D.f)(V.a,{value:this.state.timeLag,onChange:i()(s=this.onTextInputChange).call(s,this,"timeLag"),bsSize:"small",placeholder:"Time Lag"})),Xt()(l=["spark"]).call(l,this.state.colType)>=0&&this.formRow("Time Ratio","Number of periods to ratio against","time-ratio",Object(D.f)(V.a,{value:this.state.timeRatio,onChange:i()(c=this.onTextInputChange).call(c,this,"timeRatio"),bsSize:"small",placeholder:"Time Ratio"})),"time"===this.state.colType&&this.formRow("Type","Type of comparison, value difference or percentage","comp-type",Object(D.f)(Ke.g,{value:this.state.comparisonType,clearable:!1,onChange:i()(u=this.onSelectChange).call(u,this,"comparisonType"),options:Br})),"spark"===this.state.colType&&this.formRow("Show Y-axis","Show Y-axis on the sparkline. Will display the manually set min/max if set or min/max values in the data otherwise.","show-y-axis-bounds",Object(D.f)(z.a,{value:this.state.showYAxis,onChange:i()(d=this.onCheckboxChange).call(d,this,"showYAxis")})),"spark"===this.state.colType&&this.formRow("Y-axis bounds","Manually set min/max values for the y-axis.","y-axis-bounds",Object(D.f)(G,{value:this.state.yAxisBounds,onChange:i()(p=this.onYAxisBoundsChange).call(p,this)})),"spark"!==this.state.colType&&this.formRow("Color bounds","Number bounds used for color encoding from red to blue.\n              Reverse the numbers for blue to red. To get pure red or blue,\n              you can enter either only min or max.","bounds",Object(D.f)(G,{value:this.state.bounds,onChange:i()(f=this.onBoundsChange).call(f,this)})),this.formRow("Number format","Optional d3 number format string","d3-format",Object(D.f)(V.a,{value:this.state.d3format,onChange:i()(h=this.onTextInputChange).call(h,this,"d3format"),bsSize:"small",placeholder:"Number format string"})),"spark"===this.state.colType&&this.formRow("Date format","Optional d3 date format string","date-format",Object(D.f)(V.a,{value:this.state.dateFormat,onChange:i()(g=this.onTextInputChange).call(g,this,"dateFormat"),bsSize:"small",placeholder:"Date format string"})))}render(){var e;return Object(D.f)("span",null,this.textSummary()," ",Object(D.f)(j.a,{trigger:"click",placement:"right",content:this.renderPopover(),title:"Column Configuration"},Object(D.f)(_.a,{icon:"edit",className:"text-primary",onClick:i()(e=this.edit).call(e,this),label:"edit-ts-column"})))}}Hr.propTypes=Fr,Hr.defaultProps=Lr;var Vr=n(992);const qr=["longitude","latitude","zoom","bearing","pitch"],$r={onChange:v.a.func,value:v.a.shape({longitude:v.a.number,latitude:v.a.number,zoom:v.a.number,bearing:v.a.number,pitch:v.a.number}),default:v.a.object,name:v.a.string.isRequired},Gr={onChange:()=>{},default:{type:"fix",value:5},value:{longitude:6.85236157047845,latitude:31.222656842808707,zoom:1,bearing:0,pitch:0}};class zr extends l.a.Component{constructor(e){var t;super(e),this.onChange=i()(t=this.onChange).call(t,this)}onChange(e,t){this.props.onChange({...this.props.value,[e]:t})}renderTextControl(e){var t;return Object(D.f)("div",{key:e},Object(D.f)(Qn.a,null,e),Object(D.f)(Wt.a,{value:this.props.value[e],onChange:i()(t=this.onChange).call(t,this,e),isFloat:!0}))}renderPopover(){return Object(D.f)("div",{id:`filter-popover-${this.props.name}`},p()(qr).call(qr,e=>this.renderTextControl(e)))}renderLabel(){return this.props.value.longitude&&this.props.value.latitude?`${Object(Vr.decimal2sexagesimal)(this.props.value.longitude)} | ${Object(Vr.decimal2sexagesimal)(this.props.value.latitude)}`:"N/A"}render(){return Object(D.f)("div",null,Object(D.f)(q.a,this.props),Object(D.f)(j.a,{container:document.body,trigger:"click",placement:"right",content:this.renderPopover(),title:"Viewport"},Object(D.f)(Qe.a,{className:"pointer"},this.renderLabel())))}}zr.propTypes=$r,zr.defaultProps=Gr;var Wr=n(871),Yr=n(250),Xr=n.n(Yr),Qr=n(243),Kr=n.n(Qr),Zr=n(216);const Jr="SIMPLE",ea="SQL",ta={HAVING:"HAVING",WHERE:"WHERE"},na={"==":"=","!=":"<>",">":">","<":"<",">=":">=","<=":"<=",IN:"IN","NOT IN":"NOT IN",LIKE:"LIKE",REGEX:"REGEX","IS NOT NULL":"IS NOT NULL","IS NULL":"IS NULL","LATEST PARTITION":({datasource:e})=>`= '{{ presto.latest_partition('${e.schema}.${e.datasource_name}') }}'`};function ra(e,{useSimple:t}={}){if(e.expressionType===Jr||t){const{subject:t,comparator:n}=e,r=e.operator&&_n.c.has(e.operator)?na[e.operator](e):na[e.operator];return Object(E.j)(t,r,n)}return e.expressionType===ea?e.sqlExpression:""}class aa{constructor(e){var t;(this.expressionType=e.expressionType||Jr,this.expressionType===Jr)?(this.subject=e.subject,this.operator=null==(t=e.operator)?void 0:t.toUpperCase(),this.comparator=e.comparator,this.clause=e.clause||ta.WHERE,this.sqlExpression=null):this.expressionType===ea&&(this.sqlExpression="string"==typeof e.sqlExpression?e.sqlExpression:ra(e,{useSimple:!0}),this.clause=e.clause,e.operator&&_n.c.has(e.operator)?(this.subject=e.subject,this.operator=e.operator):(this.subject=null,this.operator=null),this.comparator=null);this.isExtra=!!e.isExtra,this.isNew=!!e.isNew,this.filterOptionName=e.filterOptionName||`filter_${Math.random().toString(36).substring(2,15)}_${Math.random().toString(36).substring(2,15)}`}duplicateWith(e){return new aa({...this,isNew:!1,...e})}equals(e){return e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.operator===this.operator&&e.comparator===this.comparator&&e.subject===this.subject}isValid(){if(this.expressionType===Jr){if("IS NOT NULL"===this.operator||"IS NULL"===this.operator)return!(!this.operator||!this.subject);if(this.operator&&this.subject&&this.clause)if(on()(this.comparator)){if(this.comparator.length>0)return!0}else if(null!==this.comparator)return!0}else if(this.expressionType===ea)return!(!this.sqlExpression||!this.clause);return!1}getDefaultLabel(){const e=this.translateToSql();return e.length<43?e:`${e.substring(0,40)}...`}translateToSql(){return ra(this)}}var oa=v.a.oneOfType([v.a.shape({expressionType:v.a.oneOf([Jr]).isRequired,clause:v.a.oneOf([ta.HAVING,ta.WHERE]).isRequired,subject:v.a.string.isRequired,operator:v.a.oneOf(b()(_n.j)).isRequired,comparator:v.a.oneOfType([v.a.string,v.a.arrayOf(v.a.string)]).isRequired}),v.a.shape({expressionType:v.a.oneOf([ea]).isRequired,clause:v.a.oneOf([ta.WHERE,ta.HAVING]).isRequired,sqlExpression:v.a.string.isRequired})]),ia=n(229);const sa={adhocMetric:cr,showType:v.a.bool};function la({adhocMetric:e,showType:t=!1}){return Object(D.f)("div",null,t&&Object(D.f)(fn.a,{type:"expression"}),Object(D.f)("span",{className:"option-label"},e.label))}la.propTypes=sa;const ca={option:v.a.oneOfType([mn,v.a.shape({saved_metric_name:v.a.string.isRequired}),cr]).isRequired};function ua({option:e}){return e.saved_metric_name?Object(D.f)("div",null,Object(D.f)(fn.a,{type:"expression"}),Object(D.f)("span",{className:"option-label"},e.saved_metric_name)):e.column_name?Object(D.f)(pn.a,{column:e,showType:!0}):e.label?Object(D.f)(la,{adhocMetric:e,showType:!0}):void 0}ua.propTypes=ca;const da=Object(Oe.c)(Xn.b)`
  .ant-select-selector::after {
    content: '${({labelText:e})=>e||"\\A0"}';
    display: inline-block;
    white-space: nowrap;
    color: ${({theme:e})=>e.colors.grayscale.light1};
    width: max-content;
  }
`,pa={adhocFilter:v.a.instanceOf(aa).isRequired,onChange:v.a.func.isRequired,options:v.a.arrayOf(v.a.oneOfType([mn,v.a.shape({saved_metric_name:v.a.string.isRequired}),cr])).isRequired,onHeightChange:v.a.func.isRequired,datasource:v.a.object,partitionColumn:v.a.string,popoverRef:v.a.object};class fa extends l.a.Component{constructor(e){var t,n,r,a,o,s;super(e),this.onSubjectChange=i()(t=this.onSubjectChange).call(t,this),this.onOperatorChange=i()(n=this.onOperatorChange).call(n,this),this.onComparatorChange=i()(r=this.onComparatorChange).call(r,this),this.onInputComparatorChange=i()(a=this.onInputComparatorChange).call(a,this),this.isOperatorRelevant=i()(o=this.isOperatorRelevant).call(o,this),this.refreshComparatorSuggestions=i()(s=this.refreshComparatorSuggestions).call(s,this),this.state={suggestions:[],abortActiveRequest:null},this.selectProps={name:"select-column",showSearch:!0}}UNSAFE_componentWillMount(){this.refreshComparatorSuggestions()}componentDidUpdate(e){e.adhocFilter.subject!==this.props.adhocFilter.subject&&this.refreshComparatorSuggestions()}onSubjectChange(e){var t;const n=tn()(t=this.props.options).call(t,t=>t.id===e||t.optionName===e);let r,a;n&&n.column_name?(r=n.column_name,a=ta.WHERE):n&&(n.saved_metric_name||n.label)&&(r=n.saved_metric_name||n.label,a=ta.HAVING);const{operator:o}=this.props.adhocFilter;this.props.onChange(this.props.adhocFilter.duplicateWith({subject:r,clause:a,operator:o&&this.isOperatorRelevant(o,r)?o:null,expressionType:Jr}))}onOperatorChange(e){const t=this.props.adhocFilter.comparator;let n;var r;_n.i.has(e)?n=on()(t)?t:u()(r=[t]).call(r,e=>e):n=on()(t)?t[0]:t;e&&_n.c.has(e)?this.props.onChange(this.props.adhocFilter.duplicateWith({subject:this.props.adhocFilter.subject,clause:ta.WHERE,operator:e,expressionType:ea,datasource:this.props.datasource})):this.props.onChange(this.props.adhocFilter.duplicateWith({operator:e,comparator:n,expressionType:Jr}))}onInputComparatorChange(e){this.onComparatorChange(e.target.value)}onComparatorChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({comparator:e,expressionType:Jr}))}refreshComparatorSuggestions(){const{datasource:e}=this.props,t=this.props.adhocFilter.subject,n=this.props.adhocFilter.clause===ta.HAVING;if(t&&e&&e.filter_select&&!n){this.state.abortActiveRequest&&this.state.abortActiveRequest();const n=new AbortController,{signal:r}=n;this.setState({abortActiveRequest:n.abort,loading:!0}),je.a.get({signal:r,endpoint:`/superset/filter/${e.type}/${e.id}/${t}/`}).then(({json:e})=>{this.setState(()=>({suggestions:e,abortActiveRequest:null,loading:!1}))}).catch(()=>{this.setState(()=>({suggestions:[],abortActiveRequest:null,loading:!1}))})}}isOperatorRelevant(e,t){if(e&&_n.c.has(e)){const{partitionColumn:e}=this.props;return e&&t&&t===e}return!("druid"===this.props.datasource.type&&Xt()(_n.l).call(_n.l,e)>=0||"table"===this.props.datasource.type&&Xt()(_n.e).call(_n.e,e)>=0||this.props.adhocFilter.clause===ta.HAVING&&-1===Xt()(_n.h).call(_n.h,e))}focusComparator(e,t){e&&t&&e.focus()}optionsRemaining(){var e;const{suggestions:t}=this.state,{comparator:n}=this.props.adhocFilter,r=on()(n)?u()(n).call(n,e=>h()(t).call(t,e)).length:0;return null!=(e=(null==t?void 0:t.length)-r)?e:0}createSuggestionsPlaceholder(){const e=this.optionsRemaining(),t=Object(x.e)("%s option(s)",e);return e?t:""}renderSubjectOptionLabel(e){return Object(D.f)(ua,{option:e})}render(){var e,t;const{adhocFilter:n,options:r,datasource:o}=this.props;let i=r;const{subject:s,operator:c,comparator:d}=n,f={value:null!=s?s:void 0,onChange:this.onSubjectChange,notFoundContent:Object(x.e)("No such column found. To filter on a metric, try the Custom SQL tab."),filterOption:(e,t)=>{var n;return Xt()(n=t.filterBy.toLowerCase()).call(n,e.toLowerCase())>=0},autoFocus:!s};"druid"===o.type?f.placeholder=Object(x.e)("%s column(s) and metric(s)",i.length):(f.placeholder=n.clause===ta.WHERE?Object(x.e)("%s column(s)",i.length):Object(x.e)("To filter on a metric, use Custom SQL tab."),i=u()(r).call(r,e=>e.column_name));const g={placeholder:Object(x.e)("%s operators(s)",_n.k.length),value:c,onChange:this.onOperatorChange,filterOption:(e,t)=>{var n;return Xt()(n=t.value.toLowerCase()).call(n,e.toLowerCase())>=0},autoFocus:!!f.value&&!c},b=!!f.value&&!!g.value,m={allowClear:!0,showSearch:!0,mode:_n.i.has(c)&&"tags",tokenSeparators:[","," ",";"],loading:this.state.loading,value:d,onChange:this.onComparatorChange,notFoundContent:Object(x.e)("type a value here"),disabled:h()(_n.d).call(_n.d,c),placeholder:this.createSuggestionsPlaceholder(),labelText:(null==d?void 0:d.length)>0&&this.createSuggestionsPlaceholder(),autoFocus:b};return Object(D.f)(l.a.Fragment,null,Object(D.f)(B.a,{className:"adhoc-filter-simple-column-dropdown"},Object(D.f)(Xn.b,a()({},this.selectProps,f,{name:"filter-column"}),p()(i).call(i,e=>Object(D.f)(Xn.b.Option,{value:e.id||e.optionName,filterBy:e.saved_metric_name||e.column_name||e.label,key:e.id||e.optionName},this.renderSubjectOptionLabel(e))))),Object(D.f)(B.a,null,Object(D.f)(Xn.b,a()({},this.selectProps,g,{name:"filter-operator"}),p()(e=u()(_n.k).call(_n.k,e=>this.isOperatorRelevant(e,s))).call(e,e=>Object(D.f)(Xn.b.Option,{value:e,key:e},function(e){return e===_n.j["=="]?"equals":e===_n.j["!="]?"not equal to":e===_n.j.LIKE?"LIKE":e===_n.j["LATEST PARTITION"]?"use latest_partition template":e}(e))))),Object(D.f)(B.a,null,_n.i.has(c)||this.state.suggestions.length>0?Object(D.f)(da,a()({name:"filter-value"},m),p()(t=this.state.suggestions).call(t,e=>Object(D.f)(Xn.b.Option,{value:e,key:e},e))):Object(D.f)(Ce.m,{name:"filter-value",ref:e=>this.focusComparator(e,b),onChange:this.onInputComparatorChange,value:d,placeholder:Object(x.e)("Filter value (case sensitive)"),disabled:h()(_n.d).call(_n.d,c)})))}}fa.propTypes=pa,fa.defaultProps={datasource:{}};const ha={adhocFilter:v.a.instanceOf(aa).isRequired,onChange:v.a.func.isRequired,options:v.a.arrayOf(v.a.oneOfType([mn,v.a.shape({saved_metric_name:v.a.string.isRequired}),cr])).isRequired,height:v.a.number.isRequired};class ga extends l.a.Component{constructor(e){var t,n,r;super(e),this.onSqlExpressionChange=i()(t=this.onSqlExpressionChange).call(t,this),this.onSqlExpressionClauseChange=i()(n=this.onSqlExpressionClauseChange).call(n,this),this.handleAceEditorRef=i()(r=this.handleAceEditorRef).call(r,this),this.selectProps={name:"select-column"}}componentDidUpdate(){this.aceEditorRef&&this.aceEditorRef.editor.resize()}onSqlExpressionClauseChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({clause:e,expressionType:ea}))}onSqlExpressionChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({sqlExpression:e,expressionType:ea}))}handleAceEditorRef(e){e&&(this.aceEditorRef=e)}render(){var e,t;const{adhocFilter:n,height:r,options:o}=this.props,i={placeholder:Object(x.e)("choose WHERE or HAVING..."),value:n.clause,onChange:this.onSqlExpressionClauseChange},s=Y()(Zn.a).call(Zn.a,u()(e=p()(o).call(o,e=>e.column_name?{name:e.column_name,value:e.column_name,score:50,meta:"option"}:null)).call(e,Boolean));return Object(D.f)("span",null,Object(D.f)(B.a,{className:"filter-edit-clause-section"},Object(D.f)(Xn.b,a()({},this.selectProps,i,{className:"filter-edit-clause-dropdown"}),p()(t=b()(ta)).call(t,e=>Object(D.f)(Xn.b.Option,{value:e,key:e},e))),Object(D.f)("span",{className:"filter-edit-clause-info"},Object(D.f)("strong",null,"WHERE")," ",Object(x.e)("filters by columns"),Object(D.f)("br",null),Object(D.f)("strong",null,"HAVING")," ",Object(x.e)("filters by metrics"))),Object(D.f)(B.a,null,Object(D.f)(Kn.f,{ref:this.handleAceEditorRef,keywords:s,height:`${r-130}px`,onChange:this.onSqlExpressionChange,width:"100%",showGutter:!1,value:n.sqlExpression||n.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:"adhoc-filter-sql-editor",wrapEnabled:!0})))}}ga.propTypes=ha;const ba={adhocFilter:v.a.instanceOf(aa).isRequired,onChange:v.a.func.isRequired,onClose:v.a.func.isRequired,onResize:v.a.func.isRequired,options:v.a.arrayOf(v.a.oneOfType([mn,v.a.shape({saved_metric_name:v.a.string.isRequired}),cr])).isRequired,datasource:v.a.object,partitionColumn:v.a.string,theme:v.a.object},ma=Oe.c.i`
  margin-left: ${({theme:e})=>2*e.gridUnit}px;
`;class va extends l.a.Component{constructor(e){var t,n,r,a,o,s;super(e),this.onSave=i()(t=this.onSave).call(t,this),this.onDragDown=i()(n=this.onDragDown).call(n,this),this.onMouseMove=i()(r=this.onMouseMove).call(r,this),this.onMouseUp=i()(a=this.onMouseUp).call(a,this),this.onAdhocFilterChange=i()(o=this.onAdhocFilterChange).call(o,this),this.adjustHeight=i()(s=this.adjustHeight).call(s,this),this.state={adhocFilter:this.props.adhocFilter,width:320,height:240},this.popoverContentRef=l.a.createRef()}componentDidMount(){document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)}onAdhocFilterChange(e){this.setState({adhocFilter:e})}onSave(){this.props.onChange(this.state.adhocFilter),this.props.onClose()}onDragDown(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener("mousemove",this.onMouseMove)}onMouseMove(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),320),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),240)})}onMouseUp(){document.removeEventListener("mousemove",this.onMouseMove)}adjustHeight(e){this.setState(t=>({height:t.height+e}))}render(){const{adhocFilter:e,options:t,onChange:n,onClose:r,onResize:o,datasource:i,partitionColumn:s,theme:l,...c}=this.props,{adhocFilter:u}=this.state,d=u.isValid(),p=!u.equals(e);return Object(D.f)("div",a()({id:"filter-edit-popover"},c,{ref:this.popoverContentRef}),Object(D.f)(Yn.c,{id:"adhoc-filter-edit-tabs",defaultActiveKey:u.expressionType,className:"adhoc-filter-edit-tabs",style:{minHeight:this.state.height,width:this.state.width},allowOverflow:!0},Object(D.f)(Yn.c.TabPane,{className:"adhoc-filter-edit-tab",key:Jr,tab:Object(x.e)("Simple")},Object(D.f)(ia.a,null,Object(D.f)(fa,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:t,datasource:i,onHeightChange:this.adjustHeight,partitionColumn:s,popoverRef:this.popoverContentRef.current}))),Object(D.f)(Yn.c.TabPane,{className:"adhoc-filter-edit-tab",key:ea,tab:Object(x.e)("Custom SQL")},Object(D.f)(ia.a,null,this.props.datasource&&"druid"===this.props.datasource.type?Object(D.f)("div",{className:"custom-sql-disabled-message"},"Custom SQL Filters are not available on druid datasources"):Object(D.f)(ga,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:this.props.options,height:this.state.height})))),Object(D.f)("div",null,Object(D.f)(Te.a,{buttonSize:"small",onClick:this.props.onClose,cta:!0},Object(x.e)("Close")),Object(D.f)(Te.a,{disabled:!d,buttonStyle:p&&d?"primary":"default",buttonSize:"small",className:"m-r-5",onClick:this.onSave,cta:!0},Object(x.e)("Save")),Object(D.f)(ma,{role:"button","aria-label":"Resize",tabIndex:0,onMouseDown:this.onDragDown,className:"fa fa-expand edit-popover-resize text-muted"})))}}va.propTypes=ba;class ya extends l.a.PureComponent{constructor(e){var t,n,r;super(e),this.onPopoverResize=i()(t=this.onPopoverResize).call(t,this),this.closePopover=i()(n=this.closePopover).call(n,this),this.togglePopover=i()(r=this.togglePopover).call(r,this),this.state={popoverVisible:!1}}onPopoverResize(){this.forceUpdate()}closePopover(){this.togglePopover(!1)}togglePopover(e){this.setState({popoverVisible:e})}render(){const{adhocFilter:e}=this.props,t=Object(D.f)(va,{adhocFilter:e,options:this.props.options,datasource:this.props.datasource,partitionColumn:this.props.partitionColumn,onResize:this.onPopoverResize,onClose:this.closePopover,onChange:this.props.onFilterEdit});return Object(D.f)(l.a.Fragment,null,e.isExtra&&Object(D.f)(_.a,{icon:"exclamation-triangle",placement:"top",className:"m-r-5 text-muted",tooltip:Object(x.e)("\n                This filter was inherited from the dashboard's context.\n                It won't be saved when saving the chart.\n              ")}),Object(D.f)(j.a,{placement:"right",trigger:"click",content:t,defaultVisible:this.state.popoverVisible,visible:this.state.popoverVisible,onVisibleChange:this.togglePopover,destroyTooltipOnHide:this.props.createNew},this.props.children))}}var Oa=ya;const Ca={adhocFilter:v.a.instanceOf(aa).isRequired,onFilterEdit:v.a.func.isRequired,onRemoveFilter:v.a.func,options:v.a.arrayOf(v.a.oneOfType([mn,v.a.shape({saved_metric_name:v.a.string.isRequired}),cr])).isRequired,datasource:v.a.object,partitionColumn:v.a.string,onMoveLabel:v.a.func,onDropLabel:v.a.func,index:v.a.number},xa=({adhocFilter:e,options:t,datasource:n,onFilterEdit:r,onRemoveFilter:a,partitionColumn:o,onMoveLabel:i,onDropLabel:s,index:l})=>Object(D.f)(Oa,{adhocFilter:e,options:t,datasource:n,onFilterEdit:r,partitionColumn:o},Object(D.f)(qn,{label:e.getDefaultLabel(),onRemove:a,onMoveLabel:i,onDropLabel:s,index:l,type:u()(or),isAdhoc:!0}));var wa=xa;xa.propTypes=Ca;const _a={name:v.a.string,onChange:v.a.func,value:v.a.arrayOf(oa),datasource:v.a.object,columns:v.a.arrayOf(mn),savedMetrics:v.a.arrayOf(vn),formData:v.a.shape({metric:v.a.oneOfType([v.a.string,cr]),metrics:v.a.arrayOf(v.a.oneOfType([v.a.string,cr]))}),isLoading:v.a.bool};function ja(e){return e&&!(e instanceof aa)&&e.expressionType}class Sa extends l.a.Component{constructor(e){var t,n,r,a,o,s,l,c,u;super(e),this.optionsForSelect=i()(t=this.optionsForSelect).call(t,this),this.onRemoveFilter=i()(n=this.onRemoveFilter).call(n,this),this.onNewFilter=i()(r=this.onNewFilter).call(r,this),this.onFilterEdit=i()(a=this.onFilterEdit).call(a,this),this.moveLabel=i()(o=this.moveLabel).call(o,this),this.onChange=i()(s=this.onChange).call(s,this),this.mapOption=i()(l=this.mapOption).call(l,this),this.getMetricExpression=i()(c=this.getMetricExpression).call(c,this);const d=p()(u=this.props.value||[]).call(u,e=>ja(e)?new aa(e):e);this.optionRenderer=e=>Object(D.f)(ua,{option:e}),this.valueRenderer=(e,t)=>Object(D.f)(wa,{key:t,index:t,adhocFilter:e,onFilterEdit:this.onFilterEdit,options:this.state.options,datasource:this.props.datasource,onRemoveFilter:()=>this.onRemoveFilter(t),onMoveLabel:this.moveLabel,onDropLabel:()=>this.props.onChange(Kr()(this.state))}),this.state={values:d,options:this.optionsForSelect(this.props)}}componentDidMount(){const{datasource:e}=this.props;if(e&&"table"===e.type){var t;const n=null==(t=e.database)?void 0:t.id,{datasource_name:r,schema:a,is_sqllab_view:o}=e;!o&&n&&r&&a&&je.a.get({endpoint:`/superset/extra_table_metadata/${n}/${r}/${a}/`}).then(({json:e})=>{if(e&&e.partitions){const{partitions:t}=e;if(t&&t.cols&&1===b()(t.cols).length){const e=t.cols[0];this.valueRenderer=(t,n)=>Object(D.f)(wa,{adhocFilter:t,onFilterEdit:this.onFilterEdit,options:this.state.options,datasource:this.props.datasource,partitionColumn:e,onRemoveFilter:()=>this.onRemoveFilter(n),key:n})}}}).catch(e=>{Zr.a.error("fetch extra_table_metadata:",e.statusText)})}}UNSAFE_componentWillReceiveProps(e){var t;(this.props.columns===e.columns&&this.props.formData===e.formData||this.setState({options:this.optionsForSelect(e)}),this.props.value!==e.value)&&this.setState({values:p()(t=e.value||[]).call(t,e=>ja(e)?new aa(e):e)})}onRemoveFilter(e){const t=[...Kr()(this.state)];rn()(t).call(t,e,1),this.setState(e=>({...e,values:t})),this.props.onChange(t)}onNewFilter(e){const t=this.mapOption(e);t&&this.setState(e=>({...e,values:[...Kr()(e),t]}),()=>{this.props.onChange(Kr()(this.state))})}onFilterEdit(e){var t;this.props.onChange(p()(t=Kr()(this.state)).call(t,t=>t.filterOptionName===e.filterOptionName?e:t))}onChange(e){var t,n;const r=u()(t=p()(n=e||[]).call(n,e=>this.mapOption(e))).call(t,e=>e);this.props.onChange(r)}getMetricExpression(e){var t;return tn()(t=this.props.savedMetrics).call(t,t=>t.metric_name===e).expression}moveLabel(e,t){const{values:n}=this.state,r=[...n];[r[t],r[e]]=[r[e],r[t]],this.setState({values:r})}mapOption(e){return e instanceof aa?e:e.saved_metric_name?new aa({expressionType:"druid"===this.props.datasource.type?Jr:ea,subject:"druid"===this.props.datasource.type?e.saved_metric_name:this.getMetricExpression(e.saved_metric_name),operator:_n.j[">"],comparator:0,clause:ta.HAVING}):e.label?new aa({expressionType:"druid"===this.props.datasource.type?Jr:ea,subject:"druid"===this.props.datasource.type?e.label:new Dn(e).translateToSql(),operator:_n.j[">"],comparator:0,clause:ta.HAVING}):e.column_name?new aa({expressionType:Jr,subject:e.column_name,operator:_n.j["=="],comparator:"",clause:ta.WHERE,isNew:!0}):null}optionsForSelect(e){var t,n,r;const a=u()(t=[...e.columns,...p()(n=[...e.formData.metrics||[],e.formData.metric]).call(n,e=>e&&("string"==typeof e?{saved_metric_name:e}:new Dn(e)))]).call(t,e=>e);return Xr()(r=Jt()(a).call(a,(e,t)=>(t.saved_metric_name?e.push({...t,filterOptionName:t.saved_metric_name}):t.column_name?e.push({...t,filterOptionName:`_col_${t.column_name}`}):t instanceof Dn&&e.push({...t,filterOptionName:`_adhocmetric_${t.label}`}),e),[])).call(r,(e,t)=>(e.saved_metric_name||e.column_name||e.label).localeCompare(t.saved_metric_name||t.column_name||t.label))}addNewFilterPopoverTrigger(e){return Object(D.f)(Oa,{adhocFilter:new aa({}),datasource:this.props.datasource,options:this.state.options,onFilterEdit:this.onNewFilter,createNew:!0},e)}render(){var e;const{theme:t}=this.props;return Object(D.f)("div",{className:"metrics-select"},Object(D.f)(Fn,null,Object(D.f)(q.a,this.props),this.addNewFilterPopoverTrigger(Object(D.f)(Un,null,Object(D.f)(we.a,{name:"plus-large",width:3*t.gridUnit,height:3*t.gridUnit,color:t.colors.grayscale.light5})))),Object(D.f)(Ln,null,Kr()(this.state).length>0?p()(e=Kr()(this.state)).call(e,(e,t)=>this.valueRenderer(e,t)):this.addNewFilterPopoverTrigger(Object(D.f)(Bn,null,Object(D.f)(we.a,{name:"plus-small",color:t.colors.grayscale.light1}),Object(x.e)("Add filter")))))}}Sa.propTypes=_a,Sa.defaultProps={name:"",onChange:()=>{},columns:[],savedMetrics:[],formData:{}};var Ea=hr(Object(w.c)(Sa));const Ta={marginTop:"5px",minHeight:"30px"},Da={textAlign:"right"},ka={label:v.a.string.isRequired,tooltip:v.a.string,control:v.a.node.isRequired,isCheckbox:v.a.bool};function Ma({label:e,tooltip:t,control:n,isCheckbox:r}){const a=Object(D.f)("span",null,e," ",t&&Object(D.f)(_.a,{placement:"top",label:e,tooltip:t}));return r?Object(D.f)(U.a,{style:Ta},Object(D.f)(H.a,{md:4,style:Da},n),Object(D.f)(H.a,{md:8},a)):Object(D.f)(U.a,{style:Ta},Object(D.f)(H.a,{md:4,style:Da},a),Object(D.f)(H.a,{md:8},n))}Ma.propTypes=ka,Ma.defaultProps={tooltip:null,isCheckbox:!1};const Ra=new tt.a(["TINYINT","SMALLINT","INT","INTEGER","BIGINT","LONG"]),Pa=new tt.a(["FLOAT","DOUBLE","REAL","NUMERIC","DECIMAL","MONEY"]),Aa={datasource:v.a.object.isRequired,onChange:v.a.func,asc:v.a.bool,clearable:v.a.bool,multiple:v.a.bool,column:v.a.string,label:v.a.string,metric:v.a.string,searchAllOptions:v.a.bool,defaultValue:v.a.string},Na={width:350};class Ia extends l.a.Component{constructor(e){var t,n;super(e);const{column:r,metric:a,asc:o,clearable:s,multiple:l,searchAllOptions:c,label:u,defaultValue:d}=e;this.state={column:r,metric:a,label:u,asc:o,clearable:s,multiple:l,searchAllOptions:c,defaultValue:d},this.onChange=i()(t=this.onChange).call(t,this),this.onControlChange=i()(n=this.onControlChange).call(n,this)}onChange(){this.props.onChange(this.state)}onControlChange(e,t){let n=t;const{column:r,multiple:a}=this.state;if(t&&!a&&e===_n.f.DEFAULT_VALUE){var o;const{datasource:e}=this.props,a=tn()(o=e.columns).call(o,e=>e.column_name===r);if(a&&a.type){const e=a.type.toUpperCase();"BOOLEAN"===e?n="true"===t:Ra.has(e)?n=L()(Number(t))?null:Ot()(t,10):Pa.has(e)&&(n=L()(Number(t))?null:I()(t))}}this.setState({[e]:n},this.onChange)}setType(){}textSummary(){return this.state.column||"N/A"}renderForm(){var e,t,n,r,a,o;return Object(D.f)("div",null,Object(D.f)(Ma,{label:Object(x.e)("Column"),control:Object(D.f)(Dr.a,{value:this.state.column,name:"column",clearable:!1,options:Y()(e=p()(t=u()(n=this.props.datasource.columns).call(n,e=>e!==this.state.column)).call(t,e=>({value:e.column_name,label:e.column_name}))).call(e,[{value:this.state.column,label:this.state.column}]),onChange:e=>this.onControlChange("column",e)})}),Object(D.f)(Ma,{label:Object(x.e)("Label"),control:Object(D.f)(Wt.a,{value:this.state.label,name:"label",onChange:e=>this.onControlChange("label",e)})}),Object(D.f)(Ma,{label:Object(x.e)("Default"),tooltip:Object(x.e)("(optional) default value for the filter, when using the multiple option, you can use a semicolon-delimited list of options."),control:Object(D.f)(Wt.a,{value:this.state.defaultValue,name:"defaultValue",onChange:e=>this.onControlChange(_n.f.DEFAULT_VALUE,e)})}),Object(D.f)(Ma,{label:Object(x.e)("Sort Metric"),tooltip:Object(x.e)("Metric to sort the results by"),control:Object(D.f)(Dr.a,{value:this.state.metric,name:"column",options:Y()(r=p()(a=u()(o=this.props.datasource.metrics).call(o,e=>e!==this.state.metric)).call(a,e=>({value:e.metric_name,label:e.metric_name}))).call(r,[{value:this.state.metric,label:this.state.metric}]),onChange:e=>this.onControlChange("metric",e)})}),Object(D.f)(Ma,{label:Object(x.e)("Sort Ascending"),tooltip:Object(x.e)("Check for sorting ascending"),isCheckbox:!0,control:Object(D.f)(z.a,{value:this.state.asc,onChange:e=>this.onControlChange("asc",e)})}),Object(D.f)(Ma,{label:Object(x.e)("Allow Multiple Selections"),isCheckbox:!0,tooltip:Object(x.e)("Multiple selections allowed, otherwise filter is limited to a single value"),control:Object(D.f)(z.a,{value:this.state.multiple,onChange:e=>this.onControlChange(_n.f.MULTIPLE,e)})}),Object(D.f)(Ma,{label:Object(x.e)("Search All Filter Options"),tooltip:Object(x.e)("By default, each filter loads at most 1000 choices at the initial page load. Check this box if you have more than 1000 filter values and want to enable dynamically searching that loads filter values as users type (may add stress to your database)."),isCheckbox:!0,control:Object(D.f)(z.a,{value:this.state.searchAllOptions,onChange:e=>this.onControlChange(_n.f.SEARCH_ALL_OPTIONS,e)})}),Object(D.f)(Ma,{label:Object(x.e)("Required"),tooltip:Object(x.e)("User must select a value for this filter"),isCheckbox:!0,control:Object(D.f)(z.a,{value:!this.state.clearable,onChange:e=>this.onControlChange("clearable",!e)})}))}renderPopover(){return Object(D.f)("div",{id:"ts-col-popo",style:Na},this.renderForm())}render(){return Object(D.f)("span",null,this.textSummary()," ",Object(D.f)(j.a,{trigger:"click",placement:"right",content:this.renderPopover(),title:Object(x.e)("Filter Configuration")},Object(D.f)(_.a,{icon:"edit",className:"text-primary",label:"edit-ts-column"})))}}Ia.propTypes=Aa,Ia.defaultProps={onChange:()=>{},asc:!0,clearable:!0,multiple:!0,searchAllOptions:!1};var Fa={AnnotationLayerControl:A,BoundsControl:G,CheckboxControl:z.a,CollectionControl:oe,ColorMapControl:de,ColorPickerControl:me,ColorSchemeControl:ye.a,DatasourceControl:$e,DateFilterControl:function(e){const{value:t="Last week",endpoints:n,onChange:r}=e,[a,o]=Object(s.useState)(t),[i,c]=Object(s.useState)(!1),[d,p]=Object(s.useState)(Ht(t)),[f,h]=Object(s.useState)(t),[g,b]=Object(s.useState)(!1),[m,v]=Object(s.useState)(t),[y,O]=Object(s.useState)(t);function C(){p(Ht(t)),h(t),c(!1)}Object(s.useEffect)(()=>{Vt(t,n).then(({value:e,error:n})=>{if(n)v(n||""),b(!1),O(t||"");else{const n=t.toLowerCase();ze()(n).call(n,"last")||ze()(n).call(n,"next")||ze()(n).call(n,"previous")?(o(t),O(e||"")):(o(e||""),O(t||"")),b(!0)}})},[t]),Object(s.useEffect)(()=>{Vt(f,n).then(({value:e,error:t})=>{t?(v(t||""),b(!1)):(v(e||""),b(!0))})},[f]);const w=Object(D.f)($t,null,Object(D.f)("div",{className:"control-label"},Object(x.e)("RANGE TYPE")),Object(D.f)(Ke.f,{options:at,value:u()(at).call(at,({value:e})=>e===d),onChange:function(e){"No Filter"===e.value&&h("No filter"),p(e.value)},className:"frame-dropdown"}),"No Filter"!==d&&Object(D.f)(Ce.i,null),"Common"===d&&Object(D.f)(At,{value:f,onChange:h}),"Calendar"===d&&Object(D.f)(Nt,{value:f,onChange:h}),"Advanced"===d&&Object(D.f)(Ut,{value:f,onChange:h}),"Custom"===d&&Object(D.f)(Bt,{value:f,onChange:h}),"No Filter"===d&&Object(D.f)("div",null),Object(D.f)(Ce.i,null),Object(D.f)("div",null,Object(D.f)("div",{className:"section-title"},Object(x.e)("Actual Time Range")),g&&Object(D.f)("div",null,m),!g&&Object(D.f)(Gt,{className:"warning"},Object(D.f)(we.a,{name:"error-solid-small",color:Oe.d.colors.error.base}),Object(D.f)("span",{className:"text error"},m))),Object(D.f)(Ce.i,null),Object(D.f)("div",{className:"footer"},Object(D.f)(Te.a,{buttonStyle:"secondary",cta:!0,key:"cancel",onClick:C},Object(x.e)("CANCEL")),Object(D.f)(Te.a,{buttonStyle:"primary",cta:!0,disabled:!g,key:"apply",onClick:function(){r(f),c(!1)}},Object(x.e)("APPLY")))),_=Object(D.f)(Gt,null,Object(D.f)(we.a,{name:"edit-alt"}),Object(D.f)("span",{className:"text"},Object(x.e)("Edit Time Range")));return Object(D.f)(l.a.Fragment,null,Object(D.f)(q.a,e),Object(D.f)(qt,{placement:"right",trigger:"click",content:w,title:_,defaultVisible:i,visible:i,onVisibleChange:()=>{i?C():c(!0)},overlayStyle:{width:"600px"}},Object(D.f)(xe.a,{placement:"top",title:y},Object(D.f)(Qe.a,{className:"pointer",onClick:()=>c(!0)},a))))},FixedOrMetricControl:jr,HiddenControl:Er,SelectAsyncControl:Tr.a,SelectControl:Dr.a,SliderControl:Ar,SpatialControl:Nr.a,TextAreaControl:Ir.a,TextControl:Wt.a,TimeSeriesColumnControl:Hr,ViewportControl:zr,VizTypeControl:Wr.a,MetricsControl:yr,AdhocFilterControl:Ea,FilterBoxItemControl:Ia};n(1424);class La extends l.a.PureComponent{constructor(e){var t,n,r;super(e),this.state={hovered:!1},this.onChange=i()(t=this.onChange).call(t,this),this.onMouseEnter=i()(n=this.setHover).call(n,this,!0),this.onMouseLeave=i()(r=this.setHover).call(r,this,!1)}onChange(e,t){this.props.actions.setControlValue(this.props.name,e,t)}setHover(e){this.setState({hovered:e})}render(){const{type:e,hidden:t}=this.props;if(!e)return null;const n="string"==typeof e?Fa[e]:e;return Object(D.f)("div",{className:"Control",style:t?{display:"none"}:void 0,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},Object(D.f)(n,a()({onChange:this.onChange,hovered:this.state.hovered},this.props)))}}},91:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=c(n(1335)),a=c(n(1336)),o=c(n(1337)),i=c(n(1338)),s=c(n(1339)),l=c(n(1340));function c(e){return e&&e.__esModule?e:{default:e}}t.hover=i.default,t.handleHover=i.default,t.handleActive=s.default,t.loop=l.default;var u=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s=(0,r.default)(n),l=(0,a.default)(e,s);return(0,o.default)(l)};t.default=u},938:function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,i=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,u=c&&c(Object);e.exports=function e(t,n,d){if("string"!=typeof n){if(u){var p=c(n);p&&p!==u&&e(t,p,d)}var f=i(n);s&&(f=f.concat(s(n)));for(var h=0;h<f.length;++h){var g=f[h];if(!(r[g]||a[g]||d&&d[g])){var b=l(n,g);try{o(t,g,b)}catch(e){}}}return t}return t}},939:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty,o=0;o<n.length;o+=1){if(!a.call(t,n[o])||e[n[o]]!==t[n[o]])return!1;var i=e[n[o]],s=t[n[o]];if(i!==s)return!1}return!0}},940:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return Boolean(e&&"function"==typeof e.dispose)},e.exports=t.default},941:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FILE="__NATIVE_FILE__",t.URL="__NATIVE_URL__",t.TEXT="__NATIVE_TEXT__"},987:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return f}));var r=n(42),a=n.n(r),o=n(64),i=n.n(o);function s(e){var t;return i()(t=a()(e)).call(t,(e,t)=>{const n=e;return n[t]=t,n},{})}const l={FORMULA:{value:"FORMULA",label:"Formula"},EVENT:{value:"EVENT",label:"Event",supportNativeSource:!0},INTERVAL:{value:"INTERVAL",label:"Interval",supportNativeSource:!0},TIME_SERIES:{value:"TIME_SERIES",label:"Time Series"}},c=s(l),u=c.FORMULA,d={NATIVE:{value:"NATIVE",label:"Superset annotation"}},p=s(d);function f(e){return!!e}},992:function(e,t,n){var r;!function(n,a){"use strict";function o(){}o.TO_RAD=Math.PI/180,o.TO_DEG=180/Math.PI,o.PI_X2=2*Math.PI,o.PI_DIV4=Math.PI/4;var i=Object.create(o.prototype,{version:{value:"2.0.23"},radius:{value:6378137},minLat:{value:-90},maxLat:{value:90},minLon:{value:-180},maxLon:{value:180},sexagesimalPattern:{value:/^([0-9]{1,3})°\s*([0-9]{1,3}(?:\.(?:[0-9]{1,2}))?)'\s*(([0-9]{1,3}(\.([0-9]{1,4}))?)"\s*)?([NEOSW]?)$/},measures:{value:Object.create(Object.prototype,{m:{value:1},km:{value:.001},cm:{value:100},mm:{value:1e3},mi:{value:1/1609.344},sm:{value:1/1852.216},ft:{value:100/30.48},in:{value:100/2.54},yd:{value:1/.9144}})},prototype:{value:o.prototype},extend:{value:function(e,t){for(var n in e)void 0!==i.prototype[n]&&!0!==t||("function"==typeof e[n]&&"function"==typeof e[n].bind?i.prototype[n]=e[n].bind(i):i.prototype[n]=e[n])}}});void 0===Number.prototype.toRad&&(Number.prototype.toRad=function(){return this*o.TO_RAD}),void 0===Number.prototype.toDeg&&(Number.prototype.toDeg=function(){return this*o.TO_DEG}),i.extend({decimal:{},sexagesimal:{},distance:null,getKeys:function(e){if("[object Array]"==Object.prototype.toString.call(e))return{longitude:e.length>=1?0:void 0,latitude:e.length>=2?1:void 0,elevation:e.length>=3?2:void 0};var t=function(t){var n;return t.every((function(t){return"object"!=typeof e||(!e.hasOwnProperty(t)||(n=t,!1))})),n},n=t(["lng","lon","longitude"]),r=t(["lat","latitude"]),a=t(["alt","altitude","elevation","elev"]);return void 0!==r||void 0!==n||void 0!==a?{latitude:r,longitude:n,elevation:a}:void 0},getLat:function(e,t){return!0===t?e[this.getKeys(e).latitude]:this.useDecimal(e[this.getKeys(e).latitude])},latitude:function(e){return this.getLat.call(this,e)},getLon:function(e,t){return!0===t?e[this.getKeys(e).longitude]:this.useDecimal(e[this.getKeys(e).longitude])},longitude:function(e){return this.getLon.call(this,e)},getElev:function(e){return e[this.getKeys(e).elevation]},elevation:function(e){return this.getElev.call(this,e)},coords:function(e,t){var n={latitude:!0===t?e[this.getKeys(e).latitude]:this.useDecimal(e[this.getKeys(e).latitude]),longitude:!0===t?e[this.getKeys(e).longitude]:this.useDecimal(e[this.getKeys(e).longitude])},r=e[this.getKeys(e).elevation];return void 0!==r&&(n.elevation=r),n},ll:function(e,t){return this.coords.call(this,e,t)},validate:function(e){var t=this.getKeys(e);if(void 0===t||void 0===t.latitude||"undefined"===t.longitude)return!1;var n=e[t.latitude],r=e[t.longitude];return!(void 0===n||!this.isDecimal(n)&&!this.isSexagesimal(n))&&(!(void 0===r||!this.isDecimal(r)&&!this.isSexagesimal(r))&&(n=this.useDecimal(n),r=this.useDecimal(r),!(n<this.minLat||n>this.maxLat||r<this.minLon||r>this.maxLon)))},getDistance:function(e,t,n,r){n=Math.floor(n)||1,r=Math.floor(r)||0;var a,o,s,l,c,u,d,p=this.coords(e),f=this.coords(t),h=6378137,g=6356752.314245,b=1/298.257223563,m=(f.longitude-p.longitude).toRad(),v=Math.atan((1-b)*Math.tan(parseFloat(p.latitude).toRad())),y=Math.atan((1-b)*Math.tan(parseFloat(f.latitude).toRad())),O=Math.sin(v),C=Math.cos(v),x=Math.sin(y),w=Math.cos(y),_=m,j=100;do{var S=Math.sin(_),E=Math.cos(_);if(0===(u=Math.sqrt(w*S*(w*S)+(C*x-O*w*E)*(C*x-O*w*E))))return i.distance=0;a=O*x+C*w*E,o=Math.atan2(u,a),c=a-2*O*x/(l=1-(s=C*w*S/u)*s),isNaN(c)&&(c=0);var T=b/16*l*(4+b*(4-3*l));d=_,_=m+(1-T)*b*s*(o+T*u*(c+T*a*(2*c*c-1)))}while(Math.abs(_-d)>1e-12&&--j>0);if(0===j)return NaN;var D=l*(h*h-g*g)/(g*g),k=D/1024*(256+D*(D*(74-47*D)-128)),M=g*(1+D/16384*(4096+D*(D*(320-175*D)-768)))*(o-k*u*(c+k/4*(a*(2*c*c-1)-k/6*c*(4*u*u-3)*(4*c*c-3))));if(M=M.toFixed(r),void 0!==this.elevation(e)&&void 0!==this.elevation(t)){var R=Math.abs(this.elevation(e)-this.elevation(t));M=Math.sqrt(M*M+R*R)}return this.distance=Math.round(M*Math.pow(10,r)/n)*n/Math.pow(10,r)},getDistanceSimple:function(e,t,n){n=Math.floor(n)||1;var r=Math.round(Math.acos(Math.sin(this.latitude(t).toRad())*Math.sin(this.latitude(e).toRad())+Math.cos(this.latitude(t).toRad())*Math.cos(this.latitude(e).toRad())*Math.cos(this.longitude(e).toRad()-this.longitude(t).toRad()))*this.radius);return i.distance=Math.floor(Math.round(r/n)*n)},getCenter:function(e){var t=e;if("object"==typeof e&&!(e instanceof Array))for(var n in t=[],e)t.push(this.coords(e[n]));if(!t.length)return!1;var r,a,i,s=0,l=0,c=0;t.forEach((function(e){r=this.latitude(e).toRad(),a=this.longitude(e).toRad(),s+=Math.cos(r)*Math.cos(a),l+=Math.cos(r)*Math.sin(a),c+=Math.sin(r)}),this);var u=t.length;return s/=u,l/=u,c/=u,a=Math.atan2(l,s),i=Math.sqrt(s*s+l*l),{latitude:((r=Math.atan2(c,i))*o.TO_DEG).toFixed(6),longitude:(a*o.TO_DEG).toFixed(6)}},getBounds:function(e){if(!e.length)return!1;var t=this.elevation(e[0]),n={maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0};void 0!==t&&(n.maxElev=0,n.minElev=1/0);for(var r=0,a=e.length;r<a;++r)n.maxLat=Math.max(this.latitude(e[r]),n.maxLat),n.minLat=Math.min(this.latitude(e[r]),n.minLat),n.maxLng=Math.max(this.longitude(e[r]),n.maxLng),n.minLng=Math.min(this.longitude(e[r]),n.minLng),t&&(n.maxElev=Math.max(this.elevation(e[r]),n.maxElev),n.minElev=Math.min(this.elevation(e[r]),n.minElev));return n},getCenterOfBounds:function(e){var t=this.getBounds(e),n=t.minLat+(t.maxLat-t.minLat)/2,r=t.minLng+(t.maxLng-t.minLng)/2;return{latitude:parseFloat(n.toFixed(6)),longitude:parseFloat(r.toFixed(6))}},getBoundsOfDistance:function(e,t){var n,r,a=this.latitude(e),i=this.longitude(e),s=a.toRad(),l=i.toRad(),c=t/this.radius,u=s-c,d=s+c,p=this.maxLat.toRad(),f=this.minLat.toRad(),h=this.maxLon.toRad(),g=this.minLon.toRad();if(u>f&&d<p){var b=Math.asin(Math.sin(c)/Math.cos(s));(n=l-b)<g&&(n+=o.PI_X2),(r=l+b)>h&&(r-=o.PI_X2)}else u=Math.max(u,f),d=Math.min(d,p),n=g,r=h;return[{latitude:u.toDeg(),longitude:n.toDeg()},{latitude:d.toDeg(),longitude:r.toDeg()}]},isPointInside:function(e,t){for(var n=!1,r=-1,a=t.length,o=a-1;++r<a;o=r)(this.longitude(t[r])<=this.longitude(e)&&this.longitude(e)<this.longitude(t[o])||this.longitude(t[o])<=this.longitude(e)&&this.longitude(e)<this.longitude(t[r]))&&this.latitude(e)<(this.latitude(t[o])-this.latitude(t[r]))*(this.longitude(e)-this.longitude(t[r]))/(this.longitude(t[o])-this.longitude(t[r]))+this.latitude(t[r])&&(n=!n);return n},preparePolygonForIsPointInsideOptimized:function(e){for(var t=0,n=e.length-1;t<e.length;t++)this.longitude(e[n])===this.longitude(e[t])?(e[t].constant=this.latitude(e[t]),e[t].multiple=0):(e[t].constant=this.latitude(e[t])-this.longitude(e[t])*this.latitude(e[n])/(this.longitude(e[n])-this.longitude(e[t]))+this.longitude(e[t])*this.latitude(e[t])/(this.longitude(e[n])-this.longitude(e[t])),e[t].multiple=(this.latitude(e[n])-this.latitude(e[t]))/(this.longitude(e[n])-this.longitude(e[t]))),n=t},isPointInsideWithPreparedPolygon:function(e,t){for(var n=!1,r=this.longitude(e),a=this.latitude(e),o=0,i=t.length-1;o<t.length;o++)(this.longitude(t[o])<r&&this.longitude(t[i])>=r||this.longitude(t[i])<r&&this.longitude(t[o])>=r)&&(n^=r*t[o].multiple+t[o].constant<a),i=o;return n},isInside:function(){return this.isPointInside.apply(this,arguments)},isPointInCircle:function(e,t,n){return this.getDistance(e,t)<n},withinRadius:function(){return this.isPointInCircle.apply(this,arguments)},getRhumbLineBearing:function(e,t){var n=this.longitude(t).toRad()-this.longitude(e).toRad(),r=Math.log(Math.tan(this.latitude(t).toRad()/2+o.PI_DIV4)/Math.tan(this.latitude(e).toRad()/2+o.PI_DIV4));return Math.abs(n)>Math.PI&&(n=n>0?-1*(o.PI_X2-n):o.PI_X2+n),(Math.atan2(n,r).toDeg()+360)%360},getBearing:function(e,t){return t.latitude=this.latitude(t),t.longitude=this.longitude(t),e.latitude=this.latitude(e),e.longitude=this.longitude(e),(Math.atan2(Math.sin(t.longitude.toRad()-e.longitude.toRad())*Math.cos(t.latitude.toRad()),Math.cos(e.latitude.toRad())*Math.sin(t.latitude.toRad())-Math.sin(e.latitude.toRad())*Math.cos(t.latitude.toRad())*Math.cos(t.longitude.toRad()-e.longitude.toRad())).toDeg()+360)%360},getCompassDirection:function(e,t,n){var r,a;switch(a="circle"==n?this.getBearing(e,t):this.getRhumbLineBearing(e,t),Math.round(a/22.5)){case 1:r={exact:"NNE",rough:"N"};break;case 2:r={exact:"NE",rough:"N"};break;case 3:r={exact:"ENE",rough:"E"};break;case 4:r={exact:"E",rough:"E"};break;case 5:r={exact:"ESE",rough:"E"};break;case 6:r={exact:"SE",rough:"E"};break;case 7:r={exact:"SSE",rough:"S"};break;case 8:r={exact:"S",rough:"S"};break;case 9:r={exact:"SSW",rough:"S"};break;case 10:r={exact:"SW",rough:"S"};break;case 11:r={exact:"WSW",rough:"W"};break;case 12:r={exact:"W",rough:"W"};break;case 13:r={exact:"WNW",rough:"W"};break;case 14:r={exact:"NW",rough:"W"};break;case 15:r={exact:"NNW",rough:"N"};break;default:r={exact:"N",rough:"N"}}return r.bearing=a,r},getDirection:function(e,t,n){return this.getCompassDirection.apply(this,arguments)},orderByDistance:function(e,t){return Object.keys(t).map((function(n){var r=this.getDistance(e,t[n]),a=Object.create(t[n]);return a.distance=r,a.key=n,a}),this).sort((function(e,t){return e.distance-t.distance}))},isPointInLine:function(e,t,n){return(this.getDistance(t,e,1,3)+this.getDistance(e,n,1,3)).toFixed(3)==this.getDistance(t,n,1,3)},isPointNearLine:function(e,t,n,r){return this.getDistanceFromLine(e,t,n)<r},getDistanceFromLine:function(e,t,n){var r=this.getDistance(t,e,1,3),a=this.getDistance(e,n,1,3),o=this.getDistance(t,n,1,3),i=Math.acos((r*r+o*o-a*a)/(2*r*o)),s=Math.acos((a*a+o*o-r*r)/(2*a*o));return i>Math.PI/2?r:s>Math.PI/2?a:Math.sin(i)*r},findNearest:function(e,t,n,r){n=n||0,r=r||1;var a=this.orderByDistance(e,t);return 1===r?a[n]:a.splice(n,r)},getPathLength:function(e){for(var t,n=0,r=0,a=e.length;r<a;++r)t&&(n+=this.getDistance(this.coords(e[r]),t)),t=this.coords(e[r]);return n},getSpeed:function(e,t,n){var r=n&&n.unit||"km";"mph"==r?r="mi":"kmh"==r&&(r="km");var a=i.getDistance(e,t)/(1*t.time/1e3-1*e.time/1e3)*3600;return Math.round(a*this.measures[r]*1e4)/1e4},computeDestinationPoint:function(e,t,n,r){var a=this.latitude(e),o=this.longitude(e);r=void 0===r?this.radius:Number(r);var i=Number(t)/r,s=Number(n).toRad(),l=Number(a).toRad(),c=Number(o).toRad(),u=Math.asin(Math.sin(l)*Math.cos(i)+Math.cos(l)*Math.sin(i)*Math.cos(s)),d=c+Math.atan2(Math.sin(s)*Math.sin(i)*Math.cos(l),Math.cos(i)-Math.sin(l)*Math.sin(u));return d=(d+3*Math.PI)%(2*Math.PI)-Math.PI,{latitude:u.toDeg(),longitude:d.toDeg()}},convertUnit:function(e,t,n){if(0===t)return 0;if(void 0===t){if(null===this.distance)throw new Error("No distance was given");if(0===this.distance)return 0;t=this.distance}if(e=e||"m",n=null==n?4:n,void 0!==this.measures[e])return this.round(t*this.measures[e],n);throw new Error("Unknown unit for conversion.")},useDecimal:function(e){if("[object Array]"===Object.prototype.toString.call(e)){var t=this;return e=e.map((function(e){if(t.isDecimal(e))return t.useDecimal(e);if("object"==typeof e){if(t.validate(e))return t.coords(e);for(var n in e)e[n]=t.useDecimal(e[n]);return e}return t.isSexagesimal(e)?t.sexagesimal2decimal(e):e}))}if("object"==typeof e&&this.validate(e))return this.coords(e);if("object"==typeof e){for(var n in e)e[n]=this.useDecimal(e[n]);return e}if(this.isDecimal(e))return parseFloat(e);if(!0===this.isSexagesimal(e))return parseFloat(this.sexagesimal2decimal(e));throw new Error("Unknown format.")},decimal2sexagesimal:function(e){if(e in this.sexagesimal)return this.sexagesimal[e];var t=e.toString().split("."),n=Math.abs(t[0]),r=60*("0."+(t[1]||0)),a=r.toString().split(".");return r=Math.floor(r),a=(60*("0."+(a[1]||0))).toFixed(2),this.sexagesimal[e]=n+"° "+r+"' "+a+'"',this.sexagesimal[e]},sexagesimal2decimal:function(e){if(e in this.decimal)return this.decimal[e];var t=new RegExp(this.sexagesimalPattern).exec(e),n=0,r=0;t&&(n=parseFloat(t[2]/60),r=parseFloat(t[4]/3600)||0);var a=(parseFloat(t[1])+n+r).toFixed(8);return a="S"==t[7]||"W"==t[7]?parseFloat(-a):parseFloat(a),this.decimal[e]=a,a},isDecimal:function(e){return e=e.toString().replace(/\s*/,""),!isNaN(parseFloat(e))&&parseFloat(e)==e},isSexagesimal:function(e){return e=e.toString().replace(/\s*/,""),this.sexagesimalPattern.test(e)},round:function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}}),void 0!==e.exports?(e.exports=i,"object"==typeof n&&(n.geolib=i)):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}(this)}}]);