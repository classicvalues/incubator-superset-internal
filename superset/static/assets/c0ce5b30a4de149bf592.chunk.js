(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{2954:function(e,a,t){"use strict";function c(e){return e&&"value"in e}function f(e){return e&&"field"in e&&!!e.field}function r(e){return f(e)&&"type"in e&&!!e.type}t.d(a,"c",(function(){return c})),t.d(a,"a",(function(){return f})),t.d(a,"b",(function(){return r}))},296:function(e,a,t){"use strict";function c(e,a){return e===a}function f(e,a,t){if(null===a||null===t||a.length!==t.length)return!1;for(var c=a.length,f=0;f<c;f++)if(!e(a[f],t[f]))return!1;return!0}function r(e){var a=Array.isArray(e[0])?e[0]:e;if(!a.every((function(e){return"function"==typeof e}))){var t=a.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t+"]")}return a}t.d(a,"a",(function(){return n}));var n=function(e){for(var a=arguments.length,t=Array(a>1?a-1:0),c=1;c<a;c++)t[c-1]=arguments[c];return function(){for(var a=arguments.length,c=Array(a),f=0;f<a;f++)c[f]=arguments[f];var n=0,d=c.pop(),i=r(c),s=e.apply(void 0,[function(){return n++,d.apply(null,arguments)}].concat(t)),o=e((function(){for(var e=[],a=i.length,t=0;t<a;t++)e.push(i[t].apply(null,arguments));return s.apply(null,e)}));return o.resultFunc=d,o.dependencies=i,o.recomputations=function(){return n},o.resetRecomputations=function(){return n=0},o}}((function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,t=null,r=null;return function(){return f(a,t,arguments)||(r=e.apply(null,arguments)),t=arguments,r}}))},3262:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));const c=t(3373).a},3373:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));class c{constructor(){var e,a,t;t=void 0,(a="items")in(e=this)?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,this.items={}}has(e){return null!=this.items[e]}get(e){return this.items[e]}getOrCreate(e,a){if(this.has(e))return this.get(e);const t=a();return this.set(e,t),t}set(e,a){return this.has(e)&&console.warn('Item with globalId "'+e+'" already exists. You are assigning a new value.'),this.items[e]=a,this}remove(e){return delete this.items[e],this}}var f=t(3888);const r=Object(f.a)(),n="__SINGLETON_STORE_COUNT__";let d;function i(){if(void 0===d){const e=r[n];"number"==typeof e?(console.warn("Found "+e+" existing instance(s) of global-box. This may cause unexpected behaviors. There should be only one global-box in your node_modules. Check your dependencies. All libraries should list global-box as peerDependencies and only install it as dependencies at the application level."),r[n]=e+1):r[n]=1,d=new c}return d}},3888:function(e,a,t){"use strict";(function(e){function c(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object")}t.d(a,"a",(function(){return c}))}).call(this,t(156))},4288:function(e,a,t){"use strict";t.d(a,"a",(function(){return ef}));var c=t(296),f=t(2954);function r(e){return!Array.isArray(e)}function n(e){return null!=e}var d=t(2777);const i="linear",s="log",o="pow",l="sqrt",b="symlog",u="time",h="utc",m="quantile",p="quantize",g="threshold",y="bin-ordinal",v="ordinal",w="point",D="band";function O(e){return"X"===e||"XBand"===e}function T(e){return"Y"===e||"YBand"===e}function A(e){return O(e)||T(e)}var C=Object.keys;function I(e,a){return"Invalid "+e+": "+String(a)+"."}const S=["january","february","march","april","may","june","july","august","september","october","november","december"],R=S.map(e=>e.slice(0,3)),j=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],P=j.map(e=>e.slice(0,3));function E(e){return"number"==typeof e}function N(e){return!!E(e)||!isNaN(e)&&!isNaN(parseFloat(e))}function M(e,a){const t=[];if(a&&void 0!==e.day&&C(e).length>1&&delete(e={...e}).day,void 0!==e.year?t.push(e.year):void 0!==e.day?t.push(2006):t.push(0),void 0!==e.month){const c=a?function(e){if(N(e)&&(e=Number(e)),E(e))return e-1;const a=e.toLowerCase(),t=S.indexOf(a);if(-1!==t)return t;const c=a.slice(0,3),f=R.indexOf(c);if(-1!==f)return f;throw new Error(I("month",e))}(e.month):e.month;t.push(c)}else if(void 0!==e.quarter){const c=a?function(e){if(N(e)&&(e=Number(e)),E(e))return e>4&&console.warn(I("quarter",e)),e-1;throw new Error(I("quarter",e))}(e.quarter):e.quarter;t.push(E(c)?3*c:c+"*3")}else t.push(0);if(void 0!==e.date)t.push(e.date);else if(void 0!==e.day){const c=a?function(e){if(N(e)&&(e=Number(e)),E(e))return e%7;const a=e.toLowerCase(),t=j.indexOf(a);if(-1!==t)return t;const c=a.slice(0,3),f=P.indexOf(c);if(-1!==f)return f;throw new Error(I("day",e))}(e.day):e.day;t.push(E(c)?c+1:c+"+1")}else t.push(1);return["hours","minutes","seconds","milliseconds"].forEach(a=>{const c=e[a];t.push(void 0===c?0:c)}),t}function F(e){return"number"==typeof e||"string"==typeof e?new Date(e):new Date(function(e){const a=M(e,!0);return e.utc?Number(new Date(Date.UTC(...a))):Number(new Date(...a))}(e))}function x(e){return!!e&&!(e instanceof Date)&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e&&("year"in e&&null!=e.year||"quarter"in e&&null!=e.quarter||"month"in e&&null!=e.month||"date"in e&&null!=e.date||"day"in e&&null!=e.day||"hours"in e&&null!=e.hours||"minutes"in e&&null!=e.minutes||"seconds"in e&&null!=e.seconds||"milliseconds"in e&&null!=e.milliseconds)}function _(e){return""+e}var q=t(3373);function L(e){let a;return function(){return void 0===a&&(a=e()),a}}var V=t(3262);var k={ALLOW:"ALLOW",PROHIBIT:"PROHIBIT",WARN:"WARN"};function B({globalId:e,name:a,version:t="0.x.x",defaultKey:c,setFirstItemAsDefault:f=!1,overwritePolicy:r=k.ALLOW}){return{globalId:e,name:a,version:t,defaultKey:c,initialDefaultKey:c,setFirstItemAsDefault:f,overwritePolicy:r,items:{},promises:{}}}class Y extends class{constructor(e={}){var a,t,c;c=void 0,(t="state")in(a=this)?Object.defineProperty(a,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[t]=c,void 0===e.globalId?this.state=B(e):this.state=Object(V.a)().getOrCreate(e.globalId,()=>B(e))}clear(){return this.state.items={},this.state.promises={},this.state.defaultKey=this.state.initialDefaultKey,this}has(e){const a=this.state.items[e];return null!=a}registerValue(e,a){const t=this.state.items[e],c=this.has(e)&&("value"in t&&t.value!==a||"loader"in t);if(c)if(this.state.overwritePolicy===k.WARN)console.warn('Item with key "'+e+'" already exists. You are assigning a new value.');else if(this.state.overwritePolicy===k.PROHIBIT)throw new Error('Item with key "'+e+'" already exists. Cannot overwrite.');return t&&!c||(this.state.items[e]={value:a},delete this.state.promises[e]),this.state.setFirstItemAsDefault&&!this.state.defaultKey&&(this.state.defaultKey=e),this}registerLoader(e,a){const t=this.state.items[e],c=this.has(e)&&("loader"in t&&t.loader!==a||"value"in t);if(c)if(this.state.overwritePolicy===k.WARN)console.warn('Item with key "'+e+'" already exists. You are assigning a new value.');else if(this.state.overwritePolicy===k.PROHIBIT)throw new Error('Item with key "'+e+'" already exists. Cannot overwrite.');return t&&!c||(this.state.items[e]={loader:a},delete this.state.promises[e]),this.state.setFirstItemAsDefault&&!this.state.defaultKey&&(this.state.defaultKey=e),this}get(e){const a=null!=e?e:this.state.defaultKey;if(void 0===a)return;const t=this.state.items[a];return void 0!==t?"loader"in t?t.loader&&t.loader():t.value:void 0}getAsPromise(e){const a=this.state.promises[e];if(void 0!==a)return a;const t=this.get(e);if(void 0!==t){const a=Promise.resolve(t);return this.state.promises[e]=a,a}return Promise.reject(new Error('Item with key "'+e+'" is not registered.'))}getDefaultKey(){return this.state.defaultKey}setDefaultKey(e){return this.state.defaultKey=e,this}clearDefaultKey(){return this.state.defaultKey=void 0,this}getMap(){return this.keys().reduce((e,a)=>{const t=e;return t[a]=this.get(a),t},{})}getMapAsPromise(){const e=this.keys();return Promise.all(e.map(e=>this.getAsPromise(e))).then(a=>a.reduce((a,t,c)=>{const f=a;return f[e[c]]=t,f},{}))}keys(){return Object.keys(this.state.items)}values(){return this.keys().map(e=>this.get(e))}valuesAsPromise(){return Promise.all(this.keys().map(e=>this.getAsPromise(e)))}entries(){return this.keys().map(e=>({key:e,value:this.get(e)}))}entriesAsPromise(){const e=this.keys();return Promise.all(e.map(e=>this.getAsPromise(e))).then(a=>a.map((a,t)=>({key:e[t],value:a})))}remove(e){return delete this.state.items[e],delete this.state.promises[e],this}size(){return this.keys().length}isEmpty(){return 0===this.size()}}{}class G extends Y{constructor(e,{name:a,defaultKey:t}){var c,f,r;super({name:a,defaultKey:t,globalId:void 0===e.state.globalId?void 0:e.state.globalId+":"+a,overwritePolicy:e.state.overwritePolicy,setFirstItemAsDefault:e.state.setFirstItemAsDefault}),r=void 0,(f="parent")in(c=this)?Object.defineProperty(c,f,{value:r,enumerable:!0,configurable:!0,writable:!0}):c[f]=r,this.parent=e}get(e){const a=null!=e?e:this.getDefaultKey();return void 0!==a&&this.has(a)?this.parent.get(a):void 0}register(e){return Array.isArray(e)?(e.forEach(e=>{this.registerValue(e.id,e)}),this):this.registerValue(e.id,e)}_registerValue(e,a){return super.registerValue(e,a)}registerValue(e,a){return this.parent.registerValue(e,a),this}_registerLoader(e,a){return super.registerLoader(e,a)}registerLoader(e,a){return this.parent.registerLoader(e,a),this}clear(){return this.keys().forEach(e=>this.parent.remove(e)),super.clear()}_clear(){return super.clear()}remove(e){return this.parent.remove(e),this}_remove(e){return super.remove(e)}}var K=t(2780);class U{constructor(e){var a,t,c;c=void 0,(t="scheme")in(a=this)?Object.defineProperty(a,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[t]=c,this.scheme=e}get type(){return this.scheme.type}get id(){return this.scheme.id}get label(){return this.scheme.label}get description(){return this.scheme.description}}class W extends U{get colors(){return this.scheme.colors}getColors(e){const{length:a}=this.scheme.colors;if(void 0===e||e===a)return this.scheme.colors;if(e<a)return this.scheme.colors.slice(0,e);const t=Math.ceil(e/a);let c=this.scheme.colors.slice();for(let e=0;e<t;e+=1)c=c.concat(this.scheme.colors);return c.slice(0,e)}createScaleOrdinal(){return Object(K.a)(this.scheme.colors)}}var X=t(2750),z=t(1461),H=t(2781),J=t(716),$=t(954);function Q(e){return Array.isArray(e[e.length-1])}class Z extends U{get colors(){return"colors"in this.scheme&&void 0!==this.scheme.colors?this.scheme.colors:this.getColors()}get interpolator(){if("interpolator"in this.scheme&&void 0!==this.scheme.interpolator)return this.scheme.interpolator;const e=this.scheme.colors;return Object(X.a)(z.a,(Q(e)?e[e.length-1]:e).slice())}getColors(e=2,a=[0,1]){if("colors"in this.scheme&&void 0!==this.scheme.colors&&0===a[0]&&1===a[1]){const{colors:a}=this.scheme;if(Q(a)){if(void 0!==a[e])return a[e].slice()}else if(e===a.length)return a.slice()}const{interpolator:t}=this,c=Object(J.a)().range(a).clamp(!0);return Object(H.a)(e=>t(c(e)),e)}createScaleLinear(){return Object($.b)(this.interpolator)}}class ee extends Z{}var ae=t(2782);class te extends Z{getColors(e=3,a=[0,1]){return super.getColors(e,a)}createScaleLinear(){return Object(ae.a)(this.interpolator)}}var ce=function(e){switch(e.type){case"categorical":return e instanceof W?e:new W(e);case"sequential":return e instanceof ee?e:new ee(e);case"diverging":return e instanceof te?e:new te(e);default:throw new Error("Unknown scheme type: "+e.type)}};function fe(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}class re extends Y{constructor({name:e="ColorScheme",overwritePolicy:a=k.WARN,setFirstItemAsDefault:t=!0,...c}={}){super({name:e,overwritePolicy:a,setFirstItemAsDefault:t,...c}),fe(this,"categorical",void 0),fe(this,"sequential",void 0),fe(this,"diverging",void 0),fe(this,"wrappers",void 0),this.categorical=new G(this,{name:"categorical"}),this.sequential=new G(this,{name:"sequential"}),this.diverging=new G(this,{name:"diverging"}),this.wrappers=new Y}get(e){const a=null!=e?e:this.getDefaultKey();if(void 0===a)return;const t=super.get(a);if(void 0===t)return t;if(this.wrappers.has(a))return this.wrappers.get(e);const c=ce(t);return this.wrappers.registerValue(a,c),c}clear(){return super.clear(),this.categorical._clear(),this.sequential._clear(),this.diverging._clear(),this}remove(e){return super.remove(e),this.categorical._remove(e),this.sequential._remove(e),this.diverging._remove(e),this}register(e){return Array.isArray(e)?(e.forEach(e=>{this.registerValue(e.id,e)}),this):this.registerValue(e.id,e)}registerValue(e,a){switch(a.type){case"categorical":super.registerValue(e,a),this.categorical._registerValue(e,a);break;case"sequential":super.registerValue(e,a),this.sequential._registerValue(e,a);break;case"diverging":super.registerValue(e,a),this.diverging._registerValue(e,a)}return this}registerLoader(e,a){switch(a().type){case"categorical":super.registerLoader(e,a),this.categorical._registerLoader(e,a);break;case"sequential":super.registerLoader(e,a),this.sequential._registerLoader(e,a);break;case"diverging":super.registerLoader(e,a),this.diverging._registerLoader(e,a)}return this}}var ne=function(e){for(var a=e.length/6|0,t=new Array(a),c=0;c<a;)t[c]="#"+e.slice(6*c,6*++c);return t},de=ne("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ie=ne("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),se=ne("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),oe=ne("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),le=ne("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),be=ne("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ue=ne("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),he=ne("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),me=ne("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),pe=ne("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ge=t(725),ye=e=>Object(ge.d)(e[e.length-1]),ve=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ne),we=ye(ve),De=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ne),Oe=ye(De),Te=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ne),Ae=ye(Te),Ce=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ne),Ie=ye(Ce),Se=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ne),Re=ye(Se),je=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ne),Pe=ye(je),Ee=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ne),Ne=ye(Ee),Me=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ne),Fe=ye(Me),xe=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ne),_e=ye(xe),qe=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ne),Le=ye(qe),Ve=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ne),ke=ye(Ve),Be=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ne),Ye=ye(Be),Ge=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ne),Ke=ye(Ge),Ue=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ne),We=ye(Ue),Xe=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ne),ze=ye(Xe);function He(e){var a=e.length;return function(t){return e[Math.max(0,Math.min(a-1,Math.floor(t*a)))]}}var Je=He(ne("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),$e=He(ne("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Qe=He(ne("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Ze=He(ne("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),ea=t(74),aa=Object(ge.b)(Object(ea.b)(-100,.75,.35),Object(ea.b)(80,1.5,.8)),ta=Object(ge.b)(Object(ea.b)(260,.75,.35),Object(ea.b)(80,1.5,.8)),ca=Object(ea.b)(),fa=Object(ge.b)(Object(ea.b)(300,.5,0),Object(ea.b)(-240,.5,1)),ra=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ne),na=ye(ra),da=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ne),ia=ye(da),sa=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ne),oa=ye(sa),la=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ne),ba=ye(la),ua=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ne),ha=ye(ua),ma=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ne),pa=ye(ma),ga=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ne),ya=ye(ga),va=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ne),wa=ye(va),Da=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ne),Oa=ye(Da),Ta=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ne),Aa=ye(Ta),Ca=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ne),Ia=ye(Ca),Sa=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ne),Ra=ye(Sa),ja=Object(ea.f)(),Pa=Math.PI/3,Ea=2*Math.PI/3;const Na=[{type:"categorical",id:"d3.category10",colors:de,label:"D3: Category10",description:"Classic Ten categorical colors"},{type:"categorical",id:"d3.accent",colors:ie,label:"D3: Accent"},{type:"categorical",id:"d3.dark2",colors:se,label:"D3: Dark2"},{type:"categorical",id:"d3.paired",colors:oe,label:"D3: Paired"},{type:"categorical",id:"d3.pastel1",colors:le,label:"D3: Pastel1"},{type:"categorical",id:"d3.pastel2",colors:be,label:"D3: Pastel2"},{type:"categorical",id:"d3.set1",colors:ue,label:"D3: Set1"},{type:"categorical",id:"d3.set2",colors:he,label:"D3: Set2"},{type:"categorical",id:"d3.set3",colors:me,label:"D3: Set3"},{type:"categorical",id:"d3.tableau10",colors:pe,label:"D3: Tableau10",description:"Ten categorical colors authored by Tableau as part of Tableau 10"}],Ma=[{type:"diverging",id:"d3.RdBu",interpolator:we,colors:ve,label:"D3: Red/Blue"},{type:"diverging",id:"d3.BrBG",interpolator:Oe,colors:De,label:"D3: Brown/BlueGreen"},{type:"diverging",id:"d3.PRGn",interpolator:Ae,colors:Te,label:"D3: PurpleRed/Green"},{type:"diverging",id:"d3.PiYG",interpolator:Ie,colors:Ce,label:"D3: Pink/YellowGreen"},{type:"diverging",id:"d3.PuOr",interpolator:Re,colors:Se,label:"D3: Purple/Orange"},{type:"diverging",id:"d3.RdGy",interpolator:Pe,colors:je,label:"D3: Red/Grey"},{type:"diverging",id:"d3.RdYlBu",interpolator:Ne,colors:Ee,label:"D3: Red/Yellow/Blue"},{type:"diverging",id:"d3.RdYlGn",interpolator:Fe,colors:Me,label:"D3: Red/Yellow/Green"},{type:"diverging",id:"d3.spectral",interpolator:_e,colors:xe,label:"D3: Spectral"}],Fa=[{type:"sequential",id:"d3.rainbow",interpolator:function(e){(e<0||e>1)&&(e-=Math.floor(e));var a=Math.abs(e-.5);return ca.h=360*e-100,ca.s=1.5-1.5*a,ca.l=.8-.9*a,ca+""},label:"D3: Rainbow"},{type:"sequential",id:"d3.sinebow",interpolator:function(e){var a;return e=(.5-e)*Math.PI,ja.r=255*(a=Math.sin(e))*a,ja.g=255*(a=Math.sin(e+Pa))*a,ja.b=255*(a=Math.sin(e+Ea))*a,ja+""},label:"D3: Sinebow"}],xa=[{type:"sequential",id:"d3.blues",interpolator:Le,colors:qe,label:"D3: Blues"},{type:"sequential",id:"d3.greens",interpolator:ke,colors:Ve,label:"D3: Greens"},{type:"sequential",id:"d3.greys",interpolator:Ye,colors:Be,label:"D3: Greys"},{type:"sequential",id:"d3.oranges",interpolator:Ke,colors:Ge,label:"D3: Oranges"},{type:"sequential",id:"d3.purples",interpolator:We,colors:Ue,label:"D3: Purples"},{type:"sequential",id:"d3.reds",interpolator:ze,colors:Xe,label:"D3: Reds"}].concat([{type:"sequential",id:"d3.turbo",interpolator:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},label:"D3: Turbo"},{type:"sequential",id:"d3.viridis",interpolator:Je,label:"D3: Viridis"},{type:"sequential",id:"d3.inferno",interpolator:Qe,label:"D3: Inferno"},{type:"sequential",id:"d3.magma",interpolator:$e,label:"D3: Magma"},{type:"sequential",id:"d3.plasma",interpolator:Ze,label:"D3: Plasma"},{type:"sequential",id:"d3.cividis",interpolator:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},label:"D3: Cividis"},{type:"sequential",id:"d3.warm",interpolator:aa,label:"D3: Warm"},{type:"sequential",id:"d3.cool",interpolator:ta,label:"D3: Cool"},{type:"sequential",id:"d3.cubehelixDefault",interpolator:fa,label:"D3: Cube Helix"},{type:"sequential",id:"d3.BuGn",interpolator:na,colors:ra,label:"D3: Blue/Green"},{type:"sequential",id:"d3.BuPu",interpolator:ia,colors:da,label:"D3: Blue/Purple"},{type:"sequential",id:"d3.GnBu",interpolator:oa,colors:sa,label:"D3: Green/Blue"},{type:"sequential",id:"d3.OrRd",interpolator:ba,colors:la,label:"D3: Orange/Red"},{type:"sequential",id:"d3.PuBuGn",interpolator:ha,colors:ua,label:"D3: Purple/Blue/Green"},{type:"sequential",id:"d3.PuBu",interpolator:pa,colors:ma,label:"D3: Purple/Blue"},{type:"sequential",id:"d3.PuRd",interpolator:ya,colors:ga,label:"D3: Purple/Red"},{type:"sequential",id:"d3.RdPu",interpolator:wa,colors:va,label:"D3: Red/Purple"},{type:"sequential",id:"d3.YlGnBu",interpolator:Oa,colors:Da,label:"D3: Yellow/Green/Blue"},{type:"sequential",id:"d3.YlGn",interpolator:Aa,colors:Ta,label:"D3: Yellow/Green"},{type:"sequential",id:"d3.YlOrBr",interpolator:Ia,colors:Ca,label:"D3: Yellow/Orange/Brown"},{type:"sequential",id:"d3.YlOrRd",interpolator:Ra,colors:Sa,label:"D3: Yellow/Orange/Red"}]).concat(Fa),_a=Na.concat(Ma).concat(xa),qa=L(()=>new re({globalId:"@encodable/color:ColorSchemeRegistry"}).register(_a));function La(e){return String(e).trim()}class Va extends Function{constructor(e){return super(),Object.setPrototypeOf(e,new.target.prototype)}}function ka(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}class Ba extends Va{constructor(e,a){super(e=>this.getColor(e)),ka(this,"state",void 0),ka(this,"parentManualColors",void 0),Array.isArray(e)?this.state={manualColors:{},scale:Object(K.a)(e)}:this.state=e,this.parentManualColors=a}get colors(){return this.state.scale.range()}getColor(e){const a=La(e),t=this.parentManualColors&&this.parentManualColors[a];if(t)return t;const c=this.state.manualColors[a];return c||this.state.scale(a)}setColor(e,a){return this.state.manualColors[La(e)]=a,this}getColorMap(){const e={};return this.state.scale.domain().forEach(a=>{e[String(a)]=this.state.scale(a)}),{...e,...this.state.manualColors,...this.parentManualColors}}copy(){return new Ba({manualColors:{...this.state.manualColors},scale:this.state.scale.copy()},this.parentManualColors)}domain(e){return void 0===e?this.state.scale.domain():(this.state.scale.domain(e),this)}range(e){return void 0===e?this.state.scale.range():(this.state.scale.range(e),this)}unknown(e){return void 0===e?this.state.scale.unknown():(this.state.scale.unknown(e),this)}}var Ya=Ba;function Ga(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}class Ka{constructor(e){Ga(this,"state",void 0),Ga(this,"scales",void 0),this.state="string"==typeof e?{name:e,manualColors:{},scales:{}}:e,this.scales=new Y}get name(){return this.state.name}hasManualColor(e){return void 0!==this.state.manualColors[La(e)]}setColor(e,a){return this.state.manualColors[La(e)]=a,this}unsetColor(e){return delete this.state.manualColors[La(e)],this}clearManualColors(){return this.state.manualColors={},this}hasScale(e){return void 0!==this.state.scales[e]}getScale(e){var a;const t=null!=(a=null!=e?e:qa().categorical.getDefaultKey())?a:"undefined";if(void 0===this.state.scales[t]){var c,f;const e=new Ya(null!=(c=null==(r=t,f=qa().categorical.get(r))?void 0:f.colors.slice())?c:[],this.state.manualColors);return this.state.scales[t]=e.state,this.scales.registerValue(t,e),e}var r;if(this.scales.has(t))return this.scales.get(t);const n=new Ya(this.state.scales[t],this.state.manualColors);return this.scales.registerValue(t,n),n}}function Ua(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}class Wa{constructor({name:e="ColorNamespaceRegistry",globalId:a,...t}={}){Ua(this,"namespaceStates",void 0),Ua(this,"namespaceInstances",void 0),this.namespaceStates=new Y({name:e,globalId:a,...t}),this.namespaceInstances=new Y({name:e,...t}),void 0===this.namespaceStates.getDefaultKey()&&this.setDefaultNamespace("DEFAULT_NAMESPACE")}getDefaultNamespace(){var e;return null!=(e=this.namespaceStates.getDefaultKey())?e:"DEFAULT_NAMESPACE"}setDefaultNamespace(e){return this.namespaceStates.setDefaultKey(e),this.namespaceInstances.setDefaultKey(e),this}has(e){return this.namespaceStates.has(e)}get(e=this.getDefaultNamespace()){if(!this.namespaceStates.has(e)){const a=new Ka(e);return this.namespaceStates.registerValue(e,a.state),this.namespaceInstances.registerValue(e,a),a}if(this.namespaceInstances.has(e))return this.namespaceInstances.get(e);const a=new Ka(this.namespaceStates.get(e));return this.namespaceInstances.registerValue(e,a),a}keys(){return this.namespaceStates.keys()}clear(){return this.namespaceStates.clear(),this.namespaceInstances.clear(),this}remove(e){return this.namespaceStates.remove(e),this.namespaceInstances.remove(e),this}}const Xa=L(()=>new Wa({globalId:"@encodable/color:ColorNamespaceRegistry"}));var za=t(2778),Ha=t(1874);function Ja(e,a){const t=a=>function(e,a){return null==e||Number.isNaN(e)?""+e:e===Number.POSITIVE_INFINITY?"∞":e===Number.NEGATIVE_INFINITY?"-∞":a(e)}(a,e);if(void 0!==a){const{id:e,label:c,description:f,isInvalid:r=!1}=a;t.id=e,t.label=c,t.description=f,t.isInvalid=r}return t}function $a(e,a){return a.startsWith(e)?a:e+a}const Qa={CURRENCY:"$,.2f",CURRENCY_ROUND:"$,d",FLOAT_1_POINT:",.1f",FLOAT_2_POINT:",.2f",FLOAT_3_POINT:",.3f",FLOAT:",.2f",INTEGER:",d",PERCENT_1_POINT:",.1%",PERCENT_2_POINT:",.2%",PERCENT_3_POINT:",.3%",PERCENT:",.2%",SI_1_DIGIT:".1s",SI_2_DIGIT:".2s",SI_3_DIGIT:".3s",SI:".3s",SMART_NUMBER:"SMART_NUMBER"},Za=Object.entries(Qa).reduce((e,[a,t])=>(e[a]=$a("+",t),e),{});var et={...Qa,signed:Za};const at=Object(za.a)(".3~s"),tt=Object(za.a)(".2~f"),ct=Object(za.a)(".4~f");const ft=()=>"",rt=e=>e>0?"+":"";function nt({signed:e=!1,id:a,label:t,description:c}={}){const f=e?rt:ft;return Ja(e=>""+f(e)+function(e){if(0===e)return"0";const a=Math.abs(e);return a>=1e3?at(e).replace("G","B"):a>=1?tt(e):a>=.001?ct(e):a>1e-6?at(1e6*e)+"µ":at(e)}(e),{id:(null!=a?a:e)?et.signed.SMART_NUMBER:et.SMART_NUMBER,label:null!=t?t:"Adaptive formatter",description:c})}class dt extends Y{constructor({overwritePolicy:e=k.WARN,...a}){super({overwritePolicy:e,...a})}get(e){const a=(""+(null==e||0===e.trim().length?this.getDefaultKey():e)).trim();if(this.has(a))return super.get(a);const t=this.createFormatter(a);return this.registerValue(a,t),t}format(e,a){return this.get(e)(a)}}class it extends dt{constructor({name:e="NumberFormatter",...a}={}){super({name:e,...a}),this.registerValue(et.SMART_NUMBER,nt()),this.registerValue(et.signed.SMART_NUMBER,nt({signed:!0})),this.setDefaultKey(et.SMART_NUMBER)}createFormatter(e){return function({format:e,locale:a,id:t,label:c,description:f}){let r,n=!1;try{r=void 0===a?Object(za.a)(e):Object(Ha.a)(a).format(e)}catch(a){r=a=>a+" (Invalid format: "+e+")",n=!0}return Ja(r,{id:null!=t?t:e,label:c,description:f,isInvalid:n})}({format:e})}}const st=L(()=>new it({globalId:"@encodable/format:NumberFormatterRegistry"}));var ot={DATABASE_DATE:"%Y-%m-%d",DATABASE_DATETIME:"%Y-%m-%d %H:%M:%S",DATABASE_DATETIME_REVERSE:"%d-%m-%Y %H:%M:%S",INTERNATIONAL_DATE:"%d/%m/%Y",TIME:"%H:%M:%S",US_DATE:"%m/%d/%Y"},lt=t(2779),bt=t(1875);function ut(e,a){const t=a=>function(e,a){return null==e?""+e:a(e instanceof Date?e:new Date(e))}(a,e);if(void 0!==a){const{id:e,label:c,description:f,useLocalTime:r}=a;t.id=e,t.label=c,t.description=f,t.useLocalTime=r}return t}class ht extends dt{constructor({defaultKey:e=ot.DATABASE_DATETIME,name:a="TimeFormatter",...t}={}){super({defaultKey:e,name:a,...t})}createFormatter(e){return function({format:e,locale:a,useLocalTime:t=!1,id:c,label:f,description:r}){let n;if(void 0===a){n=(t?lt.a:lt.b)(e)}else{const c=Object(bt.a)(a);n=t?c.format(e):c.utcFormat(e)}return ut(n,{id:null!=c?c:t?$a("local!",e):e,label:f,description:r,useLocalTime:t})}({format:(a="local!",t=e,t.startsWith(a)?t.slice(a.length,t.length):t),useLocalTime:e.startsWith("local!")});var a,t}}const mt=L(()=>new ht({globalId:"@encodable/format:TimeFormatterRegistry"}));const pt=function(e){return st().get(e)},gt=({format:e,formatInLocalTime:a=!1}={})=>function(e){return mt().get(e)}(a?$a("local!",null!=e?e:mt().getDefaultKey()):e),yt=({name:e,type:a="categorical"}={})=>qa()[a].get(e),vt=({name:e,namespace:a}={})=>function(e,a){return Xa().get(a).getScale(e)}(e,a);var wt=new class{constructor(){var e,a,t;t=void 0,(a="state")in(e=this)?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,this.state=Object(q.a)().getOrCreate("@encodable/encodable:options",()=>({}))}getNumberFormatResolver(){var e;return null!=(e=this.state.numberFormatResolver)?e:pt}setNumberFormatResolver(e){return this.state.numberFormatResolver=e,this}resetNumberFormatResolver(){return this.setNumberFormatResolver(void 0)}resolveNumberFormat(...e){return this.getNumberFormatResolver()(...e)}getTimeFormatResolver(){var e;return null!=(e=this.state.timeFormatResolver)?e:gt}setTimeFormatResolver(e){return this.state.timeFormatResolver=e,this}resetTimeFormatResolver(){return this.setTimeFormatResolver(void 0)}resolveTimeFormat(...e){return this.getTimeFormatResolver()(...e)}getCategoricalColorScaleResolver(){var e;return null!=(e=this.state.categoricalColorScaleResolver)?e:vt}setCategoricalColorScaleResolver(e){return this.state.categoricalColorScaleResolver=e,this}resetCategoricalColorScaleResolver(){return this.setCategoricalColorScaleResolver(void 0)}resolveCategoricalColorScale(...e){return this.getCategoricalColorScaleResolver()(...e)}getColorSchemeResolver(){var e;return null!=(e=this.state.colorSchemeResolver)?e:yt}setColorSchemeResolver(e){return this.state.colorSchemeResolver=e,this}resetColorSchemeResolver(){return this.setColorSchemeResolver(void 0)}resolveColorScheme(...e){return this.getColorSchemeResolver()(...e)}};function Dt({formatType:e,format:a,formatInLocalTime:t}){if("time"===e){const e=wt.resolveTimeFormat({format:a,formatInLocalTime:t});return a=>e(a)}if("number"===e||void 0!==a&&a.length>0){const e=wt.resolveNumberFormat(a);return a=>e(a)}return _}function Ot(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}class Tt{constructor(e){Ot(this,"channelEncoder",void 0),Ot(this,"config",void 0),Ot(this,"formatValue",void 0),this.channelEncoder=e,this.config=e.definition.axis,this.formatValue=Dt(this.config)}getTitle(){return this.config.title}hasTitle(){const{title:e}=this.config;return null!=e&&""!==e}getTickLabels(){const{tickCount:e,values:a}=this.config;if(void 0!==a)return a.map(e=>this.formatValue(x(e)?F(e):e));const{scale:t}=this.channelEncoder;if(t&&"domain"in t){return("ticks"in t?t.ticks(e):t.domain()).map(this.formatValue)}return[]}}var At=t(2768),Ct=t.n(At);function It(e){return!function(e){return!1===e||null===e}(e)}const St={strategy:"flat"},Rt={labelAngle:40,strategy:"rotate"};function jt(e,a="auto"){let t;switch(a){case"flat":t=St;break;case"rotate":t=Rt;break;case"auto":t=O(e)?Rt:St;break;default:t=a}return{...t}}const Pt=[i,o,l,b,s,u,h],Et=new Set(Pt),Nt=[m,p,g],Mt=(new Set(Nt),Pt.concat(Nt)),Ft=(new Set(Mt),new Set([v,y,w,D]),Pt),xt=Et,_t=new Set([D,w,v]),qt=new Set([y,m,p,g]),Lt=new Set([u,h]),Vt=[i,s,o,l,b,u,h,m,p,g,y,v,w,D],kt=new Set(Vt);function Bt(e,a){if(function(e,a){return Object(f.b)(a)&&A(e)}(e,a)&&It(a.axis)){const t=!0===a.axis||void 0===a.axis?{}:a.axis,c=O(e),{format:f=a.format,formatType:r=a.formatType,formatInLocalTime:n=a.formatInLocalTime,labelAngle:d=0,labelFlush:i,labelOverlap:s,labelPadding:o=4,orient:l=(c?"bottom":"left"),tickCount:b=5,ticks:u=!0,title:h=a.title,titlePadding:m=4}=t,p={...t,format:f,formatType:r,labelAngle:d,labelFlush:void 0===i?a.scale&&void 0!==a.scale.type&&Et.has(a.scale.type):i,labelOverlap:jt(e,s),labelPadding:o,orient:l,tickCount:b,ticks:u,title:h,titlePadding:m};return void 0!==n&&(p.formatInLocalTime=n),p}return!1}function Yt(e,a,t=!1){if("nominal"===a||"ordinal"===a)switch(e){case"XBand":case"YBand":return D;case"X":case"Y":case"Numeric":return w;case"Color":case"Category":return v}else if("quantitative"===a)switch(e){case"XBand":case"YBand":case"X":case"Y":case"Numeric":return i;case"Color":return t?y:i}else if("temporal"===a)switch(e){case"XBand":case"YBand":case"X":case"Y":case"Numeric":return h;case"Color":return i}}const Gt=[w,D],Kt=new Set(Gt),Ut=Vt.filter(e=>!Kt.has(e)),Wt=new Set(Ut),Xt=new Set(Ft.concat(Gt)),zt=new Set(Mt);zt.delete(s),zt.delete(u),zt.delete(h),zt.delete(g),zt.delete(m);const Ht={align:Kt,base:new Set([s]),clamp:xt,constant:new Set([b]),domain:kt,exponent:new Set([o]),interpolate:Wt,nice:new Set(Ft.concat([p,g])),padding:Xt,paddingInner:new Set([D]),paddingOuter:Kt,range:kt,reverse:kt,round:Xt,scheme:Wt,type:kt,unknown:new Set([v]),zero:zt};function Jt(e){return xt.has(e.type)}function $t(e){return a="zero",t=e.type,Ht[a].has(t);var a,t}const Qt=new Set(["time","date","datetime","timestamp"]);function Zt(e,a=""){return A(e)||"Numeric"===e?Qt.has(a.toLowerCase())?"temporal":"quantitative":"nominal"}function ec(e,a){var t;if(Object(f.c)(a))return{...a,axis:!1,legend:!1,scale:!1,title:""};const c={...a,title:Object(f.a)(a)?null!=(t=a.title)?t:a.field:"",type:Object(f.b)(a)?a.type:Zt(e,a.field)},r=function(e,a){if(Object(f.b)(a)&&It(a.scale)){const{scale:t={},type:c,bin:f}=a,{type:r=Yt(e,c,f)}=t;if(void 0===r)return!1;const n={...t,type:r};return Jt(n)&&(void 0===n.nice&&(n.nice=!Lt.has(r)),void 0===n.clamp&&(n.clamp=!0)),$t(n)&&void 0===n.zero&&(n.zero=!0),n}return!1}(e,c),n=function(e){const{formatType:a,formatInLocalTime:t,format:c,type:f,scaleType:r}=e;let n;return void 0!==a?n=a:"quantitative"===f?n="number":"temporal"===f||"time"===r||"utc"===r?n="time":void 0!==c&&c.length>0&&(n="number"),"time"===n?{formatType:"time",formatInLocalTime:t||void 0===t&&"time"===r,format:c}:{formatType:n,format:c}}({...a,scaleType:r?r.type:void 0}),d={...c,...n,scale:r},i=Bt(e,d),s=function(e,a){return"legend"in a&&void 0!==a.legend?a.legend:!A(e)&&"Text"!==e&&{}}(e,d);return{...d,axis:i,legend:s}}var ac=t(840),tc=t(2784),cc=t(2785),fc=t(1872),rc=t(2786),nc=t(2795),dc=t(2787),ic=t(2788),sc=t(1873),oc=t(2797),lc=t(2789);var bc=t(2754),uc=t(2755),hc=t(2756),mc=t(2752),pc=t(1879),gc=t(2753),yc=t(2751),vc=t(2760),wc=t(2761),Dc=t(2762),Oc=t(2758),Tc=t(2759),Ac=t(2757);const Cc={day:bc.a,hour:uc.a,minute:hc.a,month:mc.a,second:pc.a,week:gc.a,year:yc.a},Ic={day:vc.a,hour:wc.a,minute:Dc.a,month:Oc.a,second:pc.a,week:Tc.a,year:Ac.a};function Sc(e,a){if("nice"in e&&void 0!==e.nice&&"nice"in a){const{nice:t}=e;if("boolean"==typeof t)t&&a.nice();else if("number"==typeof t)a.nice(t);else{const c=a,{type:f}=e;if("string"==typeof t)c.nice(f===h?Ic[t]:Cc[t]);else{const{interval:e,step:a}=t,r=(f===h?Ic[e]:Cc[e]).every(a);null!==r&&c.nice(r)}}}}function Rc(e,a){return e&&xt.has(a)}function jc(e,a){if("zero"in e&&!0===e.zero&&Rc(a,e.type)){const e=a.domain(),[t,c]=e,f=c<t,[r,n]=f?[c,t]:[t,c],d=[Math.min(0,r),Math.max(0,n)];a.domain(f?d.reverse():d)}}var Pc=t(2790),Ec=t(2791),Nc=t(2792),Mc=t(2793),Fc=t(1462);const xc={lab:Pc.a,hcl:Ec.a,"hcl-long":Ec.b,hsl:Nc.a,"hsl-long":Nc.b,cubehelix:Mc.b,"cubehelix-long":Mc.a,rgb:Fc.a};function _c(e,a){"interpolate"in e&&void 0!==e.interpolate&&"interpolate"in a&&a.interpolate(function(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return xc[e]}const{type:a,gamma:t}=e,c=xc[a];return void 0===t?c:c.gamma(t)}(e.interpolate))}var qc=t(2783);function Lc(e,a){return Lt.has(a)?e.filter(e=>"boolean"!=typeof e).map(e=>"string"==typeof e||"number"==typeof e?new Date(e):e):e.map(e=>"string"==typeof e||"boolean"==typeof e?Number(e):e)}function Vc(e){return e.map(e=>""+e)}function kc(e,a){if(e.length>0&&e.every(n))return e;if(2===e.length&&2===a.length&&e.filter(n).length>0){const[t,c]=e,[f,r]=a;let d=f;n(t)&&(d=t.valueOf()>f.valueOf()?t:f);let i=r;return n(c)&&(i=c.valueOf()<r.valueOf()?c:r),[d,i]}return a}function Bc(e){return e.filter(e=>null!=e)}function Yc(e){return e.map(e=>e instanceof Date||!x(e)?e:F(e))}function Gc(e,a,t){const{reverse:c,type:f}=e,r=function(e){return e?e=>e.concat().reverse():e=>e}(c);if(Rc(a,f)&&Jt(e)||function(e,a){return e&&qt.has(a)}(a,f)&&function(e){return qt.has(e.type)}(e))e.domain?2!==(n=e.domain).length||null!=n[0]&&null!=n[1]?a.domain(r(Yc(e.domain))):t&&a.domain(r(kc(Lc(Yc(e.domain),f),Lc(Bc(t),f)))):t&&a.domain(r(Lc(Bc(t),f)));else if(function(e,a){return e&&_t.has(a)}(a,f)&&function(e){return _t.has(e.type)}(e))if(e.domain){const c=Vc(Yc(e.domain));a.domain(r(t?function(e,a=[]){if(0===e.length)return a;const t=new Set(e);return e.concat(a.filter(e=>!t.has(e)))}(c,Vc(t)):c))}else t&&a.domain(r(Vc(t)));var n}function Kc(e){return"[object String]"!==Object.prototype.toString.call(e)}function Uc(e,a){const{range:t,domain:c}=e;if(void 0===t){if("scheme"in e&&void 0!==e.scheme){const{scheme:t}=e;let f,r,n;Jt(e)&&c&&(r=c.length),Kc(t)?(f=t.name,t.count&&(r=t.count),n=t.extent):f=t;const d=wt.resolveColorScheme({name:f,type:"sequential"});if(void 0!==d&&"sequential"===d.type){const e=ce(d);a.range(e.getColors(r,n))}}}else a.range(t)}function Wc(e,a){return Gc(a,e),Uc(a,e),function(e,a){"align"in e&&void 0!==e.align&&"align"in a&&a.align(e.align)}(a,e),function(e,a){"base"in e&&void 0!==e.base&&"base"in a&&a.base(e.base)}(a,e),function(e,a){"clamp"in e&&!0===e.clamp&&"clamp"in a&&a.clamp(e.clamp)}(a,e),function(e,a){"exponent"in e&&void 0!==e.exponent&&"exponent"in a&&a.exponent(e.exponent)}(a,e),_c(a,e),Sc(a,e),function(e,a){"padding"in e&&void 0!==e.padding&&"padding"in a&&a.padding(e.padding),"paddingInner"in e&&void 0!==e.paddingInner&&"paddingInner"in a&&a.paddingInner(e.paddingInner),"paddingOuter"in e&&void 0!==e.paddingOuter&&"paddingOuter"in a&&a.paddingOuter(e.paddingOuter)}(a,e),function(e,a){if("round"in e&&!0===e.round){const t=a;"round"in t?t.round(e.round):t.interpolate(qc.a)}}(a,e),jc(a,e),e}var Xc=function(e){const{range:a}=e;if(e.type===v&&void 0===a){const a="scheme"in e?e.scheme:void 0,t=wt.getCategoricalColorScaleResolver();let c;c=void 0===a?t({}):Kc(a)?t(a):t({name:a});const f=c;return Gc(e,f),f}return Wc(function(e){switch(e){case i:return Object(ac.a)();case s:return Object(tc.a)();case o:return Object(cc.a)();case l:return Object(cc.b)();case u:return Object(fc.b)();case h:return Object(rc.a)();case m:return Object(nc.a)();case p:return Object(dc.a)();case g:return Object(ic.a)();case v:return Object(sc.a)();case w:return Object(oc.b)();case D:return Object(oc.a)();case b:return Object(lc.a)();case y:throw new Error('"type = '+e+'" is not supported yet.');default:return Object(ac.a)()}}(e.type),e)};function zc(e){return e}function Hc(e){return"value"in e}function Jc(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}class $c{constructor({name:e,channelType:a,definition:t}){var c;if(Jc(this,"name",void 0),Jc(this,"channelType",void 0),Jc(this,"originalDefinition",void 0),Jc(this,"definition",void 0),Jc(this,"scale",void 0),Jc(this,"axis",void 0),Jc(this,"getValue",void 0),Jc(this,"encodeFunc",void 0),Jc(this,"formatValue",void 0),Jc(this,"encodeValue",(e,a)=>void 0!==a&&null==e?a:this.encodeFunc(e)),Jc(this,"encodeDatum",(e,a)=>void 0===a?this.encodeValue(this.getValueFromDatum(e)):this.encodeValue(this.getValueFromDatum(e),a)),Jc(this,"formatDatum",e=>this.formatValue(this.getValueFromDatum(e))),Jc(this,"getValueFromDatum",(e,a)=>{const t=this.getValue(e);return void 0!==a&&null==t?a:t}),Jc(this,"getDomainFromDataset",e=>{if(Object(f.c)(this.definition)){const{value:e}=this.definition;return[e]}const{type:a}=this.definition;if("nominal"===a||"ordinal"===a)return Array.from(new Set(e.map(e=>this.getValueFromDatum(e))));if("quantitative"===a){if(this.definition.scale&&"quantile"===this.definition.scale.type)return e.map(e=>this.getValueFromDatum(e));const a=Object(d.a)(e,e=>this.getValueFromDatum(e));return void 0===a[0]?[0,1]:a}if("temporal"===a){const a=Object(d.a)(e,e=>this.getValueFromDatum(e));return void 0===a[0]?[0,1]:a}return[]}),this.name=e,this.channelType=a,this.originalDefinition=t,this.definition=ec(this.channelType,t),this.getValue=(c=this.definition,Object(f.c)(c)?()=>c.value:void 0!==c.field?e=>Ct()(e,c.field):()=>{}),this.formatValue=Object(f.a)(this.definition)?Dt(this.definition):_,this.definition.scale){const e=Xc(this.definition.scale);this.encodeFunc=a=>e(a),this.scale=e}else{const{definition:e}=this;this.encodeFunc=Hc(e)?()=>e.value:zc}this.definition.axis&&(this.axis=new Tt(this))}getDomain(){return this.scale&&"domain"in this.scale?this.scale.domain():[]}setDomain(e){if(!1!==this.definition.scale&&this.scale&&!this.hasCategoricalColorScale()&&"domain"in this.scale){const a=this.definition.scale;Gc(a,this.scale,e),Uc(a,this.scale),jc(a,this.scale),Sc(a,this.scale)}return this}setDomainFromDataset(e){return this.scale&&"domain"in this.scale?this.setDomain(this.getDomainFromDataset(e)):this}getTitle(){return this.definition.title}isGroupBy(){if(Object(f.b)(this.definition)){const{type:e}=this.definition;return"Category"===this.channelType||"Text"===this.channelType||"Color"===this.channelType&&("nominal"===e||"ordinal"===e)||A(this.channelType)&&("nominal"===e||"ordinal"===e)}return!1}isX(){return O(this.channelType)}isXOrY(){return A(this.channelType)}isY(){return T(this.channelType)}hasCategoricalColorScale(){const e=this.definition.scale;return this.scale&&e&&e.type===v&&void 0===e.range}hasLegend(){return!1!==this.definition.legend}hasValueDefinition(){return Hc(this.definition)}hasFieldDefinition(){return"field"in this.definition}}function Qc(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}class Zc{constructor({channelTypes:e,encoding:a}){Qc(this,"encoding",void 0),Qc(this,"channelTypes",void 0),Qc(this,"channels",void 0),Qc(this,"legends",void 0),this.channelTypes=e,this.encoding=a;const t=this.getChannelNames(),c={};t.forEach(t=>{const f=a[t];if(Array.isArray(f)){const a=f;c[t]=a.map((a,c)=>new $c({channelType:e[t],definition:a,name:t+"["+c+"]"}))}else{const a=f;c[t]=new $c({channelType:e[t],definition:a,name:t})}}),this.channels=c,this.legends={},t.map(e=>this.channels[e]).forEach(e=>{if(r(e)&&e.hasLegend()&&Object(f.b)(e.definition)){const{field:a}=e.definition,t=e;this.legends[a]?this.legends[a].push(t):this.legends[a]=[t]}})}getChannelNames(){return Object.keys(this.channelTypes)}getChannelEncoders(){return this.getChannelNames().flatMap(e=>this.channels[e])}getGroupBys(){const e=this.getChannelEncoders().filter(e=>e.isGroupBy()).map(e=>e.definition.field);return Array.from(new Set(e))}createLegendItemsFactory(e){const a=this.getChannelEncoders().filter(e=>r(e)&&Object(f.c)(e.definition)).flat().concat(this.legends[e]);return e=>e.map(e=>({input:e,output:a.reduce((a,t)=>{const c=a;return c[t.name]=t.encodeValue(e),c},{})}))}getLegendInformation(e=[]){return Object.keys(this.legends).map(a=>{const t=this.legends[a],c=t[0],f=c.definition,r=this.createLegendItemsFactory(a);return"nominal"===f.type?{channelEncoders:t,createLegendItems:r,field:a,items:r(c.getDomainFromDataset(e)),type:f.type}:{channelEncoders:t,createLegendItems:r,field:a,type:f.type}})}setDomainFromDataset(e){return this.getChannelEncoders().forEach(a=>{a.setDomainFromDataset(e)}),this}hasLegend(){return Object.keys(this.legends).length>0}}function ef(e){const{channelTypes:a}=e,t="defaultEncoding"in e?a=>function(e,a){return{...e,...a}}(e.defaultEncoding,a):e.completeEncoding,f=(e={})=>new Zc({channelTypes:a,encoding:t(e)});return{channelTypes:a,create:f,createSelector:()=>Object(c.a)(e=>e,f),DEFAULT_ENCODING:t({})}}}}]);