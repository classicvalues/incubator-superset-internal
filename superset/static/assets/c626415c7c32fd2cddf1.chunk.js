(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{3389:function(n,t,r){},3480:function(n,t,r){"use strict";r.r(t);var e=r(0),a=r.n(e),o=r(2),i=r.n(o),u=function(n,t){let r,e;if(void 0===t)for(const t of n)null!=t&&(void 0===r?t>=t&&(r=e=t):(r>t&&(r=t),e<t&&(e=t)));else{let a=-1;for(let o of n)null!=(o=t(o,++a,n))&&(void 0===r?o>=o&&(r=e=o):(r>o&&(r=o),e<o&&(e=o)))}return[r,e]},c=Math.sqrt(50),l=Math.sqrt(10),f=Math.sqrt(2);function s(n,t,r){var e=(t-n)/Math.max(0,r),a=Math.floor(Math.log(e)/Math.LN10),o=e/Math.pow(10,a);return a>=0?(o>=c?10:o>=l?5:o>=f?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(o>=c?10:o>=l?5:o>=f?2:1)}var h=function(n,t){return n<t?-1:n>t?1:n>=t?0:NaN},g=function(n){let t=n,r=n;function e(n,t,e,a){for(null==e&&(e=0),null==a&&(a=n.length);e<a;){const o=e+a>>>1;r(n[o],t)<0?e=o+1:a=o}return e}return 1===n.length&&(t=(t,r)=>n(t)-r,r=function(n){return(t,r)=>h(n(t),r)}(n)),{left:e,center:function(n,r,a,o){null==a&&(a=0),null==o&&(o=n.length);const i=e(n,r,a,o-1);return i>a&&t(n[i-1],r)>-t(n[i],r)?i-1:i},right:function(n,t,e,a){for(null==e&&(e=0),null==a&&(a=n.length);e<a;){const o=e+a>>>1;r(n[o],t)>0?a=o:e=o+1}return e}}};const m=g(h),d=m.right;m.left,g((function(n){return null===n?NaN:+n})).center;var p=d,v=r(81);function y(n,t,r,e,a){var o=n*n,i=o*n;return((1-3*n+3*o-i)*t+(4-6*o+3*i)*r+(1+3*n+3*o-3*i)*e+i*a)/6}var b=function(n){return function(){return n}};function M(n,t){return function(r){return n+r*t}}function w(n){return 1==(n=+n)?N:function(t,r){return r-t?function(n,t,r){return n=Math.pow(n,r),t=Math.pow(t,r)-n,r=1/r,function(e){return Math.pow(n+e*t,r)}}(t,r,n):b(isNaN(t)?r:t)}}function N(n,t){var r=t-n;return r?M(n,r):b(isNaN(n)?t:n)}var O=function n(t){var r=w(t);function e(n,t){var e=r((n=Object(v.f)(n)).r,(t=Object(v.f)(t)).r),a=r(n.g,t.g),o=r(n.b,t.b),i=N(n.opacity,t.opacity);return function(t){return n.r=e(t),n.g=a(t),n.b=o(t),n.opacity=i(t),n+""}}return e.gamma=n,e}(1);function x(n){return function(t){var r,e,a=t.length,o=new Array(a),i=new Array(a),u=new Array(a);for(r=0;r<a;++r)e=Object(v.f)(t[r]),o[r]=e.r||0,i[r]=e.g||0,u[r]=e.b||0;return o=n(o),i=n(i),u=n(u),e.opacity=1,function(n){return e.r=o(n),e.g=i(n),e.b=u(n),e+""}}}x((function(n){var t=n.length-1;return function(r){var e=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=n[e],o=n[e+1],i=e>0?n[e-1]:2*a-o,u=e<t-1?n[e+2]:2*o-a;return y((r-e/t)*t,i,a,o,u)}})),x((function(n){var t=n.length;return function(r){var e=Math.floor(((r%=1)<0?++r:r)*t),a=n[(e+t-1)%t],o=n[e%t],i=n[(e+1)%t],u=n[(e+2)%t];return y((r-e/t)*t,a,o,i,u)}}));var j=function(n,t){t||(t=[]);var r,e=n?Math.min(t.length,n.length):0,a=t.slice();return function(o){for(r=0;r<e;++r)a[r]=n[r]*(1-o)+t[r]*o;return a}};function k(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function A(n,t){var r,e=t?t.length:0,a=n?Math.min(e,n.length):0,o=new Array(a),i=new Array(e);for(r=0;r<a;++r)o[r]=q(n[r],t[r]);for(;r<e;++r)i[r]=t[r];return function(n){for(r=0;r<a;++r)i[r]=o[r](n);return i}}var S=function(n,t){var r=new Date;return n=+n,t=+t,function(e){return r.setTime(n*(1-e)+t*e),r}},D=function(n,t){return n=+n,t=+t,function(r){return n*(1-r)+t*r}},E=function(n,t){var r,e={},a={};for(r in null!==n&&"object"==typeof n||(n={}),null!==t&&"object"==typeof t||(t={}),t)r in n?e[r]=q(n[r],t[r]):a[r]=t[r];return function(n){for(r in e)a[r]=e[r](n);return a}},R=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,X=new RegExp(R.source,"g");var C=function(n,t){var r,e,a,o=R.lastIndex=X.lastIndex=0,i=-1,u=[],c=[];for(n+="",t+="";(r=R.exec(n))&&(e=X.exec(t));)(a=e.index)>o&&(a=t.slice(o,a),u[i]?u[i]+=a:u[++i]=a),(r=r[0])===(e=e[0])?u[i]?u[i]+=e:u[++i]=e:(u[++i]=null,c.push({i:i,x:D(r,e)})),o=X.lastIndex;return o<t.length&&(a=t.slice(o),u[i]?u[i]+=a:u[++i]=a),u.length<2?c[0]?function(n){return function(t){return n(t)+""}}(c[0].x):function(n){return function(){return n}}(t):(t=c.length,function(n){for(var r,e=0;e<t;++e)u[(r=c[e]).i]=r.x(n);return u.join("")})},q=function(n,t){var r,e=typeof t;return null==t||"boolean"===e?b(t):("number"===e?D:"string"===e?(r=Object(v.a)(t))?(t=r,O):C:t instanceof v.a?O:t instanceof Date?S:k(t)?j:Array.isArray(t)?A:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?E:D)(n,t)},P=function(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}};function T(n){return+n}var H=[0,1];function I(n){return n}function z(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function F(n,t,r){var e=n[0],a=n[1],o=t[0],i=t[1];return a<e?(e=z(a,e),o=r(i,o)):(e=z(e,a),o=r(o,i)),function(n){return o(e(n))}}function J(n,t,r){var e=Math.min(n.length,t.length)-1,a=new Array(e),o=new Array(e),i=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++i<e;)a[i]=z(n[i],n[i+1]),o[i]=r(t[i],t[i+1]);return function(t){var r=p(n,t,1,e)-1;return o[r](a[r](t))}}function L(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function U(){var n,t,r,e,a,o,i=H,u=H,c=q,l=I;function f(){var n,t,r,c=Math.min(i.length,u.length);return l!==I&&(n=i[0],t=i[c-1],n>t&&(r=n,n=t,t=r),l=function(r){return Math.max(n,Math.min(t,r))}),e=c>2?J:F,a=o=null,s}function s(t){return isNaN(t=+t)?r:(a||(a=e(i.map(n),u,c)))(n(l(t)))}return s.invert=function(r){return l(t((o||(o=e(u,i.map(n),D)))(r)))},s.domain=function(n){return arguments.length?(i=Array.from(n,T),f()):i.slice()},s.range=function(n){return arguments.length?(u=Array.from(n),f()):u.slice()},s.rangeRound=function(n){return u=Array.from(n),c=P,f()},s.clamp=function(n){return arguments.length?(l=!!n||I,f()):l!==I},s.interpolate=function(n){return arguments.length?(c=n,f()):c},s.unknown=function(n){return arguments.length?(r=n,s):r},function(r,e){return n=r,t=e,f()}}function V(){return U()(I,I)}function B(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}var W=r(103);function G(n,t,r,e){var a,o=function(n,t,r){var e=Math.abs(t-n)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),o=e/a;return o>=c?a*=10:o>=l?a*=5:o>=f&&(a*=2),t<n?-a:a}(n,t,r);switch((e=Object(W.d)(null==e?",f":e)).type){case"s":var i=Math.max(Math.abs(n),Math.abs(t));return null!=e.precision||isNaN(a=Object(W.f)(o,i))||(e.precision=a),Object(W.c)(e,i);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(a=Object(W.g)(o,Math.max(Math.abs(n),Math.abs(t))))||(e.precision=a-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(a=Object(W.e)(o))||(e.precision=a-2*("%"===e.type))}return Object(W.a)(e)}function K(n){var t=n.domain;return n.ticks=function(n){var r=t();return function(n,t,r){var e,a,o,i,u=-1;if(r=+r,(n=+n)===(t=+t)&&r>0)return[n];if((e=t<n)&&(a=n,n=t,t=a),0===(i=s(n,t,r))||!isFinite(i))return[];if(i>0)for(n=Math.ceil(n/i),t=Math.floor(t/i),o=new Array(a=Math.ceil(t-n+1));++u<a;)o[u]=(n+u)*i;else for(i=-i,n=Math.ceil(n*i),t=Math.floor(t*i),o=new Array(a=Math.ceil(t-n+1));++u<a;)o[u]=(n+u)/i;return e&&o.reverse(),o}(r[0],r[r.length-1],null==n?10:n)},n.tickFormat=function(n,r){var e=t();return G(e[0],e[e.length-1],null==n?10:n,r)},n.nice=function(r){null==r&&(r=10);var e,a,o=t(),i=0,u=o.length-1,c=o[i],l=o[u],f=10;for(l<c&&(a=c,c=l,l=a,a=i,i=u,u=a);f-- >0;){if((a=s(c,l,r))===e)return o[i]=c,o[u]=l,t(o);if(a>0)c=Math.floor(c/a)*a,l=Math.ceil(l/a)*a;else{if(!(a<0))break;c=Math.ceil(c*a)/a,l=Math.floor(l*a)/a}e=a}return n},n}function Q(){return(Q=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n}).apply(this,arguments)}const Y=["#313695","#4575b4","#74add1","#abd9e9","#fee090","#fdae61","#f46d43","#d73027"],Z={className:i.a.string,width:i.a.number,height:i.a.number,data:i.a.arrayOf(i.a.shape({y:i.a.number})).isRequired,bands:i.a.number,colors:i.a.arrayOf(i.a.string),colorScale:i.a.string,mode:i.a.string,offsetX:i.a.number,title:i.a.string,yDomain:i.a.arrayOf(i.a.number)},$={className:"",width:800,height:20,bands:Y.length>>1,colors:Y,colorScale:"series",mode:"offset",offsetX:0,title:"",yDomain:void 0};class _ extends a.a.PureComponent{componentDidMount(){this.drawChart()}componentDidUpdate(){this.drawChart()}componentWillUnmount(){this.canvas=null}drawChart(){if(this.canvas){const{data:n,yDomain:t,width:r,height:e,bands:a,colors:o,colorScale:i,offsetX:c,mode:l}=this.props,f="change"===i?n.map(t=>Q({},t,{y:t.y-n[0].y})):n,s=this.canvas.getContext("2d");s.imageSmoothingEnabled=!1,s.clearRect(0,0,r,e),s.setTransform(1,0,0,1,0,0),s.translate(.5,.5);const h=r/f.length,g=Math.floor(Math.max(0,-c/h)),m=Math.floor(Math.min(f.length,g+r/h));if(g>f.length)return;const[d,p]=t||u(f,n=>n.y),v=function n(){var t=V();return t.copy=function(){return L(t,n())},B.apply(t,arguments),K(t)}().domain([0,Math.max(-d,p)]).range([0,e]);let y,b,M=!1;for(let n=0;n<a;n+=1){s.fillStyle=o[a+n],b=(n+1-a)*e,v.range([a*e+b,b]);for(let n=g;n<m;n++)y=f[n].y,y<=0?M=!0:void 0!==y&&s.fillRect(c+n*h,v(y),h+1,v(0)-v(y))}if(M){"offset"===l&&(s.translate(0,e),s.scale(1,-1));for(let n=0;n<a;n++){s.fillStyle=o[a-n-1],b=(n+1-a)*e,v.range([a*e+b,b]);for(let n=g;n<m;n++)y=f[n].y,y>=0||s.fillRect(c+n*h,v(-y),h+1,v(0)-v(-y))}}}}render(){const{className:n,title:t,width:r,height:e}=this.props;return(a.a.createElement("div",{className:"horizon-row "+n},a.a.createElement("span",{className:"title"},t),a.a.createElement("canvas",{ref:n=>{this.canvas=n},width:r,height:e})))}}_.propTypes=Z,_.defaultProps=$;var nn=_;r(3389);const tn={className:i.a.string,width:i.a.number,height:i.a.number,seriesHeight:i.a.number,data:i.a.arrayOf(i.a.shape({key:i.a.arrayOf(i.a.string),values:i.a.arrayOf(i.a.shape({y:i.a.number}))})).isRequired,bands:i.a.number,colors:i.a.arrayOf(i.a.string),colorScale:i.a.string,mode:i.a.string,offsetX:i.a.number},rn={className:"",width:800,height:600,seriesHeight:20,bands:Math.floor(Y.length/2),colors:Y,colorScale:"series",mode:"offset",offsetX:0};class en extends a.a.PureComponent{render(){const{className:n,width:t,height:r,data:e,seriesHeight:o,bands:i,colors:c,colorScale:l,mode:f,offsetX:s}=this.props;let h;if("overall"===l){const n=e.reduce((n,t)=>n.concat(t.values),[]);h=u(n,n=>n.y)}return(a.a.createElement("div",{className:"superset-legacy-chart-horizon "+n,style:{height:r}},e.map(n=>a.a.createElement(nn,{key:n.key,width:t,height:o,title:n.key.join(", "),data:n.values,bands:i,colors:c,colorScale:l,mode:f,offsetX:s,yDomain:h}))))}}en.propTypes=tn,en.defaultProps=rn;t.default=en}}]);